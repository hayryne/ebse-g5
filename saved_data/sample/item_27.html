<!DOCTYPE html><html><div class="item-title">
        Item 27
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 HACK: We actually need BlockMissingException, but that is not available
 in all hadoop versions.
              </div></li><li><div>
                 We have an IOException other than a BlockMissingException.
              </div></li><li><div>
                 A BlockMissingException indicates a temporary error,
 not a corruption. Re-throw this exception.
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HIVE-2660 Need better exception handling in RCFile tolerate corruptions
                </div><div><b>message:</b> HIVE-2660 Need better exception handling in RCFile tolerate corruptions
mode (Ramkumar Vadali via namit)



git-svn-id: https://svn.apache.org/repos/asf/hive/trunk@1215226 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Need better exception handling in RCFile tolerate corruptions mode
                </div><div><b>description:</b> The exception handling in nextKeyValueTolerateCorruptions treats IOException as follows:
 - if EOFException, corrupt, can be tolerated
 - If CheckSumException, corrupt, can be tolerated
 - else not a corruption, re-throw

But the compression code can also throw IOException in case of corruption, which will get re-thrown in this case.

The correct way of handling IOException is:
 - if BlockMissingException, re-throw.
 - if not BlockMissingException -&gt; corruption, can be tolerated
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                +1

              </div></li><li><div>
                Committed. Thanks Ram
              </div></li><li><div>
                Integrated in Hive-trunk-h0.21 #1153 (See [https://builds.apache.org/job/Hive-trunk-h0.21/1153/])
    HIVE-2660 Need better exception handling in RCFile tolerate corruptions
mode (Ramkumar Vadali via namit)

namit : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1215226
Files : 
* /hive/trunk/ql/src/java/org/apache/hadoop/hive/ql/io/RCFile.java

              </div></li><li><div>
                This issue is closed now. It was released with the fix in 0.9.0. If there is a problem, please open a new jira and link this one with that.
              </div></li></ol></div></div></html>