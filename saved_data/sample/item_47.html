<!DOCTYPE html><html><div class="item-title">
        Item 47
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [BEAM-10671] Add more documentation for EnvironmentOptions.
                </div><div><b>message:</b> [BEAM-10671] Add more documentation for EnvironmentOptions.

                </div><div><b>label:</b> documentation
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Add environment configuration fields as first-class pipeline options
                </div><div><b>description:</b> The pipeline option --environment_config has completely different usages depending on the value of --environment_type. This is confusing for the user and hard to check. Additionally, --environment_config is a JSON blob for --environment_type=PROCESS. This JSON blob is a pain to escape and pass around compared to a collection of flat strings.

We should replace --environment_config with first-class / top-level pipeline options for each environment type:

DOCKER

--environment_container_image

PROCESS

--environment_os

--environment_architecture

--environment_variables

EXTERNAL

--environment_service_address

LOOPBACK

(none)

This way we can validate that the user is configuring these options correctly (ie give a warning or error if they use options that do not apply to their chosen --environment_type).

We can deprecate the --environment_config option, logging a warning until removing this option altogether in a future Beam release.

[https://beam.apache.org/documentation/runtime/sdk-harness-config/]
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Good idea. Not sure whether we need to prefix all the parameters with {{environment_}}. Maybe use the environment name as the prefix, e.g. {{docker_container_image}} vs {{environment_container_image}}.
              </div></li><li><div>
                Implemented in Python with backwards-compatibility via [https://github.com/apache/beam/pull/12576.] Still needs Java and Go support.
              </div></li><li><div>
                This issue is assigned but has not received an update in 30 days so it has been labeled "stale-assigned". If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.
              </div></li><li><div>
                This issue was marked "stale-assigned" and has not received a public comment in 7 days. It is now automatically unassigned. If you are still working on it, you can assign it to yourself again. Please also give an update about the status of the work.
              </div></li><li><div>
                This issue is P2 but has been unassigned without any comment for 60 days so it has been labeled "stale-P2". If this issue is still affecting you, we care! Please comment and remove the label. Otherwise, in 14 days the issue will be moved to P3.

Please see https://beam.apache.org/contribute/jira-priorities/ for a detailed explanation of what these priorities mean.

              </div></li><li><div>
                This issue was marked "stale-P2" and has not received a public comment in 14 days. It is now automatically moved to P3. If you are still affected by it, you can comment and move it back to P2.
              </div></li><li><div>
                This issue is assigned but has not received an update in 30 days so it has been labeled "stale-assigned". If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.
              </div></li><li><div>
                This issue was marked "stale-assigned" and has not received a public comment in 7 days. It is now automatically unassigned. If you are still working on it, you can assign it to yourself again. Please also give an update about the status of the work.
              </div></li><li><div>
                Marking this as resolved since it is implemented in both Python and Java now. The Go SDK can be tracked separately. BEAM-12090
              </div></li></ol></div></div></html>