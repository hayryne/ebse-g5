<!DOCTYPE html><html><div class="item-title">
        Item 26
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HBASE-14474 Addendum closes connection in writeRequest() outside synchronized block
                </div><div><b>message:</b> HBASE-14474 Addendum closes connection in writeRequest() outside synchronized block

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li><li><div><div><b>summary:</b> DeadLock in RpcClientImpl.Connection.close() 
                </div><div><b>description:</b> From a code base that contains 1.1.2 + HBASE-14449 + HBASE-14241 and HBASE-14313 we can reproduce a dead lock with serverKilling CM easily: 

{code}
Found one Java-level deadlock:
=============================
"htable-pool1-t63":
  waiting to lock monitor 0x0000000001cb1688 (object 0x00000000806ef150, a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection),
  which is held by "IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root"
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
  waiting to lock monitor 0x0000000001cb1738 (object 0x00000000806f0c60, a java.lang.Object),
  which is held by "htable-pool1-t63"

Java stack information for the threads listed above:
===================================================
"htable-pool1-t63":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:819)
	- waiting to lock &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.writeRequest(RpcClientImpl.java:906)
	- locked &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.tracedWriteRequest(RpcClientImpl.java:856)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl.call(RpcClientImpl.java:1192)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient.callBlockingMethod(AbstractRpcClient.java:213)
	at org.apache.hadoop.hbase.ipc.AbstractRpcClient$BlockingRpcChannelImplementation.callBlockingMethod(AbstractRpcClient.java:287)
	at org.apache.hadoop.hbase.protobuf.generated.ClientProtos$ClientService$BlockingStub.multi(ClientProtos.java:32699)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:129)
	at org.apache.hadoop.hbase.client.MultiServerCallable.call(MultiServerCallable.java:54)
	at org.apache.hadoop.hbase.client.RpcRetryingCaller.callWithoutRetries(RpcRetryingCaller.java:200)
	at org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl$SingleServerRequestRunnable.run(AsyncProcess.java:708)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
"IPC Client (1403704789) connection to enis-hbase-sep-21-6.novalocal/172.22.107.106:16020 from root":
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.close(RpcClientImpl.java:832)
	- waiting to lock &lt;0x00000000806f0c60&gt; (a java.lang.Object)
	- locked &lt;0x00000000806ef150&gt; (a org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection)
	at org.apache.hadoop.hbase.ipc.RpcClientImpl$Connection.run(RpcClientImpl.java:574)
{code}
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                I think this is due to the addendum for HBASE-14313:
{code}
-          markClosed(e);
+          if (markClosed(e)) {
+            close();
+          }
{code}

Since now we are calling close() while holding the lock for {{this.outLock}} and waiting on the lock for {{this}}, and the other thread is in {{close()}} while holding the lock for {{this}} and waiting for the lock for {{this.outLock}}. 

[~eclark], [~saint.ack@gmail.com] I have to understand the full context at HBASE-14313 for attempting a fix here. Any suggestions? 
              </div></li><li><div>
                I think this patch should fix the deadlock. It does not revert HBASE-14313. We release the {{outLock}} before calling {{close()}} in {{writeRequest()}}.

Will try this in the cluster. 
              </div></li><li><div>
                {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12762027/hbase-14474_v1.patch
  against master branch at commit 5e26ae043dde217aeda29d9b67e290728adade89.
  ATTACHMENT ID: 12762027

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HBASE-Build/15704//console

This message is automatically generated.
              </div></li><li><div>
                v1 would not work since markClosed() is also synchronized. 
v2 patch reverts 14313 (not the addendum) and reverts some parts of  HBASE-14449. 

markClosed() is still synchronized since it calls notifyAll(). As in HBASE-14449,  the Connection.run() is the main responsible party to call {{close()}} from all remaining parts when {{markClosed()}} is invoked ({{readResponse()}}, etc.) if the Connection thread have started after {{setupIOStreams}}. {{writeRequest()}} still calls {{close()}}, but not sure it is needed anymore. 
              </div></li><li><div>
                On second thought, calling close() without checking markClosed() result in {{setupIOStreams}} is safer since we have to ensure that there is at least one call to {{close()}}. v3 patch reverts those changes from v2.  
              </div></li><li><div><div><b>body:</b> {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12762044/hbase-14474_v3.patch
  against master branch at commit 5e26ae043dde217aeda29d9b67e290728adade89.
  ATTACHMENT ID: 12762044

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:red}-1 tests included{color}.  The patch doesn't appear to include any new or modified tests.
                        Please justify why no new tests are needed for this patch.
                        Also please list what manual steps were performed to verify this patch.

    {color:green}+1 hadoop versions{color}. The patch compiles with all supported hadoop versions (2.4.0 2.4.1 2.5.0 2.5.1 2.5.2 2.6.0 2.7.0 2.7.1)

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 protoc{color}.  The applied patch does not increase the total number of protoc compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 checkstyle{color}.  The applied patch does not increase the total number of checkstyle errors

    {color:green}+1 findbugs{color}.  The patch does not introduce any  new Findbugs (version 2.0.3) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 lineLengths{color}.  The patch does not introduce lines longer than 100

  {color:green}+1 site{color}.  The mvn post-site goal succeeds with this patch.

     {color:red}-1 core tests{color}.  The patch failed these unit tests:
     

     {color:red}-1 core zombie tests{color}.  There are 6 zombie test(s): 	at org.apache.hadoop.hbase.regionserver.TestHRegion.testFlushCacheWhileScanning(TestHRegion.java:3756)

Test results: https://builds.apache.org/job/PreCommit-HBASE-Build/15706//testReport/
Release Findbugs (version 2.0.3) 	warnings: https://builds.apache.org/job/PreCommit-HBASE-Build/15706//artifact/patchprocess/newFindbugsWarnings.html
Checkstyle Errors: https://builds.apache.org/job/PreCommit-HBASE-Build/15706//artifact/patchprocess/checkstyle-aggregate.html

  Console output: https://builds.apache.org/job/PreCommit-HBASE-Build/15706//console

This message is automatically generated.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> That is pretty bad if the jvm itself can detect the deadlock. Good one [~enis]

Looks like lots of cooks recently in the close of a connection. I said I'd write a test over in HBASE-14313 but didn't (all talk!). We need one it looks like given all the machinations around close that have gone in w/o test?

HBASE-14313 addendum moved the close back in under the lock.... I missed that in review (should have had a broader context looking at the patch)... but it ran conditionally. Then HBASE-14449 changed it so we always ran the close code whether it had been run already or not which made the lock up more likely.

The original Jurriaan Mous code didn't do the close....

900	          // We set the value inside the synchronized block, this way the next in line
901	          //  won't even try to write
902	          shouldCloseConnection.set(true);
903	          writeException = e;

On your patch,

917	          //  won't even try to write. Otherwise we might miss a call in the calls map?
918	          shouldCloseConnection.set(true);

... you don't want to call markClose instead of the above?

Agree with the undoings of HBASE-14449.

Patch looks good.

[~eclark] Why you not seeing this lockup?  Because you don't have HBASE-14449?

Nice one [~enis] 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                bq. ... you don't want to call markClose instead of the above?
Yes. markClose() is synchronized since it is doing the {{nofityAll()}}, we cannot call it while holding the {{outLock}} due to deadlock. The patch does {{shouldCloseConnection.set(true);}} there, and immediately after we call markClose() and close() outside of the outLock monitor: 
{code}
     if (writeException != null) {
        if (markClosed(writeException)) {
          close();
        }
      }
{code}

bq. Elliott Clark Why you not seeing this lockup? Because you don't have HBASE-14449?
This is relatively easy to reproduce with CM running. We saw it in ITLAV runs where the map task times out stuck in the deadlock.
              </div></li><li><div>
                Ok. Patch LGTM. Working on your cluster [~enis] ? +1 Want me to do up a test? Seems like it would be easy to make a deadlock in current code base.
              </div></li><li><div>
                bq. Working on your cluster Enis Soztutar ? +1 Want me to do up a test? Seems like it would be easy to make a deadlock in current code base.
Yep, I was able to write 30M rows from ITLAV which was timing out previously. 
Let me commit it then. Extra testing won't hurt though :)
              </div></li><li><div>
                I have committed this. Thanks Stack for taking a look. 
              </div></li><li><div>
                FAILURE: Integrated in HBase-1.0 #1057 (See [https://builds.apache.org/job/HBase-1.0/1057/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev e3b2608819f51c296b3e5108f58be1d50a9a8ed5)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-TRUNK #6842 (See [https://builds.apache.org/job/HBase-TRUNK/6842/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev 32f49fa7fc2bcad0004e249887cc1973becc98db)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                If I read the code correctly, the call to shouldCloseConnection.set(true) around line 919 would result in markClosed() outside the synchronized block returning false because shouldCloseConnection is true by that time.

Hopefully attached addendum does what Enis intended to do originally.

I ran the addendum through test suite which passed.
              </div></li><li><div>
                SUCCESS: Integrated in HBase-1.2-IT #169 (See [https://builds.apache.org/job/HBase-1.2-IT/169/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev ff4d93e59d7393918eeedf12108fb4c371bf0402)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-1.1 #680 (See [https://builds.apache.org/job/HBase-1.1/680/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev 77e2bc95c6dc56c5a579e2b18c15a8a2ffe13cc7)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div><div><b>body:</b> bq. If I read the code correctly, the call to shouldCloseConnection.set(true) around line 919 would result in markClosed() outside the synchronized block returning false because shouldCloseConnection is true by that time.
Right. But we cannot skip calling shouldCloseConnection in that synchronized block I think. The problem is that writeRequest() is called by different threads and the logic there corresponding to this comment: 
{code}
          // We set the value inside the synchronized block, this way the next in line
          //  won't even try to write. Otherwise we might miss a call in the calls map?
{code}
means that the assumption is that before giving the outLock, we have to ensure that no more calls can be added to the {{calls}} map. 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                FAILURE: Integrated in HBase-1.2 #201 (See [https://builds.apache.org/job/HBase-1.2/201/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev ff4d93e59d7393918eeedf12108fb4c371bf0402)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                Alright then.

How about addendum v2 ?
              </div></li><li><div>
                FAILURE: Integrated in HBase-1.3-IT #183 (See [https://builds.apache.org/job/HBase-1.3-IT/183/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev bc1a03d9b4b2c64c9fe0c32fdc65174c0edf80bf)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                +1 for addendum v2. I wonder what would happen if we happen to call close() without markClosed(). Since it seems that the markClose() call here will immediately return since we already manually set shouldCloseConnection. 
              </div></li><li><div>
                FAILURE: Integrated in HBase-1.3 #206 (See [https://builds.apache.org/job/HBase-1.3/206/])
HBASE-14474 DeadLock in RpcClientImpl.Connection.close() (enis: rev bc1a03d9b4b2c64c9fe0c32fdc65174c0edf80bf)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                Can we not commit any more changes here without unit test that first demos the problem and proves the fix or the patch is run on cluster with loading that in the past produced the issue?
              </div></li><li><div>
                Yeah sorry about that. We are trying to unblock testing on our end which was hitting this in ITLAV and couple of others. Now after the main fix, some other test is also getting ConnectionClosingExceptions that we are trying to debug what is going on. The addendum was found due to tha t. 
I'll try to add some unit testing in this area.  
              </div></li><li><div>
                bq. Now after the main fix, some other test is also getting ConnectionClosingExceptions that we are trying to debug what is going on. The addendum was found due to tha t. 

I it is being driven by actual test/findings, that is totally different. Trying to follow-along, the above came across as postulate in an arcane area that has already been hacked on a bunch... Thanks.
              </div></li><li><div>
                FAILURE: Integrated in HBase-TRUNK #6844 (See [https://builds.apache.org/job/HBase-TRUNK/6844/])
HBASE-14474 Addendum closes connection in writeRequest() outside synchronized block (tedyu: rev dc2aa7e513a5c9ca1cd748b5d28a5109b37dee45)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java
HBASE-14474 Revert addendum (tedyu: rev 414a7b18b12bdda51effcc7074c6134364fedf42)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                These two commits were made against this issue:

commit 414a7b18b12bdda51effcc7074c6134364fedf42
Author: tedyu &lt;yuzhihong@gmail.com&gt;
Date:   Fri Sep 25 15:48:08 2015 -0700

    HBASE-14474 Revert addendum

commit dc2aa7e513a5c9ca1cd748b5d28a5109b37dee45
Author: tedyu &lt;yuzhihong@gmail.com&gt;
Date:   Fri Sep 25 15:18:21 2015 -0700

    HBASE-14474 Addendum closes connection in writeRequest() outside synchronized block

... but there is no note in the  JIRA.  There is no comment as to why the revert (it looks like it broke unit tests).

Not talking out loud makes it hard to keep up. I just wasted a bunch of time trying to bisect where master unit tests got broke.
              </div></li><li><div>
                Since yesterday afternoon, into the night, our hbase team tried to find root cause for several failing system tests.
I was working on multiple internal tickets.

I should have commented on this JIRA for the revert.
The reason was not due to failing unit test. I ran both addendum 1 and 2 through test suite locally. They both passed.

The revert is to gain consensus on the efficacy of addendum 2 (the first commit was made between Enis' +1 and Stack's comment).

I am confident in the correctness of addendum 2.
              </div></li><li><div><div><b>body:</b> Re-opening till we decide on the next steps and more testing. 
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                Any conclusion here? This is last blocker for 1.1.3.
              </div></li><li><div>
                What is the current state of your tests [~enis] / [~ted_yu]?

I tried to follow the above and have concerns. If these changes didn't fix the tests or introduced new problems I prefer we back everything out and try again once we have a complete solution. Or, if tests are passing, let's resolve this. 

              </div></li><li><div>
                The v3 patch fixes the above deadlock case in our testing and the test from HBASE-14535. The deadlock is easily reproducible with either running ITLAV with CM or running the test at HBASE-14535 10 times. ITLAV with CM also passes on top of v3+addendum2. 
v3 patch makes it so that {{close()}} is not called anymore from the writeRequest() failure. Instead close() is always called from {{Connection#run()}}. Originally, HBASE-14313 made it so that {{close()}} is explicitly called. However, neither our test rig nor HBASE-14535 can reproduce an issue with only v3 but not with addendum2. However, after reading the code, we seem to be closing the connection, but the extra {{close()}} call will not hurt. I believe we should commit the addendum2 as well, and resolve this issue. 
              </div></li><li><div>
                bq.  I believe we should commit the addendum2 as well, and resolve this issue.

Ok, +1
              </div></li><li><div>
                Thanks. I've pushed the addendum patch to 1.0+, 
              </div></li><li><div>
                FAILURE: Integrated in HBase-1.0 #1088 (See [https://builds.apache.org/job/HBase-1.0/1088/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 0ac70bfe4bc88b271f415347b1e31aaf7a2a87e6)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-TRUNK #6921 (See [https://builds.apache.org/job/HBase-TRUNK/6921/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 6076ed2a127705ab9301597ee22b1bf2bbbec991)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-1.1 #711 (See [https://builds.apache.org/job/HBase-1.1/711/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev f2b059ea7a36866079f1babc13d2d561bcf4e42b)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                SUCCESS: Integrated in HBase-1.2-IT #217 (See [https://builds.apache.org/job/HBase-1.2-IT/217/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 2040d8dfc2a6c3910336a903b21a122ac025352e)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                SUCCESS: Integrated in HBase-1.3-IT #244 (See [https://builds.apache.org/job/HBase-1.3-IT/244/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 6dc33cad75c9581a5008c78b8c0f8181b3c93deb)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-1.2 #266 (See [https://builds.apache.org/job/HBase-1.2/266/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 2040d8dfc2a6c3910336a903b21a122ac025352e)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                FAILURE: Integrated in HBase-1.3 #274 (See [https://builds.apache.org/job/HBase-1.3/274/])
HBASE-14474 Addendum closes connection in writeRequest() outside (enis: rev 6dc33cad75c9581a5008c78b8c0f8181b3c93deb)
* hbase-client/src/main/java/org/apache/hadoop/hbase/ipc/RpcClientImpl.java

              </div></li><li><div>
                Bulk closing 1.1.3 issues.
              </div></li></ol></div></div></html>