<!DOCTYPE html><html><div class="item-title">
        Item 321
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Use executor id as int type in the YARN scheduler (#1342)
                </div><div><b>message:</b> Use executor id as int type in the YARN scheduler (#1342)


                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> Should container's id be of type Integer?
                </div><div><b>body:</b> Currently a container's `id` is of `String` type in `PackingPlan` https://github.com/twitter/heron/blob/master/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java#L201. However it is assumed to be of type Integer in most places in the code. For e.g.
1. https://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java#L363
2. https://github.com/twitter/heron/blob/master/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java#L43
3. https://github.com/twitter/heron/blob/master/heron/proto/scheduler.proto#L29

As a result there is a lot of Integer-String conversion going around in the code base. IMO this clutter and unseen errors could be minimized if we accept container's Id to be an Integer. Thoughts?

                </div></div></li><li><div><div><b>title:</b> Should container's id be of type Integer?
                </div><div><b>body:</b> Currently a container's `id` is of `String` type in `PackingPlan` https://github.com/twitter/heron/blob/master/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java#L201. However it is assumed to be of type Integer in most places in the code. For e.g.
1. https://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java#L363
2. https://github.com/twitter/heron/blob/master/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java#L43
3. https://github.com/twitter/heron/blob/master/heron/proto/scheduler.proto#L29

As a result there is a lot of Integer-String conversion going around in the code base. IMO this clutter and unseen errors could be minimized if we accept container's Id to be an Integer. Thoughts?

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Should container's id be of type Integer?
                </div><div><b>body:</b> Currently a container's `id` is of `String` type in `PackingPlan` https://github.com/twitter/heron/blob/master/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java#L201. However it is assumed to be of type Integer in most places in the code. For e.g.
1. https://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java#L363
2. https://github.com/twitter/heron/blob/master/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java#L43
3. https://github.com/twitter/heron/blob/master/heron/proto/scheduler.proto#L29

As a result there is a lot of Integer-String conversion going around in the code base. IMO this clutter and unseen errors could be minimized if we accept container's Id to be an Integer. Thoughts?

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Should container's id be of type Integer?
                </div><div><b>body:</b> Currently a container's `id` is of `String` type in `PackingPlan` https://github.com/twitter/heron/blob/master/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java#L201. However it is assumed to be of type Integer in most places in the code. For e.g.
1. https://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java#L363
2. https://github.com/twitter/heron/blob/master/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java#L43
3. https://github.com/twitter/heron/blob/master/heron/proto/scheduler.proto#L29

As a result there is a lot of Integer-String conversion going around in the code base. IMO this clutter and unseen errors could be minimized if we accept container's Id to be an Integer. Thoughts?

                </div></div></li><li><div><div><b>title:</b> Should container's id be of type Integer?
                </div><div><b>body:</b> Currently a container's `id` is of `String` type in `PackingPlan` https://github.com/twitter/heron/blob/master/heron/spi/src/java/com/twitter/heron/spi/packing/PackingPlan.java#L201. However it is assumed to be of type Integer in most places in the code. For e.g.
1. https://github.com/twitter/heron/blob/master/heron/packing/src/java/com/twitter/heron/packing/roundrobin/RoundRobinPacking.java#L363
2. https://github.com/twitter/heron/blob/master/heron/schedulers/src/java/com/twitter/heron/scheduler/local/LocalScheduler.java#L43
3. https://github.com/twitter/heron/blob/master/heron/proto/scheduler.proto#L29

As a result there is a lot of Integer-String conversion going around in the code base. IMO this clutter and unseen errors could be minimized if we accept container's Id to be an Integer. Thoughts?

                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                integer being type of container's id looks reasonable to me. any reason why `String` type shows up occasionally? maybe this happened during some refactor before?

              </div></li><li><div><div><b>body:</b> +1 this has bothered me as well.

Semi-related grievance: Another area for potential cleanup is in the instance plan id, which is colon delimited string containing things like `global_task_id` and `component_index`. It gets parsed out on the executor to create the instance id. It's fine to use these indexes as part of a descriptive string id, but they should never be expected and parsed out. They should instead become first class entities of the component plan.

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> I will be great if we could do this cleanup before it is too late - IMO.

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Use executor id as int type in the YARN scheduler
                </div><div><b>body:</b> These fixes the YARN scheduler and is related to container id type conversion, see #1295 and #1329.

                </div></div></li><li><div><div><b>title:</b> Use executor id as int type in the YARN scheduler
                </div><div><b>body:</b> These fixes the YARN scheduler and is related to container id type conversion, see #1295 and #1329.

                </div></div></li><li><div><div><b>title:</b> Use executor id as int type in the YARN scheduler
                </div><div><b>body:</b> These fixes the YARN scheduler and is related to container id type conversion, see #1295 and #1329.

                </div></div></li><li><div><div><b>title:</b> Use executor id as int type in the YARN scheduler
                </div><div><b>body:</b> These fixes the YARN scheduler and is related to container id type conversion, see #1295 and #1329.

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                üëç 

              </div></li><li><div>
                üëç 

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>