<!DOCTYPE html><html><div class="item-title">
        Item 303
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Additional tests to compare the accuracy of different convolution related operators with CuDNN
              </div></li><li><div>
                !/usr/bin/bash
-------------------------------------------------------------

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-------------------------------------------------------------
              </div></li><li><div>
                 N = Number of images, C = number of channels, H = height, W = width
 F = number of filters, Hf = filter height, Wf = filter width
              </div></li><li><div>
                 Running a test in GPU mode
              </div></li><li><div>
                 Generating the data
              </div></li><li><div>
                 Running a test in CPU mode
              </div></li><li><div>
                 Comparing the CPU vs GPU results to make sure they are the same
              </div></li><li><div>
                !/usr/bin/bash
-------------------------------------------------------------

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-------------------------------------------------------------
              </div></li><li><div>
                 Downloads the jcuda jars
              </div></li><li><div>
                 N = Number of images, C = number of channels, H = height, W = width
 F = number of filters, Hf = filter height, Wf = filter width
              </div></li><li><div>
                 Running a test in GPU mode
              </div></li><li><div>
                 Generating the data
              </div></li><li><div>
                 Running a test in CPU mode
              </div></li><li><div>
                 Comparing the CPU vs GPU results to make sure they are the same
              </div></li><li><div>
                !/usr/bin/bash
-------------------------------------------------------------

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-------------------------------------------------------------
              </div></li><li><div>
                 Downloads the jcuda jars
              </div></li><li><div>
                 N = Number of images, C = number of channels, H = height, W = width
 F = number of filters, Hf = filter height, Wf = filter width
              </div></li><li><div>
                 Running a test in GPU mode
              </div></li><li><div>
                 Generating the data
              </div></li><li><div>
                 Running a test in CPU mode
              </div></li><li><div>
                 Comparing the CPU vs GPU results to make sure they are the same
              </div></li><li><div>
                !/usr/bin/bash
-------------------------------------------------------------

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-------------------------------------------------------------
              </div></li><li><div>
                 Downloads the jcuda jars
              </div></li><li><div>
                 Running a test in GPU mode
              </div></li><li><div>
                 Generating the data
              </div></li><li><div>
                 N = Number of images, C = number of channels, H = height, W = width
              </div></li><li><div>
                 Running a test in CPU mode
              </div></li><li><div>
                 Comparing the CPU vs GPU results to make sure they are the same
              </div></li><li><div>
                !/usr/bin/bash
-------------------------------------------------------------

 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.

-------------------------------------------------------------
              </div></li><li><div>
                 Downloads the jcuda jars
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [SYSTEMML-540] Additional tests to compare the accuracy of different convolution related operators with CuDNN
                </div><div><b>message:</b> [SYSTEMML-540] Additional tests to compare the accuracy of different convolution related operators with CuDNN

Closes #477.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [SYSTEMML-540] Additional tests to compare the accuracy of different convolution related operators with CuDNN
                </div><div><b>body:</b> Though our JUnit tests have enough coverage, these scripts are more exhaustive as it compares the results under different settings:
- Sparsity
- With/without BLAS
- With/Without GPU

@dusenberrymw can you please review this PR ?
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                
Refer to this link for build results (access rights to CI server needed): 
https://sparktc.ibmcloud.com/jenkins/job/SystemML-PullRequestBuilder/1431/

              </div></li><li><div>
                
Refer to this link for build results (access rights to CI server needed): 
https://sparktc.ibmcloud.com/jenkins/job/SystemML-PullRequestBuilder/1443/

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                I think it would be good to remove this and just assume the user will have the Spark `bin` folder in the path.  That way, this will be able to be run by anyone, rather than forcing another dev to have this specific Spark directory available.  Same thing for the other shell scripts.
              </div></li><li><div>
                Based on the above comment, let's update this to `spark-submit ...` so that others can easily use it.  Assumes that the user has placed the Spark `bin` folder on the path, which is reasonable.  Same thing for the other shell scripts.
              </div></li><li><div>
                Likewise, let's update these to `spark-submit ...`.  Same thing for the other shell scripts.
              </div></li><li><div>
                Can you update this to `#!/usr/bin/env bash` to use the user's preferred bash, rather than a hardcoded system version?  Also applies to the other shell scripts.
              </div></li><li><div>
                Can we update the filter size variables here and elsewhere to match those used elsewhere in the library?  Specifically, `K` -&gt; `F`, `R` -&gt; `Hf`, and `S` -&gt; `Wf`.  I think this would really help for others in the future who come to run these tests and reason about them.
              </div></li><li><div>
                Can you add a few quick comments in this section that basically say that you're (1) generating data, (2) running a test in CPU mode, (3) running the same test in a GPU mode, and (4) comparing the CPU vs GPU results to make sure they are the same?  Same thing for the other shell scripts.
              </div></li><li><div>
                Similar to updating the variable names for filter sizes, can we also update the output size variables to be the same as the rest of the library?  Specifically, `P` -&gt; `Hout`, and `Q` -&gt; `Wout`?  Might also help to update `H` -&gt; `Hin`, and `W` -&gt; `Win`.  Once again, by maintaining consistency, I think this will help others in the future using and reasoning about these tests.  This would apply to the rest of the files too.
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>