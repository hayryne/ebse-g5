<!DOCTYPE html><html><div class="item-title">
        Item 104
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Export for Xen
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> CLOUDSTACK-1340: Fix raw disk export using vbox internalcommand
                </div><div><b>message:</b> CLOUDSTACK-1340: Fix raw disk export using vbox internalcommand

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li><li><div><div><b>summary:</b> Make new systemvm appliance compatible to 4.0 systemvm template
                </div><div><b>description:</b> With CLOUDSTACK-1066 we worked on a new cooler way of generating systemvm appliances and exporting them for various hypervisors, even got a jenkins job to automate that for master (http://jenkins.cloudstack.org/job/build-systemvm-master/).

The issue is to fix the definitions and postinstall scripts etc. to make sure these appliances are actually usable with KVM, Xen and VMWare. The task is to make them compatible and replace-able wrt 4.0 systemvm template.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Commit ff32ae5305d0076ec7b21690f8fc5f6fe840f9aa in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=ff32ae5 ]

CLOUDSTACK-1340: During cleanup deluser vagrant, sync after zero-ing the disk

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 23be2e7ba00d4cc3a043c47507d6f5c4ac00111c in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=23be2e7 ]

CLOUDSTACK-1340: Shrink the final virtual disk, vmdk was not supported, use vdi

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit aabaf25ce46df39def7dcfd66e3b1f4dbdc33ec5 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=aabaf25 ]

CLOUDSTACK-1340: Install scripts and packages which were in previous systemvm

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 51f66e2b52ac2fade983a7f55b7f73f27680fd7e in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=51f66e2 ]

CLOUDSTACK-1340: Correct paths used to create cloud-script.tar, fix debug msgs

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 9c6ced96c12e5467fd2d09b1b8672d6d93d0056b in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=9c6ced9 ]

CLOUDSTACK-1340: Fix path issues in postinstall.sh, zerodisk on all partitions

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div><div><b>body:</b> Commit a5ab63602d5ceaf09f1c2a3c63f5763767102a05 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=a5ab636 ]

CLOUDSTACK-1340: Fix typos, paths, create user cloud and make 'em invincible

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

                </div><div><b>label:</b> documentation
                </div></div></li><li><div>
                Commit 644a73bb2f024bff31536a87390917c6ac700b3f in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=644a73b ]

CLOUDSTACK-1340: Don't remove all scripts in /root, rm only those copied by veewee

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 673700a1a2f0a8b04f5b4bf75564bf479b1fb0bf in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=673700a ]

CLOUDSTACK-1340: Fix raw disk export using vbox internalcommand

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 6380e2004c00c223947e08ba32d74f41a0b24340 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=6380e20 ]

CLOUDSTACK-1340: apt-get autoclean and then clean to remove cached debs

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 80a6aaf7e1b398de5e897e7a56845c7aa8f6c53f in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=80a6aaf ]

CLOUDSTACK-1340: Fix locale, cmd, disk size and remove multiple apt-get installs

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 44f345e4c67a2c87c9b4c97fb800a6beefb3bf50 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=44f345e ]

CLOUDSTACK-1340: Fix destination path issue, vbox's internalcommands issue

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit e80ccea517d8d579c2852f57047944b7353d16e7 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=e80ccea ]

CLOUDSTACK-1340: Jenkins fails for changing directories, rvm sourcing fails

http://jenkins.cloudstack.org/job/build-systemvm-master/64/console

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 0b07bc974a9b5ac2ab650f1c99f3c317768c9970 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=0b07bc9 ]

CLOUDSTACK-1340: Remove any shared folders, don't install legacy grub

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 512c16f48357c179a19e73bec57a7c914762bc47 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=512c16f ]

CLOUDSTACK-1340: Do two rounds of vhd export, from raw to fixed to dynamic

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Tested and worked for me on DevCloud using the hyperv-vhd image with basic zone deployment etc.
The VHD image from VBox maybe compatible with Xen, I've asked Xen folks about this. Closing on the account that we've a working systemvm appliance that works, preseeds, patches with systemvm.iso and runs agents.
              </div></li><li><div><div><b>body:</b> Commit 0f30c1e6b0ca97090be820ab14c8fd9308138caf in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=0f30c1e ]

CLOUDSTACK-1340: Fix typo in variable in build.sh

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

                </div><div><b>label:</b> documentation
                </div></div></li><li><div>
                Commit 26edb3c0aa0b2a2015c3804ed29533c33f3ec976 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=26edb3c ]

CLOUDSTACK-1340: Just take the first of results, query and remove shared folders

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit b55f5898d536b27034643684a42885996a821c66 in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=b55f589 ]

CLOUDSTACK-1340: Exit script if exporting fails for any disk format

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit 34b37ef8ed35731b0cfed0cf6cb07ea48b89b96f in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=34b37ef ]

CLOUDSTACK-1340: Compress QCOW2 for KVM

As suggested by Marcus, by compression qcow2, we end up having smaller disk image.
I'm still archiving the qcow2 as bz2 because our installation manual still ask
users to cloud-install-sys-tmplt which expects a *.qcow2.bz2

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li><li><div>
                Commit bb2c7dc7284fe1887be209b18813df72d96edbbb in branch refs/heads/master from [~bhaisaab]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-cloudstack.git;h=bb2c7dc ]

CLOUDSTACK-1340: Fix grub2 cfg to boot without waiting, fix locale

Thanks to Marcus for testing and helping on KVM template, adding locale fix as
per Marcus's suggestion. Tested with latest build on my local vbox.

Signed-off-by: Rohit Yadav &lt;bhaisaab@apache.org&gt;

              </div></li></ol></div></div></html>