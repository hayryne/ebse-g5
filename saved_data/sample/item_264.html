<!DOCTYPE html><html><div class="item-title">
        Item 264
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Merged revisions 997892 via svnmerge from 
                </div><div><b>message:</b> Merged revisions 997892 via svnmerge from 
https://svn.apache.org/repos/asf/cxf/trunk

........
  r997892 | dkulp | 2010-09-16 15:45:52 -0400 (Thu, 16 Sep 2010) | 2 lines
  
  [CXF-2995] Patch use of cxf with lazy inits.
  Patch from Adam Lewandowski applied
........


git-svn-id: https://svn.apache.org/repos/asf/cxf/branches/2.2.x-fixes@997900 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Bus configuration ignored if Spring context has default-lazy-init=true
                </div><div><b>description:</b> Bus configuration using the Spring namespace handler is ignored if the containing context defaults to lazy-init (default-lazy-init=true). The configuration bean definition (BusDefinitionParser$BusConfig) created by BusDefinitionParser inherits this setting. Since the bean is never explicitly referenced it does not get instantiated which would trigger the setApplicationContext method, registering the configured bus under the 'cxf' bean name. Instead, you get a bus with the default configuration.
As a workaround, you can set the containing context to eager-init, but this is not feasible in many cases. 
I've attached a patch which includes a test case and fix in BusDefinitionParser to force the config bean to be eager-init.

I've read a few places that Daniel Kulp mentions most CXF beans will be lazy-init in 2.3, perhaps this will be addressed then. In the meantime, this patch is working for me.
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>summary:</b> Bus configuration ignored if Spring context has default-lazy-init=true
                </div><div><b>description:</b> Bus configuration using the Spring namespace handler is ignored if the containing context defaults to lazy-init (default-lazy-init=true). The configuration bean definition (BusDefinitionParser$BusConfig) created by BusDefinitionParser inherits this setting. Since the bean is never explicitly referenced it does not get instantiated which would trigger the setApplicationContext method, registering the configured bus under the 'cxf' bean name. Instead, you get a bus with the default configuration.
As a workaround, you can set the containing context to eager-init, but this is not feasible in many cases. 
I've attached a patch which includes a test case and fix in BusDefinitionParser to force the config bean to be eager-init.

I've read a few places that Daniel Kulp mentions most CXF beans will be lazy-init in 2.3, perhaps this will be addressed then. In the meantime, this patch is working for me.
                </div></div></li><li><div><div><b>summary:</b> Bus configuration ignored if Spring context has default-lazy-init=true
                </div><div><b>description:</b> Bus configuration using the Spring namespace handler is ignored if the containing context defaults to lazy-init (default-lazy-init=true). The configuration bean definition (BusDefinitionParser$BusConfig) created by BusDefinitionParser inherits this setting. Since the bean is never explicitly referenced it does not get instantiated which would trigger the setApplicationContext method, registering the configured bus under the 'cxf' bean name. Instead, you get a bus with the default configuration.
As a workaround, you can set the containing context to eager-init, but this is not feasible in many cases. 
I've attached a patch which includes a test case and fix in BusDefinitionParser to force the config bean to be eager-init.

I've read a few places that Daniel Kulp mentions most CXF beans will be lazy-init in 2.3, perhaps this will be addressed then. In the meantime, this patch is working for me.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Bus configuration ignored if Spring context has default-lazy-init=true
                </div><div><b>description:</b> Bus configuration using the Spring namespace handler is ignored if the containing context defaults to lazy-init (default-lazy-init=true). The configuration bean definition (BusDefinitionParser$BusConfig) created by BusDefinitionParser inherits this setting. Since the bean is never explicitly referenced it does not get instantiated which would trigger the setApplicationContext method, registering the configured bus under the 'cxf' bean name. Instead, you get a bus with the default configuration.
As a workaround, you can set the containing context to eager-init, but this is not feasible in many cases. 
I've attached a patch which includes a test case and fix in BusDefinitionParser to force the config bean to be eager-init.

I've read a few places that Daniel Kulp mentions most CXF beans will be lazy-init in 2.3, perhaps this will be addressed then. In the meantime, this patch is working for me.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div><div><b>body:</b> Patch including a test case and fix
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                
Patch applied.  Thanks!

              </div></li></ol></div></div></html>