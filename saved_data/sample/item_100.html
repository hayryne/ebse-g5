<!DOCTYPE html><html><div class="item-title">
        Item 100
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Merge pull request #1803 from alibaba/revert-1794-ios-feature-20161208
                </div><div><b>message:</b> Merge pull request #1803 from alibaba/revert-1794-ios-feature-20161208

Revert "* [ios] bugfix cancel url uft8-encode"
                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div></div></li><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div></div></li><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div></div></li><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div></div></li><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div><div><b>label:</b> requirement
                </div></div></li><li><div><div><b>title:</b> 0.18.0 libweexjsc.so 异常导致app crash
                </div><div><b>body:</b> ## Describe the bug
0.18.0 libweexjsc.so 异常，导致用户奔溃率0.02%，若使用爱加密加固之后奔溃率上升至1.4%
大部分crash是app处于后台发生的
我们是在commit id为：7a8732b3ef653a8e62da82e9787adee157ff9e53处打的aar
出错堆栈
1&nbsp;#00 pc 00037508 /system/lib/libc.so (tgkill+12) [armeabi-v7a]
2&nbsp;#01 pc 00013fc9 /system/lib/libc.so (pthread_kill+52) [armeabi-v7a]
3&nbsp;#02 pc 00014be7 /system/lib/libc.so (raise+10) [armeabi-v7a]
4&nbsp;#03 pc 00011529 /system/lib/libc.so (__libc_android_abort+36) [armeabi-v7a]
5&nbsp;#04 pc 0000fcb4 /system/lib/libc.so (abort+4) [armeabi-v7a]
6&nbsp;#05 pc 0000cbc7 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
7&nbsp;#06 pc 0000c177 /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]
8&nbsp;#07 pc 0000c1bb /data/app/com.fenqile.fenqile-1/lib/arm/libweexjsc.so [armeabi-v7a]



## Environment
* OS: Android
* Version 0.18.0

                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                libweexjsc.so 是你们编译的吗? 
              </div></li><li><div>
                不是的
              </div></li><li><div>
                时间较久libweexjsc.so 的符号文件已经丢失
建议你们升级一下 weex_sdk. 在观察是否还存在这个问题. 编译 libweexcore.so后记得保留符号文件哈.
              </div></li><li><div>
                #1694

Sorry the delay, you can use compile 'com.taobao.android:weex_sdk:0.19.0.7'. I have checked, it worked well
              </div></li></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [WEEX-17] Abstract a common weex var for each JS framework
                </div><div><b>body:</b> Accepted weex variable from JS runtime before `legacyFramework.createInstance`.
                </div></div></li><li><div><div><b>title:</b> [WEEX-17] Abstract a common weex var for each JS framework
                </div><div><b>body:</b> Accepted weex variable from JS runtime before `legacyFramework.createInstance`.
                </div></div></li><li><div><div><b>title:</b> [WEEX-17] Abstract a common weex var for each JS framework
                </div><div><b>body:</b> Accepted weex variable from JS runtime before `legacyFramework.createInstance`.
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Just FYI, usually one commit per pull request[1] is recommended. Once it synced with apache git, you can't change or clean up commit histories. 

1. http://ndlib.github.io/practices/one-commit-per-pull-request/
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Abstract a common `weex` variable for each JS framework
                </div><div><b>description:</b> I think before a Weex instance initialized by a certain JS framework, we can abstract and prepare something which every JS framework will do the same and put them into a common `weex` variable. Then this variable could be used directly in a JS framework.

It contains:

1. A CallbackManager instance: to convert callback into a unique callbackId in this Weex page, just for passing the id to native as the callback itself.
2. A NativeModuleGetter instance: to require a native module in this Weex page. Because it certainly need processes functions, so it depends on the CallbackManager instance.
3. A Document instance: every Weex page must have and only have one Document instance.
4. Config object of the Weex page. It should contains env info, framework info and bundle info.
5. CSS Units calculator. It depends on config object.
6. All injects from JS Services.

All of above could be passed into JS framework for init. And NativeModuleGetter instance, Document instance, config object and CSS units calculator could be exposed on `weex` variable as `{ requireModule(name), document, config, unit }`. So the new API design of `framework.createInstance` could be:

function createInstance(id, code, info)

and parameter info contains: { weex, callbacks, services }
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Github user Jinjiang closed the pull request at:

    https://github.com/apache/incubator-weex/pull/1

              </div></li><li><div>
                Github user edwardyoon commented on the issue:

    https://github.com/apache/incubator-weex/pull/1
  
    Just FYI, usually one commit per pull request[1] is recommended. Once it synced with apache git, you can't change or clean up commit histories. 
    
    1. http://ndlib.github.io/practices/one-commit-per-pull-request/

              </div></li><li><div>
                GitHub user Hanks10100 opened a pull request:

    https://github.com/apache/incubator-weex/pull/785

    [WEEX-17] Abstract "weex" variable for each js framework

    Fix [WEEX-17](https://issues.apache.org/jira/browse/WEEX-17).
    
    Pass the `weex` variable to each front-end framework in the last argument of `createInstance`. Its API is defined [here](http://weex.apache.org/references/weex-variable.html).
    
    Both Vue and Rax can use the `weex` variable with the same implementation. Currently, Vue passed `weex` variable to the js bundle, but Rax doesn't pass it yet.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/Hanks10100/incubator-weex jsfm-feature-weex

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/incubator-weex/pull/785.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #785
    
----
commit 48ccea1c4edc02b7af80e81f5639243776bef077
Author: Hanks &lt;zhanghan.me@gmail.com&gt;
Date:   2017-10-11T09:19:48Z

    + [jsfm] add weex variable api in runtime

----

              </div></li><li><div>
                Github user weex-bot commented on the issue:

    https://github.com/apache/incubator-weex/pull/785
  
    
    &lt;!--
      0 failure: 
      3 warning:  No Changelog chan..., These new JS file..., This PR should up...
      1 messages
      
    --&gt;
    
    
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th width="50"&gt;&lt;/th&gt;
          &lt;th width="100%" data-danger-table="true"&gt;Warnings&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;&lt;tr&gt;
          &lt;td&gt;:warning:&lt;/td&gt;
          &lt;td&gt;No Changelog changes!&lt;/td&gt;
        &lt;/tr&gt;
      
    &lt;tr&gt;
          &lt;td&gt;:warning:&lt;/td&gt;
          &lt;td&gt;These new JS files do not have Flow enabled: html5/runtime/api/WeexInstance.js, html5/runtime/api/component.js, html5/runtime/api/module.js&lt;/td&gt;
        &lt;/tr&gt;
      
    &lt;tr&gt;
          &lt;td&gt;:warning:&lt;/td&gt;
          &lt;td&gt;This PR should update related documents as well. &lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
    
    
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th width="50"&gt;&lt;/th&gt;
          &lt;th width="100%" data-danger-table="true"&gt;Messages&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;&lt;tr&gt;
          &lt;td&gt;:book:&lt;/td&gt;
          &lt;td&gt;danger test finished.&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
    
    
    &lt;p align="right"&gt;
      Generated by :no_entry_sign: &lt;a href="http://github.com/danger/danger-js/"&gt;dangerJS&lt;/a&gt;
    &lt;/p&gt;


              </div></li><li><div>
                Github user gurisxie commented on the issue:

    https://github.com/apache/incubator-weex/pull/785
  
    I have merged it,but bot seems broken.

              </div></li><li><div>
                Github user Hanks10100 commented on the issue:

    https://github.com/apache/incubator-weex/pull/785
  
    Got, this PR can be closed.

              </div></li><li><div>
                Github user Hanks10100 closed the pull request at:

    https://github.com/apache/incubator-weex/pull/785

              </div></li></ol></div></div></html>