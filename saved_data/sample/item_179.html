<!DOCTYPE html><html><div class="item-title">
        Item 179
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * A RunnableProcessObserver that logs the events/
 
              </div></li><li><div>
                *
   * Inform REEF of an unclean process exit
   *
   * @param processId
   * @param exitCode
   
              </div></li><li><div>
                 Here, we introduce an arbitrary wait. This is to make sure that at the exit of an Evaluator, the last
 heartbeat from that Evaluator arrives before this message. This makes sure that the local runtime behaves like
 a resource manager with regard to that timing.
              </div></li><li><div>
                *
   * @param resourceStatusHandler the event handler to inform of resource changes.
   
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
   * Inform REEF of a cleanly exited process.
   *
   * @param processId
   
              </div></li><li><div>
                *
 * a RunnableProcessObserver that relies events to REEF's ResourceStatusHandler
 
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
   * This will be called right after the process is launched.
   *
   * @param processId the id of the process that started.
   
              </div></li><li><div>
                *
 * Observer interface for events fired by RunnableProcess.
 
              </div></li><li><div>
                *
   * This will be called right after the process exited.
   *
   * @param exitCode  the return code of the process.
   * @param processId the id of the process that exited.
   
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Infrastructure for managing processes.
 
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div><div><b>comment:</b>  TODO: Add to the tests again after #934
  @Test
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                *
 * Tests whether an unexpected Evaluator exit (via System.exit()) is reported as a FailedEvaluator to the Driver.
 
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Merely calls System.exit()
 
              </div></li><li><div>
                *
 * Copyright (C) 2014 Microsoft Corporation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *         http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * This tests whether an unexpected Evaluator exit (via System.exit()) is reported as a FailedEvaluator to the Driver.
 
              </div></li><li><div>
                *
   * This will be informed of process start and stop.
   
              </div></li><li><div>
                *
   * This will be informed of process start and stop.
   
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Merge pull request #985 from Microsoft-CISL/weimer_938
                </div><div><b>message:</b> Merge pull request #985 from Microsoft-CISL/weimer_938

Evaluator state transition events for the local runtime
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>title:</b> [REEF-1364] C# Evaluator should attempt to send a failure message bac…
                </div><div><b>body:</b> …k to the Driver on an unhandled Exception

This addressed the issue by
- Adding a generic unhandled exception handler.
- Add an EvaluatorRuntime unhandled exception handler that sends a message to the Driver on failure.
- Registering unhandled exception handler at start and unregistering it when the EvaluatorRuntime unhandled exception handler is successfully set up.

JIRA:
  [REEF-1364](https://issues.apache.org/jira/browse/REEF-1364)

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div><div><b>body:</b> Is this covered by the Poison tests? If not, we might want to have a test in this PR to make sure we can't regress.

                </div><div><b>label:</b> test
                </div></div></li><li><div>
                @markusweimer The tests will be part of [REEF-1286](https://issues.apache.org/jira/browse/REEF-1286). @tcNickolas do you have other coverage in Poison?

              </div></li><li><div><div><b>body:</b> I'm working on REEF-1304 to extend Poison coverage from one `PoisonTest` to the whole series. But the new tests don't check this behavior.
I agree that we need a test for this. Can this change be done after REEF-1304?

                </div><div><b>label:</b> test
                </div></div></li><li><div>
                @tcNickolas why does REEF-1304 block this?

              </div></li><li><div><div><b>body:</b> REEF-1304 doesn't _block_ this. If you want to modify some existing Poison test to verify this functionality, it's better to do this after REEF-1304, because it refactors the one PoisonTest we have significantly. If you want to do a standalone test, it's completely unrelated.

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> @markusweimer there was some misunderstanding here that @tcNickolas and I discussed offline. This should not wait for REEF-1304.

This would not require substantial changes to PoisonTest because PoisonTest triggers failures on `IClock` `Alarm` s, which are ultimately still observed by the `IClock` thread. Should the user spin off another thread that triggers an unhandled Exception in their own `Task`, the behavior currently will not catch the Exception message in the `FailedEvaluator` event.

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> Ah, thanks! So this should in fact contain a test, right? As the new feature here won't be covered by the poison tests.

                </div><div><b>label:</b> test
                </div></div></li><li><div>
                @markusweimer Sure, that can be done, but the test will need to be modified with REEF-1286 to test for correct Serialization again.

              </div></li><li><div><div><b>body:</b> @markusweimer added a test with TODO items for REEF-1286 (namely to verify the Exception type and message).

                </div><div><b>label:</b> test
                </div></div></li><li><div>
                LGTM, with one minor comment.

              </div></li><li><div>
                @markusweimer I've addressed your comment, please have another look. Thanks!

              </div></li><li><div>
                LGTM, will test and merge

              </div></li><li><div>
                I got a test failure, and the test run hang at the end:

```
INFO: Running test bb8beabe. If failed AND log uploaded is enabled, log can be find in 2016-05-04\bb8beabe
    Org.Apache.REEF.Tests.Functional.Bridge.TestSuspendTask.TestSuspendTaskOnLocalRuntime [FAIL]      Cannot read from log file D:\src\reef\lang\cs\bin\x64\Debug\Org.Apache.REEF.Tests\REEF_LOCAL_RUNTIMEf22f388d\re
ef-testSuspendTask-20160504095344317\driver\driver.stdout
      Expected: True
      Actual:   False
      Stack Trace:
        Functional\ReefFunctionalTest.cs(251,0): at Org.Apache.REEF.Tests.Functional.ReefFunctionalTest.ReadLogFile(S
tring logFileName, String subfolder, String testFolder)
        Functional\ReefFunctionalTest.cs(159,0): at Org.Apache.REEF.Tests.Functional.ReefFunctionalTest.ValidateSucce
ssForLocalRuntime(Int32 numberOfContextsToClose, Int32 numberOfTasksToFail, Int32 numberOfEvaluatorsToFail, String te
stFolder)
        Functional\Bridge\TestSuspendTask.cs(58,0): at Org.Apache.REEF.Tests.Functional.Bridge.TestSuspendTask.TestSu
spendTaskOnLocalRuntime()
```

              </div></li><li><div>
                @markusweimer looks like the test has trouble reading the log file. Does the log file itself indicate any errors? This change seems orthogonal to that test.

              </div></li><li><div>
                I uploaded the `bin` folder of the hanging test [here](https://onedrive.live.com/redir?resid=5801726772BFC3DA!278771&amp;authkey=!ANAS4VbWJVevr24&amp;ithint=folder%2ctxt). It seems to have been a fluke, as subsequent test runs worked fine.

              </div></li><li><div>
                I often get this kind of failure on completely unrelated tests. The cure for me is to restart my machine :-( But sometimes this also shows actual problem, like when I had a runaway evaluator which kept running after test ended.

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div><div><b>body:</b> Add documentation to the class. Also, does it have to be `public`?

                </div><div><b>label:</b> documentation
                </div></div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> C# Evaluator should attempt to send a failure message back to the Driver on an unhandled Exception
                </div><div><b>description:</b> Currently, an Unhandled Exception at TaskRuntime simply fails the Evaluator. We should fix it such that the Evaluator attempts to send a message back to the Driver before giving up.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> C# Evaluator should attempt to send a failure message back to the Driver on an unhandled Exception
                </div><div><b>description:</b> Currently, an Unhandled Exception at TaskRuntime simply fails the Evaluator. We should fix it such that the Evaluator attempts to send a message back to the Driver before giving up.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> C# Evaluator should attempt to send a failure message back to the Driver on an unhandled Exception
                </div><div><b>description:</b> Currently, an Unhandled Exception at TaskRuntime simply fails the Evaluator. We should fix it such that the Evaluator attempts to send a message back to the Driver before giving up.
                </div></div></li><li><div><div><b>summary:</b> C# Evaluator should attempt to send a failure message back to the Driver on an unhandled Exception
                </div><div><b>description:</b> Currently, an Unhandled Exception at TaskRuntime simply fails the Evaluator. We should fix it such that the Evaluator attempts to send a message back to the Driver before giving up.
                </div></div></li><li><div><div><b>summary:</b> C# Evaluator should attempt to send a failure message back to the Driver on an unhandled Exception
                </div><div><b>description:</b> Currently, an Unhandled Exception at TaskRuntime simply fails the Evaluator. We should fix it such that the Evaluator attempts to send a message back to the Driver before giving up.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div><div><b>body:</b> We also should make sure that the Evaluator has an outermost exception handler that at least tries to send the exception to the Driver before giving up.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> After looking into the code and playing around with it, this model of using {{Task.WhenAny}} may not work and may in fact complicate the code of the Evaluator. This is because the {{EvaluatorRuntime}} class, which encapsulates {{ContextManager}}, is an object that composes {{RuntimeClock}}. {{RuntimeClock}} in turn runs the heartbeat-triggering loop. Other complications include remote callbacks from the Driver and the fact that the Evaluator's Task may start/finish at various intervals, making it hard to use {{Task.WhenAny}} without introducing more complicated control mechanisms to flow the Tasks between {{RuntimeClock}} and {{ContextManager}}.

For the above reason, this JIRA will be repurposed to sending the Driver a failure message on an uncaught System Exception before giving up.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Resolved via [#985|https://github.com/apache/reef/pull/985]
              </div></li></ol></div></div></html>