<!DOCTYPE html><html><div class="item-title">
        Item 157
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 create baseline request
              </div></li><li><div>
                 create current request
              </div></li><li><div>
                compute the derived metrics
              </div></li><li><div>
                 Construct OTHER row
              </div></li><li><div>
                 for every dimension value, we check if the row we constructed passes metric threshold
 if it does, we add it to the rows
 else, include it in the OTHER row
              </div></li><li><div>
                 if any metric passes threshold, include it
              </div></li><li><div>
                 else add it to OTHER
              </div></li><li><div>
                 constructing an OTHER rows, 1 for each time bucket
              </div></li><li><div>
                 else that row of cells goes into OTHER
              </div></li><li><div>
                 contributor view
              </div></li><li><div>
                 group by time and dimension values
              </div></li><li><div>
                 other row
              </div></li><li><div>
                 create other row using the other baseline and current sums
              </div></li><li><div>
                 group by dimension values
              </div></li><li><div>
                 group by dimension name
              </div></li><li><div>
                 for every comparison row we construct, we check if any of its time buckets passes metric threshold
 if it does, we add it to the rows as is
 else, we add the metric values to the OTHER row
              </div></li><li><div>
                 if any of the cells of a contributor row passes threshold, add all those cells
              </div></li><li><div>
                tabular view
              </div></li><li><div>
                compute the time|dimension key
              </div></li><li><div>
                heatmap
              </div></li><li><div>
                 check if rows pass threshold
              </div></li><li><div>
                 update the baselineTotal and current total
              </div></li><li><div>
                 check if its derived
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Refactoring of view handlers, to support parsing of single query instead of one per time bucket. (#173)
                </div><div><b>message:</b> Refactoring of view handlers, to support parsing of single query instead of one per time bucket. (#173)

* Refactoring view handlers to run single query instead of one per time bucket

* Refactoring view handlers to run single query instead of one per time bucket

* Refactoring view handlers to run single query instead of one per time bucket

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Refactoring of view handlers, to support parsing of single query instead of one per time bucket.
                </div><div><b>body:</b> Refactored view handlers to trigger just 1 query instead of multiple as per time buckets. The response is now parsed accordingly to extract data for each time bucket.
Added OTHER category for rows which fall below a certain configurable threshold.
Tested to check that tabular, contributors, heatmap and timeseries work correctly. 
The changes in dashboard response time for sample dataset 1 were as follows:
Tabular: from 4.71s to 277ms
Contributors: from 8.83s to 439ms, 9.59s to 1.2s
Heatmap: from 1.8s to 2.2s
Timeseries: from 2.39s to 228ms
For sample dataset 2:
Tabular: from 20s to 855ms
Heatmap: 6.20 to 13s
Contributors: 38s to 1.78s
Timeseries: 10s to 538ms

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                LGTM. Please add the description and the perf improvement numbers

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                remove this 

              </div></li><li><div>
                can you explain the logic, how many passes are we doing over the data to compute OTHER category

              </div></li><li><div>
                throw unsupported exception, if it reaches here.

              </div></li><li><div>
                extract each if/else block to a separate methods such as parseGroupByTimeResponse, parseGroupByTimeDimensionResponse parseGroupByDimensionResponse

              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>