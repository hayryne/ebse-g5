<!DOCTYPE html><html><div class="item-title">
        Item 232
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                
	 * sort parent groups into an array
	 * representative of the hierarchy order
	 
              </div></li><li><div>
                
	 * take a flat tenant array and
	 * group the tenants by parentId
	 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> sorts the results of GET /tenants to represent the hierarchy (#3166)
                </div><div><b>message:</b> sorts the results of GET /tenants to represent the hierarchy (#3166)


                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div></div></li><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div></div></li><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div></div></li><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div></div></li><li><div><div><b>title:</b> GET /api/tenants ordering changed from Perl to Go
                </div><div><b>body:</b> In perl the default ordering of the tenants response looked like this:

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

^^ it was ordered to represent the hierarchy starting with the root tenant

now it appears to be ordered like this:

```
root
root.1
root.2
root.1.1
root.1.2
root.2.1
root.2.2
```




                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                really not sure if this is a bug or not. put it here to solicit some conversation.
              </div></li><li><div>
                I don't think it is a bug.   The hierarchy is already represented in the structure by the parent of each tenant,  so the order shouldn't be relevant.    It may make it easier in TP to show them in the order they came, but that ordering should be done on the TP side,  not the API.
              </div></li><li><div><div><b>body:</b> I can buy that @dangogh but as the default ordering of the api changes with the rewrite from Perl to Go, we will see "bugs" in TP...for example, dropdown menus that used to be sorted alphabetically by default will no longer be sorted and will become tough to use
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                true -- so when endpoints are rewritten,  the affect on TP needs to be considered and perhaps updated to handle the difference.
              </div></li></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> TP: sorts the results of GET /tenants to represent the hierarchy
                </div><div><b>body:</b> #### What does this PR do?

Fixes #3159 

#### Which TC components are affected by this PR?

- [ ] Documentation
- [ ] Grove
- [ ] Traffic Analytics
- [ ] Traffic Monitor
- [ ] Traffic Ops
- [ ] Traffic Ops ORT
- [x] Traffic Portal
- [ ] Traffic Router
- [ ] Traffic Stats
- [ ] Traffic Vault
- [ ] Other _________

#### What is the best way to verify this PR?

1. Launch TP
2. Navigate to https://tp.domain.com/#!/tenants
3. Verify that the list of tenants represents the hierarchy. I.e.

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

Also edit a tenant, delivery service, origin or user and ensure that the `Tenant` dropdown is ordered properly

#### Check all that apply

- [ ] This PR includes tests
- [ ] This PR includes documentation updates
- [ ] This PR includes an update to CHANGELOG.md
- [ ] This PR includes all required license headers
- [ ] This PR includes a database migration (ensure that migration sequence is correct)
- [ ] This PR fixes a serious security flaw. Read more: [www.apache.org/security](http://www.apache.org/security/)

&lt;!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--&gt;




                </div></div></li><li><div><div><b>title:</b> TP: sorts the results of GET /tenants to represent the hierarchy
                </div><div><b>body:</b> #### What does this PR do?

Fixes #3159 

#### Which TC components are affected by this PR?

- [ ] Documentation
- [ ] Grove
- [ ] Traffic Analytics
- [ ] Traffic Monitor
- [ ] Traffic Ops
- [ ] Traffic Ops ORT
- [x] Traffic Portal
- [ ] Traffic Router
- [ ] Traffic Stats
- [ ] Traffic Vault
- [ ] Other _________

#### What is the best way to verify this PR?

1. Launch TP
2. Navigate to https://tp.domain.com/#!/tenants
3. Verify that the list of tenants represents the hierarchy. I.e.

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

Also edit a tenant, delivery service, origin or user and ensure that the `Tenant` dropdown is ordered properly

#### Check all that apply

- [ ] This PR includes tests
- [ ] This PR includes documentation updates
- [ ] This PR includes an update to CHANGELOG.md
- [ ] This PR includes all required license headers
- [ ] This PR includes a database migration (ensure that migration sequence is correct)
- [ ] This PR fixes a serious security flaw. Read more: [www.apache.org/security](http://www.apache.org/security/)

&lt;!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--&gt;




                </div></div></li><li><div><div><b>title:</b> TP: sorts the results of GET /tenants to represent the hierarchy
                </div><div><b>body:</b> #### What does this PR do?

Fixes #3159 

#### Which TC components are affected by this PR?

- [ ] Documentation
- [ ] Grove
- [ ] Traffic Analytics
- [ ] Traffic Monitor
- [ ] Traffic Ops
- [ ] Traffic Ops ORT
- [x] Traffic Portal
- [ ] Traffic Router
- [ ] Traffic Stats
- [ ] Traffic Vault
- [ ] Other _________

#### What is the best way to verify this PR?

1. Launch TP
2. Navigate to https://tp.domain.com/#!/tenants
3. Verify that the list of tenants represents the hierarchy. I.e.

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

Also edit a tenant, delivery service, origin or user and ensure that the `Tenant` dropdown is ordered properly

#### Check all that apply

- [ ] This PR includes tests
- [ ] This PR includes documentation updates
- [ ] This PR includes an update to CHANGELOG.md
- [ ] This PR includes all required license headers
- [ ] This PR includes a database migration (ensure that migration sequence is correct)
- [ ] This PR fixes a serious security flaw. Read more: [www.apache.org/security](http://www.apache.org/security/)

&lt;!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--&gt;




                </div></div></li><li><div><div><b>title:</b> TP: sorts the results of GET /tenants to represent the hierarchy
                </div><div><b>body:</b> #### What does this PR do?

Fixes #3159 

#### Which TC components are affected by this PR?

- [ ] Documentation
- [ ] Grove
- [ ] Traffic Analytics
- [ ] Traffic Monitor
- [ ] Traffic Ops
- [ ] Traffic Ops ORT
- [x] Traffic Portal
- [ ] Traffic Router
- [ ] Traffic Stats
- [ ] Traffic Vault
- [ ] Other _________

#### What is the best way to verify this PR?

1. Launch TP
2. Navigate to https://tp.domain.com/#!/tenants
3. Verify that the list of tenants represents the hierarchy. I.e.

```
root
root.1
root.1.1
root.1.2
root.2
root.2.1
root.2.2
```

Also edit a tenant, delivery service, origin or user and ensure that the `Tenant` dropdown is ordered properly

#### Check all that apply

- [ ] This PR includes tests
- [ ] This PR includes documentation updates
- [ ] This PR includes an update to CHANGELOG.md
- [ ] This PR includes all required license headers
- [ ] This PR includes a database migration (ensure that migration sequence is correct)
- [ ] This PR fixes a serious security flaw. Read more: [www.apache.org/security](http://www.apache.org/security/)

&lt;!--
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    "License"); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.
--&gt;




                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                
Refer to this link for build results (access rights to CI server needed): 
https://builds.apache.org/job/trafficcontrol-PR/2990/
Test PASSed.

              </div></li><li><div>
                
Refer to this link for build results (access rights to CI server needed): 
https://builds.apache.org/job/trafficcontrol-PR/2992/
Test PASSed.

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>