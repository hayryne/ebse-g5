<!DOCTYPE html><html><div class="item-title">
        Item 348
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Remove workaround for CAMEL-15518 #1769
                </div><div><b>message:</b> Remove workaround for CAMEL-15518 #1769

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> [Camel 3.6] Remove workaround for CAMEL-15518
                </div><div><b>body:</b> Follow up for: https://github.com/apache/camel-quarkus/issues/1765#issuecomment-689565957
Requires: https://issues.apache.org/jira/browse/CAMEL-15518

                </div></div></li><li><div><div><b>title:</b> [Camel 3.6] Remove workaround for CAMEL-15518
                </div><div><b>body:</b> Follow up for: https://github.com/apache/camel-quarkus/issues/1765#issuecomment-689565957
Requires: https://issues.apache.org/jira/browse/CAMEL-15518

                </div></div></li><li><div><div><b>title:</b> [Camel 3.6] Remove workaround for CAMEL-15518
                </div><div><b>body:</b> Follow up for: https://github.com/apache/camel-quarkus/issues/1765#issuecomment-689565957
Requires: https://issues.apache.org/jira/browse/CAMEL-15518

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                Fixed in 1.3.0 via 8349c6e2b33049695ff8de254029514a861efc06
              </div></li></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Wong service generated for the ExtendedCamelContext
                </div><div><b>description:</b> The name of the configurer for the the ExtendedCamelContext is wrong as it uses the FQCN of the implementation class (org.apache.camel.impl.ExtendedCamelContext) instead of the interface one (org.apache.camel.ExtendedCamelContext).

Maybe the @Configurer annotation should allow to set the name of the factory file.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                So in the pom.xml of the camel-core-engine you can do a mapping.

However to avoid OSGi split package problems then the generated configurer is moved into impl package

org.apache.camel.ExtendedCamelContext=org.apache.camel.impl.ExtendedCamelContext

However the service manifest file has in the wrong name.

              </div></li><li><div>
                Yeah, wonder if we can add a parameter to the @Configurer to set the name of the configurer

{code:java}
@Configurer("org.apache.camel.ExtendedCamelContext")
org.apache.camel.impl.ExtendedCamelContext {
}
{code}

if not provided, the name of the class is used
              </div></li><li><div>
                Yeah well its even more special as that is not an annotation currently as it was a chicken-egg situation as you cant have camel-api generate configurer (you need camel-api built first).

So they are generated via pom.xml instructions in camel-core-engine. Where all the configurers are in core camel.

There is a fix in the maven plugin that generate the source as it already has a fqn=new fqn mapping where you can just say

&lt;class&gt;org.apache.camel.ExtendedCamelContext=org.apache.camel.impl.ExtendedCamelContext&lt;class&gt;

I fixed that and are rebuilding and testing before submitting a PR
              </div></li><li><div>
                There is a PR here
https://github.com/apache/camel/pull/4181

Unfortunately there are some regen files with it so there is a little bit of noise
              </div></li></ol></div></div></html>