<!DOCTYPE html><html><div class="item-title">
        Item 220
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> ZOOKEEPER-3074: Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>message:</b> ZOOKEEPER-3074: Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics

more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)

Author: maoling &lt;maoling199210191@sina.com&gt;

Reviewers: hanm@apache.org, andor@apache.org, nkalmar@cloudera.com

Closes #556 from maoling/ZOOKEEPER-3074

(cherry picked from commit 81b51554922d4cee5dde4a848a106f286f4c407b)
Signed-off-by: Andor Molnar &lt;andor@apache.org&gt;

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div></div></li><li><div><div><b>title:</b> ZOOKEEPER-3074:Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>body:</b> more details in [ZOOKEEPER-3074](https://issues.apache.org/jira/browse/ZOOKEEPER-3074)
                </div><div><b>label:</b> test
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                +1 thank you @maoling !

i've restarted the build. if it passes, i'll get this committed.
              </div></li><li><div>
                Looks like it has already passed, status just hasn't been updated here.
              </div></li><li><div>
                yes, it did look like they passed, but it stayed as failed. kicking again.
              </div></li><li><div>
                it would be nice to get this in. i'm on vacation right now. @anmolnar or @phunt do you have any idea how we can debug what is going on on jenkins?
              </div></li><li><div>
                @maoling Would you please re-open the pull request and see how it goes?
I'll open an INFRA ticket, if it's hanging again.
              </div></li><li><div>
                What was the issue? All tests passed but Jenkins still complains? The Jenkins check also includes findbug and forrrest (documentation) check if I remember correctly. Maybe it was find bug complaining?

In any case, I would reopen this PR which will kick off Jenkins and then we can start from there. There is no way of debugging without looking into the actual Jenkins job that complains.
              </div></li><li><div>
                As far as I remember Jenkins job finished successfully, but hasn't updated this PR's status.
              </div></li><li><div>
                &gt;&gt; As far as I remember Jenkins job finished successfully, but hasn't updated this PR's status.

It could be an infrastructure issue that Jenkins job failed to post the comment to github after it succeeded. If we still have to a link to that Jenkins job, i can take a look. Anyway, it's green now, and this one is ready to commit.
              </div></li><li><div>
                Merged to 3.5 and master branches.
Thanks @maoling !
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                Thanks for catching this and fixing it! The serverstats.getMaxLatency() should of went in the "actual" parameter and the magic number as the greaterThanOrEqualTo parameter. (I did this test. Sorry...)
But changing greater to less work just fine.
              </div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Flaky test:org.apache.zookeeper.server.ServerStatsTest.testLatencyMetrics
                </div><div><b>description:</b> Jenkins complains about this Flaky test: https://builds.apache.org/job/ZooKeeper-trunk/77/testReport/junit/org.apache.zookeeper.server/ServerStatsTest/testLatencyMetrics/
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                -1 overall.  GitHub Pull Request  Build
      

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1889//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1889//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1889//console

This message is automatically generated.
              </div></li><li><div>
                -1 overall.  GitHub Pull Request  Build
      

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    -1 core tests.  The patch failed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1913//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1913//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1913//console

This message is automatically generated.
              </div></li><li><div>
                +1 overall.  GitHub Pull Request  Build
      

    +1 @author.  The patch does not contain any @author tags.

    +1 tests included.  The patch appears to include 3 new or modified tests.

    +1 javadoc.  The javadoc tool did not generate any warning messages.

    +1 javac.  The applied patch does not increase the total number of javac compiler warnings.

    +1 findbugs.  The patch does not introduce any new Findbugs (version 3.0.1) warnings.

    +1 release audit.  The applied patch does not increase the total number of release audit warnings.

    +1 core tests.  The patch passed core unit tests.

    +1 contrib tests.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1958//testReport/
Findbugs warnings: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1958//artifact/trunk/build/test/findbugs/newPatchFindbugsWarnings.html
Console output: https://builds.apache.org/job/PreCommit-ZOOKEEPER-github-pr-build/1958//console

This message is automatically generated.
              </div></li><li><div>
                Issue resolved by pull request 556
[https://github.com/apache/zookeeper/pull/556]
              </div></li><li><div>
                FAILURE: Integrated in Jenkins build ZooKeeper-trunk #108 (See [https://builds.apache.org/job/ZooKeeper-trunk/108/])
ZOOKEEPER-3074: Flaky (andor: rev 81b51554922d4cee5dde4a848a106f286f4c407b)
* (edit) src/java/test/org/apache/zookeeper/server/ServerStatsTest.java

              </div></li></ol></div></div></html>