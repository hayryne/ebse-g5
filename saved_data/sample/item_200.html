<!DOCTYPE html><html><div class="item-title">
        Item 200
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>message:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types

Author: Korn, Uwe &lt;Uwe.Korn@blue-yonder.com&gt;

Closes #1927 from xhochy/ARROW-2491 and squashes the following commits:

f2300dbf &lt;Korn, Uwe&gt; Test for NotImplementedError
0dbcc34f &lt;Korn, Uwe&gt; ARROW-2491: raise NotImplementedError on from_buffers with nested types

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
                </div><div><b>body:</b> 
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div><div><b>body:</b> Note you've got a flake8 failure.
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                Failure is due to Plasma
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                Can't this be a DataType method or property instead?
              </div></li><li><div>
                Yes, this could also be a DataType but as the comment suggests, I have just added this definition here so I can call the C++ function from Python. The user-facing `is_primitive` accepts a DataType.
              </div></li><li><div><div><b>body:</b> This raise should probably be tested as well. 
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                Done
              </div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> [Python]&nbsp;Array.from_buffers does not work for ListArray
                </div><div><b>description:</b> When you get the buffers from a ListArray and feed it back into {{pyarrow.Array.from_buffers}} the code fails with a DCHECK: 

{code}
./src/arrow/array.cc:247 Check failed: (data-&gt;buffers.size()) == (2)))
{code}
                </div></div></li><li><div><div><b>summary:</b> [Python]&nbsp;Array.from_buffers does not work for ListArray
                </div><div><b>description:</b> When you get the buffers from a ListArray and feed it back into {{pyarrow.Array.from_buffers}} the code fails with a DCHECK: 

{code}
./src/arrow/array.cc:247 Check failed: (data-&gt;buffers.size()) == (2)))
{code}
                </div></div></li><li><div><div><b>summary:</b> [Python]&nbsp;Array.from_buffers does not work for ListArray
                </div><div><b>description:</b> When you get the buffers from a ListArray and feed it back into {{pyarrow.Array.from_buffers}} the code fails with a DCHECK: 

{code}
./src/arrow/array.cc:247 Check failed: (data-&gt;buffers.size()) == (2)))
{code}
                </div></div></li><li><div><div><b>summary:</b> [Python]&nbsp;Array.from_buffers does not work for ListArray
                </div><div><b>description:</b> When you get the buffers from a ListArray and feed it back into {{pyarrow.Array.from_buffers}} the code fails with a DCHECK: 

{code}
./src/arrow/array.cc:247 Check failed: (data-&gt;buffers.size()) == (2)))
{code}
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                The `from_buffers` method currently does not provide the necessary feature set for nested data and only works for primitive types. I will add a {{NotImplementedError}}&nbsp;so that at least the segfaults are gone.

I'm working on the pickling at the moment and I'll have to get something similar for this working. Once the {{pickle}} roundtrip works, we can also discuss a possible alternative API for {{from_buffers}} for nested types.
              </div></li><li><div>
                xhochy opened a new pull request #1927: ARROW-2491: raise NotImplementedError on from_buffers with nested types
URL: https://github.com/apache/arrow/pull/1927
 
 
   

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org

              </div></li><li><div>
                pitrou commented on a change in pull request #1927: ARROW-2491: [Python] raise NotImplementedError on from_buffers with nested types
URL: https://github.com/apache/arrow/pull/1927#discussion_r183306910
 
 

 ##########
 File path: python/pyarrow/types.pxi
 ##########
 @@ -75,6 +75,11 @@ cdef bytes _datatype_to_pep3118(CDataType* type):
             return char
 
 
+def _is_primitive(Type type):
 
 Review comment:
   Can't this be a DataType method or property instead?

----------------------------------------------------------------
This is an automated message from the Apache Git Service.
To respond to the message, please log on GitHub and use the
URL above to go to the specific comment.
 
For queries about this service, please contact Infrastructure at:
users@infra.apache.org

              </div></li><li><div>
                Issue resolved by pull request 1927
[https://github.com/apache/arrow/pull/1927]
              </div></li></ol></div></div></html>