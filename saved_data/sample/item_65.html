<!DOCTYPE html><html><div class="item-title">
        Item 65
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 construct BreakIterator
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 construct Locale
              </div></li><li><div>
                /////////////////////////////////////////////////////////////////////
////////////////////// SolrInfoMBeans methods ///////////////////////
/////////////////////////////////////////////////////////////////////
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                /////////////////////////////////////////////////////////////////////
////////////////////// SolrInfoMBeans methods ///////////////////////
/////////////////////////////////////////////////////////////////////
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 Load the BoundaryScanners
              </div></li><li><div>
                 Thread safe registry
              </div></li><li><div>
                 Make sure we loaded one fragListBuilder
 Make sure we loaded two fragmentsBuilders
              </div></li><li><div>
                 Make sure we loaded two boundaryScanners
              </div></li><li><div>
                 language and country are used when constructing Locale object.  
 And the Locale object will be used when getting instance of BreakIterator 
              </div></li><li><div>
                 type should be one of CHARACTER, WORD(default), LINE and SENTENCE 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> SOLR-2749: add boundary scanner feature
                </div><div><b>message:</b> SOLR-2749: add boundary scanner feature

git-svn-id: https://svn.apache.org/repos/asf/lucene/dev/trunk@1170616 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li><li><div><div><b>summary:</b> use BoundaryScanner in Solr FVH
                </div><div><b>description:</b> After LUCENE-1824 committed, Solr FragmentsBuilder can snip off at the "natural" boundary by nature. But to bring out the full feature, Solr should take care of arbitrary BoundaryScanner in solrconfig.xml.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Draft, halfway patch.
              </div></li><li><div><div><b>body:</b> New patch. Almost done except test cases.
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                New patch. I added test case. Will commit tonight.
              </div></li><li><div>
                trunk: Committed revision 1170616.
3x: Committed revision 1170620.
              </div></li><li><div>
                Bulk close after 3.5 is released
              </div></li><li><div>
                Hi, I just installed trunk, and I'm still seeing this problem. Not sure how to provide a STR, but in snippets I'm seeing words cut in the middle rather than at their boundaries.

If it's useful, the query I'm sending is: 

INFO: [] webapp=/solr path=/select/ params={
sort=score+asc&amp;
fl=id,absolute_url,court_id,local_path,source,download_url,status,dateFiled&amp;
hl.fl=text,caseName,westCite,docketNumber,lexisCite,court_citation_string&amp;
f.text.hl.snippets=5&amp;
hl=true&amp;
q=willingness&amp;
fq=dateFiled:{*+TO+*}&amp;
fq={!tag%3Ddt}court_exact:("ca5"+OR+"ca4"+OR+"ca7"+OR+"ca1"+OR+"ca3"+OR+"ca2"+OR+"scotus"+OR+"ca9"+OR+"ca8"+OR+"all"+OR+"ca11"+OR+"ca10"+OR+"cadc"+OR+"cafc")
fq={!tag%3Ddt}status_exact:("Non-Precedential"+OR+"Relating-to+orders"+OR+"Precedential"+OR+"Errata")&amp;f.docketNumber.hl.alternateField=docketNumber&amp;
f.docketNumber.hl.fragListBuilder=single&amp;
f.lexisCite.hl.fragListBuilder=single&amp;
f.caseName.hl.fragListBuilder=single&amp;
f.westCite.hl.fragListBuilder=single&amp;
f.court_citation_string.hl.fragListBuilder=single&amp;

f.text.hl.alternateField=text&amp;
f.caseName.hl.alternateField=caseName&amp;
f.court_citation_string.hl.alternateField=court_citation_string
f.lexisCite.hl.alternateField=lexisCite&amp;
f.westCite.hl.alternateField=westCite&amp;
f.text.hl.maxAlternateFieldLength=500&amp;
}

And I'm getting a snippet that contains:

...g and willingness to read with care.” Rosenau v. Unifund Corp., 539 F.3d 218, 221 (3d Cir. 2008) (internal...

You can see the first and last word are both cut off.
              </div></li><li><div>
                Are you sure that you have boundaryScanner tag in your solrconfig.xml?

{code}
&lt;boundaryScanner name="default"
                 default="true"
                 class="solr.highlight.SimpleBoundaryScanner"&gt;
  &lt;lst name="defaults"&gt;
    &lt;str name="hl.bs.maxScan"&gt;10&lt;/str&gt;
    &lt;str name="hl.bs.chars"&gt;.,!? &amp;#9;&amp;#10;&amp;#13;&lt;/str&gt;
  &lt;/lst&gt;
&lt;/boundaryScanner&gt;
{code}

              </div></li><li><div>
                Oops. I suppose that would do it, huh? Is there a reason why this isn't in the config by default? Seems like one more place for a newbie to Solr (like myself) to miss a useful feature.

I'll update the wiki as well to make it clear what the BoundaryScanners are for and what a valid entry for them looks like.
              </div></li></ol></div></div></html>