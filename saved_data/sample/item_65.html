<!DOCTYPE html><html><div class="item-title">
        Item 65
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                *
 * A class for marshaling @link{AbstractId} so REST calls can serialize AbstractId to its canonical value.
 
              </div></li><li><div>
                 should not unmarshal from String
              </div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> ACCUMULO-4755 Custom serialization for AbstractId types (#336)
                </div><div><b>message:</b> ACCUMULO-4755 Custom serialization for AbstractId types (#336)

Custom JAXB marshaling with XmlJavaTypeAdapter
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> ACCUMULO-4755 Custom serialization for AbstractId types
                </div><div><b>body:</b>  Since the monitor is using the annotation `@Produces(MediaType.APPLICATION_JSON)` it looks like Jersey is taking the JAXB route by default. This was causing my custom Jackson serializer to not work on the front-end. Switched over to customizing the marshaling function with a custom XmlAdapter `JaxbAbstractIdSerializer`
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Can one of the admins verify this patch?
              </div></li><li><div>
                Squashed and merged. I confirmed that jaxb-api is brought in from Hadoop's class path.
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                The version should go in the parent POM's dependencyManagement section. The child POMs should omit the version.
              </div></li><li><div>
                Why make this non-final? Given how important this method is for its serialization/internal representation, it's pretty important that it not be overridden.
              </div></li><li><div>
                UnsupportedOperationException might be more appropriate here.
              </div></li><li><div>
                I don't think this needs to change.
              </div></li><li><div>
                I don't think the serialVersionUID needs to change.
              </div></li><li><div>
                Should guard against NPE here. Serialization shouldn't break if ID is null.
              </div></li><li><div>
                Definitely an oversight on my part, fixed.
              </div></li><li><div>
                Ah, good. I was worried that this was required for the serialization to work for some reason.
              </div></li><li><div>
                Too bad `@XmlJavaTypeAdapter` is not marked with `@Inherited`. Then, you could just annotate `AbstractId` instead of both `Table.ID` and `Namespace.ID`. It may be possible to register the serializer directly, using a method call in the monitor code instead of annotations. This would also save from adding the compile-time dependency to the core module. But, this is almost certainly not worth it.
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>