<!DOCTYPE html><html><div class="item-title">
        Item 2
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Fix Precommit Job
                </div><div><b>message:</b> Fix Precommit Job

It looks like the precommit job is performing an additional "git clone" that overwrites the PR

Author: Enrico Olivelli &lt;eolivelli@apache.org&gt;

Reviewers: andor@apache.prg

Closes #1460 from eolivelli/fix/pr-job-fix

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Fix Precommit Job
                </div><div><b>body:</b> It looks like the precommit job is performing an additional "git clone" that overwrites the PR
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                ```
[2020-09-17T12:23:15.921Z]      [exec] FAIL: zktest-mt
[2020-09-17T12:23:15.921Z]      [exec] ==========================================
[2020-09-17T12:23:15.921Z]      [exec] 1 of 2 tests failed
[2020-09-17T12:23:15.921Z]      [exec] Please report to user@zookeeper.apache.org
[2020-09-17T12:23:15.921Z]      [exec] ==========================================
[2020-09-17T12:23:15.921Z]      [exec] Makefile:1850: recipe for target 'check-TESTS' failed
[2020-09-17T12:23:15.921Z]      [exec] make[1]: Leaving directory '/home/jenkins/jenkins-agent/workspace/eper-precommit-github-pr_PR-1460/zookeeper-client/zookeeper-client-c/target/c'
[2020-09-17T12:23:15.921Z]      [exec] Makefile:2106: recipe for target 'check-am' failed
[2020-09-17T12:23:15.921Z]      [exec] make[1]: *** [check-TESTS] Error 1
[2020-09-17T12:23:15.921Z]      [exec] make: *** [check-am] Error 2
```

is this test unstable?
              </div></li><li><div>
                ```
[2020-09-17T12:23:15.921Z]      [exec] FAIL: zktest-mt
[2020-09-17T12:23:15.921Z]      [exec] ==========================================
[2020-09-17T12:23:15.921Z]      [exec] 1 of 2 tests failed
[2020-09-17T12:23:15.921Z]      [exec] Please report to user@zookeeper.apache.org
[2020-09-17T12:23:15.921Z]      [exec] ==========================================
[2020-09-17T12:23:15.921Z]      [exec] Makefile:1850: recipe for target 'check-TESTS' failed
[2020-09-17T12:23:15.921Z]      [exec] make[1]: Leaving directory '/home/jenkins/jenkins-agent/workspace/eper-precommit-github-pr_PR-1460/zookeeper-client/zookeeper-client-c/target/c'
[2020-09-17T12:23:15.921Z]      [exec] Makefile:2106: recipe for target 'check-am' failed
[2020-09-17T12:23:15.921Z]      [exec] make[1]: *** [check-TESTS] Error 1
[2020-09-17T12:23:15.921Z]      [exec] make: *** [check-am] Error 2
```

is this test unstable?
              </div></li><li><div>
                @TisonKun probably yes it is flaky

btw this time the job built the PR and not the master branch
https://ci-hadoop.apache.org/blue/organizations/jenkins/zookeeper-precommit-github-pr/detail/PR-1460/1/pipeline

please @anmolnar @symat @hanm  take a look and merge
              </div></li><li><div>
                I have restarted the job (@TisonKun you should be able to do that as well, as you are a Curator commiter now)
              </div></li><li><div>
                Thanks @eolivelli !
I committed to master branch.
              </div></li><li><div>
                &gt; ```
&gt; [2020-09-17T12:23:15.921Z]      [exec] FAIL: zktest-mt
&gt; [2020-09-17T12:23:15.921Z]      [exec] ==========================================
&gt; [2020-09-17T12:23:15.921Z]      [exec] 1 of 2 tests failed
&gt; [2020-09-17T12:23:15.921Z]      [exec] Please report to user@zookeeper.apache.org
&gt; [2020-09-17T12:23:15.921Z]      [exec] ==========================================
&gt; [2020-09-17T12:23:15.921Z]      [exec] Makefile:1850: recipe for target 'check-TESTS' failed
&gt; [2020-09-17T12:23:15.921Z]      [exec] make[1]: Leaving directory '/home/jenkins/jenkins-agent/workspace/eper-precommit-github-pr_PR-1460/zookeeper-client/zookeeper-client-c/target/c'
&gt; [2020-09-17T12:23:15.921Z]      [exec] Makefile:2106: recipe for target 'check-am' failed
&gt; [2020-09-17T12:23:15.921Z]      [exec] make[1]: *** [check-TESTS] Error 1
&gt; [2020-09-17T12:23:15.921Z]      [exec] make: *** [check-am] Error 2
&gt; ```
&gt; 
&gt; is this test unstable?

@anmolnar @eolivelli this test still unstable.
![image](https://user-images.githubusercontent.com/9931878/93570965-5f8ae380-f9c6-11ea-84ba-ef5feaa93ce2.png)

              </div></li><li><div>
                the "unstable" tests are not unstable. They are deterministically failing. Just took a quick look and I think https://github.com/apache/zookeeper/pull/1462 should fix them all.
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>