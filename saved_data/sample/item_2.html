<!DOCTYPE html><html><div class="item-title">
        Item 2
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Fix cassandra-stress so it respects the CL passed in user mode
                </div><div><b>message:</b> Fix cassandra-stress so it respects the CL passed in user mode

patch by tjake; reviewed by benedict for CASSANDRA-8948

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> cassandra-stress does not honour consistency level (cl) parameter when used in combination with user command
                </div><div><b>description:</b> The stress test tool does not honour "cl" parameter when used in combination with the "user" command. Consistency level will be default ONE no matter what is set by "cl=".

Works fine with "write" command.

How to reproduce:
1. Create a suitable yaml-file to use in test
2. Run e.g. {code}./cassandra-stress user profile=./file.yaml cl=ALL no-warmup duration=10s  ops\(insert=1\) -rate threads=4 -port jmx=7100{code}
3. Observe that cl=ONE in trace logs
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Looks like we aren't setting the CL for prepared statements. Only for batch inserts.
              </div></li><li><div><div><b>body:</b> +1 except some unnecessary whitespace
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Committed, thanks for reporting this 
              </div></li></ol></div></div></html>