<!DOCTYPE html><html><div class="item-title">
        Item 142
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 prevent -f on a non-existent glob from failing
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HADOOP-9289. Merge 1443108 from trunk
                </div><div><b>message:</b> HADOOP-9289. Merge 1443108 from trunk

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/branch-2.0.3-alpha@1443128 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> FsShell rm -f fails for non-matching globs
                </div><div><b>description:</b> Rm -f isn't supposed to error for paths that don't exist.  It works as expected for exact paths, but fails for non-matching globs.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12568254/HADOOP-9289.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-common.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HADOOP-Build/2159//testReport/
Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2159//console

This message is automatically generated.
              </div></li><li><div>
                Replacing invalid 23 patch that accidentally included another patch.  Only change from trunk patch is the import for an exception.

This patch will of course fail pre-commit on trunk.
              </div></li><li><div>
                {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12568262/HADOOP-9289.branch-23.patch
  against trunk revision .

    {color:red}-1 patch{color}.  The patch command could not apply the patch.

Console output: https://builds.apache.org/job/PreCommit-HADOOP-Build/2160//console

This message is automatically generated.
              </div></li><li><div><div><b>body:</b> Daryn, the docs need to be updated to indicate this behavior. For example man page on rm says:
{noformat}
     -f          Attempt to remove the files without prompting for confirmation, regardless of the file's permissions.  If the file does not exist, do not display a diagnostic message or modify the exit
                 status to reflect an error.  The -f option overrides any previous -i options.
{noformat}

But this change can be done in a later patch.

+1 for the patch.
                </div><div><b>label:</b> documentation
                </div></div></li><li><div>
                Integrated in Hadoop-trunk-Commit #3332 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/3332/])
    HADOOP-9289. FsShell rm -f fails for non-matching globs. Contributed by Daryn Sharp. (Revision 1443108)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1443108
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Delete.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShellReturnCode.java

              </div></li><li><div>
                I committed the patch to trunk. Will soon merge it to other branches.
              </div></li><li><div>
                I committed the patch to trunk, branch-2, 2.0.3 and 0.23.

Thank you Daryn!
              </div></li><li><div>
                The FsShell rm usage states:
{noformat}
-f     If the file does not exist, do not display a diagnostic
       message or modify the exit status to reflect an error.
{noformat}

How do you think the text should be updated?
              </div></li><li><div>
                I meant these options need to be added and the description needs to be added to user docs in {{hadoop-common/src/site/apt/FileSystemShell.apt.vm}}.
              </div></li><li><div>
                Integrated in Hadoop-Yarn-trunk #120 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/120/])
    HADOOP-9289. FsShell rm -f fails for non-matching globs. Contributed by Daryn Sharp. (Revision 1443108)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1443108
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Delete.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShellReturnCode.java

              </div></li><li><div>
                Integrated in Hadoop-Hdfs-0.23-Build #518 (See [https://builds.apache.org/job/Hadoop-Hdfs-0.23-Build/518/])
    HADOOP-9289. FsShell rm -f fails for non-matching globs. Contributed by Daryn Sharp. (Revision 1443155)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1443155
Files : 
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Delete.java
* /hadoop/common/branches/branch-0.23/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShellReturnCode.java

              </div></li><li><div>
                Integrated in Hadoop-Hdfs-trunk #1309 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1309/])
    HADOOP-9289. FsShell rm -f fails for non-matching globs. Contributed by Daryn Sharp. (Revision 1443108)

     Result = FAILURE
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1443108
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Delete.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShellReturnCode.java

              </div></li><li><div>
                Integrated in Hadoop-Mapreduce-trunk #1337 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1337/])
    HADOOP-9289. FsShell rm -f fails for non-matching globs. Contributed by Daryn Sharp. (Revision 1443108)

     Result = SUCCESS
suresh : http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1443108
Files : 
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/CHANGES.txt
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/shell/Delete.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/fs/TestFsShellReturnCode.java

              </div></li></ol></div></div></html>