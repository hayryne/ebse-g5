<!DOCTYPE html><html><div class="item-title">
        Item 306
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Design document: The C++ Abstraction Layer
                </div><div><b>message:</b> Design document: The C++ Abstraction Layer

Jira: MADLIB-696

A first revision of documenting the C++ abstraction layer. Several classes still
need a more detailed explanation.

Other changes:
- Linear-algebra module now included in user documentation

                </div><div><b>label:</b> documentation
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> MADlib builds fail when compiling against FAT binary postgres installations
                </div><div><b>description:</b> Using a binary postgres installation that was a FAT application trying to compile madlib will fail with the following error.
{noformat}
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Checking whether C compiler has -isysroot
-- Checking whether C compiler has -isysroot - yes
-- Checking whether C compiler supports OSX deployment target flag
-- Checking whether C compiler supports OSX deployment target flag - yes
-- Check for working C compiler: /releng/gcc-4.4.2/bin/gcc
-- Check for working C compiler: /releng/gcc-4.4.2/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Checking whether CXX compiler has -isysroot
-- Checking whether CXX compiler has -isysroot - yes
-- Checking whether CXX compiler supports OSX deployment target flag
-- Checking whether CXX compiler supports OSX deployment target flag - yes
-- Check for working CXX compiler: /releng/gcc-4.4.2/bin/g++
-- Check for working CXX compiler: /releng/gcc-4.4.2/bin/g++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Boost version: 1.48.0
CMake Error at cmake/Utils.cmake:93 (message):
  Unique word length requested, but /usr/local/postgres/8.4/bin/postgres is
  fat binary (ppc, i386).
Call Stack (most recent call first):
  src/ports/postgres/cmake/FindPostgreSQL.cmake:171 (architecture)
  src/ports/postgres/cmake/PostgreSQLUtils.cmake:66 (find_package)
  src/ports/postgres/CMakeLists.txt:346 (determine_target_versions)
{noformat}

Workaround: Strip the unnecessary architecture from the installation:
{noformat}
ditto --rsrc --arch i386 /usr/local/postgres/8.4/bin/postgres /usr/local/postgres/8.4/bin/postgres-new
{noformat}
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Assigning this as seg-3 since a workaround is available. 
              </div></li></ol></div></div></html>