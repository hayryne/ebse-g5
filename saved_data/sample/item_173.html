<!DOCTYPE html><html><div class="item-title">
        Item 173
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                * 
        Answer a statement iterator that will iterate over all the statements
        (S, P, O) in this model where S matches &lt;code&gt;subject&lt;/code&gt;, P
        matches &lt;code&gt;predicate&lt;/code&gt;, and O matches the typed literal
        corresponding to &lt;code&gt;object&lt;/code&gt;.
    
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> JENA-1082: Merge commit 'refs/pull/116/head' of github.com:apache/jena
                </div><div><b>message:</b> JENA-1082: Merge commit 'refs/pull/116/head' of github.com:apache/jena

This closes #116.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Fixes JENA-1082.
                </div><div><b>body:</b> Proposal to fix JENA-1082 issue that further overloads ModelCon#listLiteralStatements() method. The only required implementation of such method follows the same idea behind of other listLiteralStatements() methods.

                </div></div></li><li><div><div><b>title:</b> Fixes JENA-1082.
                </div><div><b>body:</b> Proposal to fix JENA-1082 issue that further overloads ModelCon#listLiteralStatements() method. The only required implementation of such method follows the same idea behind of other listLiteralStatements() methods.

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Add to org.apache.jena.rdf.model.ModelCon interface a listLiteralStatements method that accepts ints.
                </div><div><b>description:</b> Add to org.apache.jena.rdf.model.ModelCon interface a {{StmtIterator listLiteralStatements(Resource subject, Property predicate, int object );}} method.

Implement such method in classes that implement such interface. This method should be able to list literal integer statements, like the other listLiteralStatement methods do to other types.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                There is already {{listLiteralStatements(Resource subject, Property predicate, long object)}}.  Does that work for your use case?
              </div></li><li><div><div><b>body:</b> It doesn't, but I managed to do a similar query with {{listResourcesWithProperty}} combined with {{ResourceFactory.createTypedLiteral}}.

As you have already noted, this is just a request for improvement since, clearly, the {{listLiteralStatements}} methods are a convenience for the API users, but it lacks a type that is used a lot and is consistently present in other methods.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Please do submit a patch or pull request.

I'm interested in why the {{long}} version does not work for you - it might affect others if we add an additional one for int as int to long promotion will not then occur.

Which storage layer are you using?
              </div></li><li><div>
                Are you using an Integer (a boxed int), not an int itself?
              </div></li><li><div>
                Ping?
              </div></li><li><div>
                Hi,

sorry for the delay to answer.

At the moment, I'm storing things on a XML file. I'm simply adhering to an specification I was given about a RDF model I must query and update. While testing my code about this issue I noticed that, should I have the following data on the file...

{code}
&lt;v:number rdf:about="http://meh#0001"&gt;
    &lt;v:num rdf:datatype="http://www.w3.org/2001/XMLSchema#int"&gt;2&lt;/v:num&gt;
    &lt;v:num rdf:datatype="http://www.w3.org/2001/XMLSchema#long"&gt;200&lt;/v:num&gt;
&lt;/v:number&gt;
{code}

... and I query it with {{StmtIterator listLiteralStatements(Resource subject, Property predicate, long object );}}, I may get an the int typed value or the long typed value. It seems to depend only on the position of the lines in the XML file. That's the reason why I want to specify the precise type of the property I'm looking for.
              </div></li><li><div>
                Are you storing the RDF in-memory?

If so, there is a different thing going on.  The {{listLiteralStatements}} is finding {{v:num}} based on value, not on the term (lexical forma + datatype).  if you ask for 200(int) it will list 200\^^xsd:long, or 200\^^xsd:integer, or 200\^^xsd:nonNegativeInteger or several others.  If you care about the presentation, you need to check the datatype as well.  Relying on the java basic type mapping to RDF datatype is unreliable as it is not perfect and two-way.

              </div></li><li><div>
                GitHub user ramiromagalhaes opened a pull request:

    https://github.com/apache/jena/pull/116

    Fixes JENA-1082.

    Proposal to fix JENA-1082 issue that further overloads ModelCon#listLiteralStatements() method. The only required implementation of such method follows the same idea behind of other listLiteralStatements() methods.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/ramiromagalhaes/jena JENA-1082

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/jena/pull/116.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #116
    
----
commit 2d1e7a0235f91990f31c00c9242a532783f74866
Author: Ramiro Pereira de Magalh√£es &lt;ramiro.p.magalhaes@gmail.com&gt;
Date:   2015-12-29T18:00:07Z

    Fixes JENA-1082.

----

              </div></li><li><div>
                Commit 2d1e7a0235f91990f31c00c9242a532783f74866 in jena's branch refs/heads/master from [~ramiromagalhaes]
[ https://git-wip-us.apache.org/repos/asf?p=jena.git;h=2d1e7a0 ]

Fixes JENA-1082.

              </div></li><li><div>
                Commit f2b5681c6e0f7aa80dfa8299b429e8b0b22b422a in jena's branch refs/heads/master from [~andy.seaborne]
[ https://git-wip-us.apache.org/repos/asf?p=jena.git;h=f2b5681 ]

JENA-1082: Merge commit 'refs/pull/116/head' of github.com:apache/jena

This closes #116.

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/jena/pull/116

              </div></li><li><div>
                Thank you.

PR applied.

              </div></li><li><div>
                Commit 6fbecf1e35024b51f1f3031c9b5c8e960e2237d4 in jena's branch refs/heads/master from [~andy.seaborne]
[ https://git-wip-us.apache.org/repos/asf?p=jena.git;h=6fbecf1 ]

Align with jena-core change (JENA-1082)

              </div></li><li><div>
                Commit bd9fdd2e40997b67e1f3f8ff755deb05400b1ca7 in jena's branch refs/heads/master from [~ramiromagalhaes]
[ https://git-wip-us.apache.org/repos/asf?p=jena.git;h=bd9fdd2 ]

Fixes JENA-1082.

              </div></li><li><div>
                Commit 068113ec9c16bea6bb4409e348c8b3de40148e93 in jena's branch refs/heads/master from [~andy.seaborne]
[ https://git-wip-us.apache.org/repos/asf?p=jena.git;h=068113e ]

Align with jena-core change (JENA-1082)

              </div></li></ol></div></div></html>