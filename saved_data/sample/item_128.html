<!DOCTYPE html><html><div class="item-title">
        Item 128
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                *
 * Class wraps ozone container info.
 
              </div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 *  with the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 
              </div></li><li><div>
                *
   * Compares this object with the specified object for order.  Returns a
   * negative integer, zero, or a positive integer as this object is less than,
   * equal to, or greater than the specified object.
   *
   * @param o the object to be compared.
   * @return a negative integer, zero, or a positive integer as this object is
   * less than, equal to, or greater than the specified object.
   * @throws NullPointerException if the specified object is null
   * @throws ClassCastException   if the specified object's type prevents it
   *                              from being compared to this object.
   
              </div></li><li><div>
                *
   * Compares its two arguments for order.  Returns a negative integer, zero, or
   * a positive integer as the first argument is less than, equal to, or greater
   * than the second.&lt;p&gt;
   *
   * @param o1 the first object to be compared.
   * @param o2 the second object to be compared.
   * @return a negative integer, zero, or a positive integer as the first
   * argument is less than, equal to, or greater than the second.
   * @throws NullPointerException if an argument is null and this comparator
   *                              does not permit null arguments
   * @throws ClassCastException   if the arguments' types prevent them from
   *                              being compared by this comparator.
   
              </div></li><li><div>
                *
 * Helper class for converting protobuf objects.
 
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                * Hidden constructor 
              </div></li><li><div>
                *
   * Gets a container by Name -- Throws if the container does not exist.
   *
   * @param containerId - Container ID
   * @return ContainerWithPipeline
   * @throws IOException
   
              </div></li><li><div>
                *
   * Delete the container, this will release any resource it uses.
   * @param containerID - containerID.
   * @param force - True to forcibly delete the container.
   * @throws IOException
   
              </div></li><li><div>
                *
   * Close a container.
   *
   * @throws IOException
   
              </div></li><li><div>
                *
   * Get meta data from an existing container.
   * @param containerID - ID of the container.
   * @return ContainerInfo - a message of protobuf which has basic info
   * of a container.
   * @throws IOException
   
              </div></li><li><div>
                *
   * Deletes an existing container.
   * @param containerId - ID of the container.
   * @param force - true to forcibly delete the container.
   * @throws IOException
   
              </div></li><li><div>
                *
   * Read meta data from an existing container.
   * @param containerID - ID of the container.
   * @return ContainerInfo
   * @throws IOException
   
              </div></li><li><div>
                *
   * Close a container.
   *
   * @param containerId - ID of the container.
   * @throws IOException
   
              </div></li><li><div>
                *
   * Gets a container by Name -- Throws if the container does not exist.
   * @param containerId - Container ID
   * @return ContainerWithPipeline
   * @throws IOException
   
              </div></li><li><div>
                *
   * Throws IOException as default java serialization is not supported. Use
   * serialization via protobuf instead.
   *
   * @param in the stream to read data from in order to restore the object
   * @throws IOException            if I/O errors occur
   * @throws ClassNotFoundException If the class for an object being
   *                                restored cannot be found.
   
              </div></li><li><div>
                *
   * Throws IOException as default java serialization is not supported. Use
   * serialization via protobuf instead.
   *
   * @param out the stream to write the object to
   * @throws IOException Includes any I/O exceptions that may occur
   * @serialData Overriding methods should use this tag to describe
   * the data layout of this Externalizable object.
   * List the sequence of element types and, if possible,
   * relate the element to a public/protected field and/or
   * method of this Externalizable class.
   
              </div></li><li><div>
                *
   * Ask SCM the location of the container. SCM responds with a group of
   * nodes where this container and its replicas are located.
   *
   * @param containerID - ID of the container.
   * @return ContainerWithPipeline - the container info with the pipeline.
   * @throws IOException
   
              </div></li><li><div>
                *
   * {@inheritDoc}
   
              </div></li><li><div>
                *
   * Return a container matching the attributes specified.
   *
   * @param size - Space needed in the Container.
   * @param owner - Owner of the container - A specific nameservice.
   * @param type - Replication Type {StandAlone, Ratis}
   * @param factor - Replication Factor {ONE, THREE}
   * @param state - State of the Container-- {Open, Allocated etc.}
   * @return ContainerInfo, null if there is no match found.
   
              </div></li><li><div>
                *
   * Returns the ContainerInfo from the container ID.
   *
   * @param containerID - ID of container.
   * @return - ContainerWithPipeline such as creation state and the pipeline.
   * @throws IOException
   
              </div></li><li><div><div><b>comment:</b>  TODO: If current state doesn't have this DN in list of DataNodes with replica
 then add it in list of replicas.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                *
   * Returns the containerInfo with pipeline for the given container id.
   * @param selector -- Pipeline selector class.
   * @param containerID id of the container
   * @return ContainerInfo containerInfo
   * @throws IOException
   
              </div></li><li><div>
                *
   * Returns the ContainerInfo from the container ID.
   *
   * @param containerID - ID of container.
   * @return - ContainerWithPipeline such as creation state and the pipeline.
   * @throws IOException
   
              </div></li><li><div>
                *
   * Returns the ContainerWithPipeline.
   * @return NodeManager
   
              </div></li><li><div>
                *
   * This function to get pipeline with given pipeline name.
   *
   * @param pipelineName
   * @return a Pipeline.
   
              </div></li><li><div>
                 1. Check if pipeline channel already exists
              </div></li><li><div>
                *
   * This function to return pipeline for given pipeline name and replication
   * type.
   
              </div></li><li><div>
                 working correctly.
              </div></li><li><div>
                 Send this command twice and assert we have only one command in queue.
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HDDS-175. Refactor ContainerInfo to remove Pipeline object from it.
                </div><div><b>message:</b> HDDS-175. Refactor ContainerInfo to remove Pipeline object from it.
Contributed by Ajay Kumar.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li><li><div><div><b>summary:</b> Refactor ContainerInfo to remove Pipeline object from it 
                </div><div><b>description:</b> Refactor ContainerInfo to remove Pipeline object from it. We can add below 4 fields to ContainerInfo to recreate pipeline if required:
# pipelineId
# replication type
# expected replication count
# DataNode where its replica exist
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 37s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 18 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 44s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 32m 52s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 31m 41s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 57s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  7m 50s{color} | {color:red} branch has errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m  3s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 43s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 21s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 19s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 28m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 28m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 28m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 55s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  2m 21s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 11s{color} | {color:red} hadoop-hdds/common generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 50s{color} | {color:red} hadoop-hdds/server-scm generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 43s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 23s{color} | {color:green} hadoop-yarn-site in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 18s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 28s{color} | {color:green} client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  2m 18s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 28s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 37s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 31s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 21m 39s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 40s{color} | {color:red} The patch generated 1 ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}166m 32s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-hdds/common |
|  |  org.apache.hadoop.hdds.scm.container.common.helpers.ContainerInfo implements Comparator but not Serializable  At ContainerInfo.java:Serializable  At ContainerInfo.java:[lines 46-355] |
| FindBugs | module:hadoop-hdds/server-scm |
|  |  Redundant nullcheck of pipeline which is known to be null in org.apache.hadoop.hdds.scm.pipelines.PipelineManager.getPipelineForContainer(ContainerInfo)  Redundant null check at PipelineManager.java:is known to be null in org.apache.hadoop.hdds.scm.pipelines.PipelineManager.getPipelineForContainer(ContainerInfo)  Redundant null check at PipelineManager.java:[line 122] |
| Failed junit tests | hadoop.hdds.scm.container.TestContainerMapping |
|   | hadoop.hdds.scm.block.TestDeletedBlockLog |
|   | hadoop.hdds.scm.container.TestCloseContainerEventHandler |
|   | hadoop.hdds.scm.container.closer.TestContainerCloser |
|   | hadoop.ozone.TestStorageContainerManager |
|   | hadoop.ozone.TestContainerOperations |
|   | hadoop.ozone.scm.TestSCMCli |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928066/HDDS-175.00.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux a5ff69b5c3b3 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 8762e9c |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/321/artifact/out/new-findbugs-hadoop-hdds_common.html |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/321/artifact/out/new-findbugs-hadoop-hdds_server-scm.html |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/321/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/321/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/321/testReport/ |
| asflicense | https://builds.apache.org/job/PreCommit-HDDS-Build/321/artifact/out/patch-asflicense-problems.txt |
| Max. process+thread count | 1003 (vs. ulimit of 10000) |
| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/321/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                Patch v1 to address failed test cases and fix findbug warning for PipelineManager. IMP we can ignore "ContainerInfo implements Comparator but not Serializable" findbug warning as we use protobuf for serializing ContainerInfo. (i.e SCMContainerInfo)
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m  0s{color} | {color:blue} Docker mode activated. {color} |
| {color:red}-1{color} | {color:red} patch {color} | {color:red}  0m  6s{color} | {color:red} HDDS-175 does not apply to trunk. Rebase required? Wrong Branch? See https://wiki.apache.org/hadoop/HowToContribute for help. {color} |
\\
\\
|| Subsystem || Report/Notes ||
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928230/HDDS-175.01.patch |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/323/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 36s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 18 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 30s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 27m 59s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 31m 14s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  5m 18s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  8m 12s{color} | {color:red} branch has errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m  1s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 39s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 35s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 28s{color} | {color:red} common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 15s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 25s{color} | {color:red} common in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 16s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 17s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 30m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 30m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 30m  4s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 28s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 31s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 29s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 32s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 31s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 30s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:red}-1{color} | {color:red} shadedclient {color} | {color:red}  2m 20s{color} | {color:red} patch has errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m  9s{color} | {color:red} hadoop-hdds/common generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 27s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 28s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 27s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 28s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 28s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 27s{color} | {color:red} hadoop-hdds_client generated 4 new + 0 unchanged - 0 fixed = 4 total (was 0) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 28s{color} | {color:red} hadoop-hdds_server-scm generated 17 new + 0 unchanged - 0 fixed = 17 total (was 0) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 26s{color} | {color:red} hadoop-hdds_tools generated 3 new + 0 unchanged - 0 fixed = 3 total (was 0) {color} |
| {color:red}-1{color} | {color:red} javadoc {color} | {color:red}  0m 27s{color} | {color:red} hadoop-ozone_client generated 4 new + 0 unchanged - 0 fixed = 4 total (was 0) {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 23s{color} | {color:green} hadoop-yarn-site in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 18s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 28s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 28s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 28s{color} | {color:red} tools in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 37s{color} | {color:green} common in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 28s{color} | {color:red} client in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 30s{color} | {color:red} tools in the patch failed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 29s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 40s{color} | {color:red} The patch generated 1 ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}137m 19s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-hdds/common |
|  |  org.apache.hadoop.hdds.scm.container.common.helpers.ContainerInfo implements Comparator but not Serializable  At ContainerInfo.java:Serializable  At ContainerInfo.java:[lines 48-392] |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928269/HDDS-175.02.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux 9b90c4620180 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 1e94e59 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-hdds_common.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-hdds_client.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-hdds_server-scm.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-hdds_tools.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-ozone_common.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-ozone_client.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-ozone_tools.txt |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvninstall-hadoop-ozone_integration-test.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-hdds_client.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-hdds_server-scm.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-hdds_tools.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-ozone_client.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-ozone_tools.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-mvnsite-hadoop-ozone_integration-test.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/new-findbugs-hadoop-hdds_common.html |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-findbugs-hadoop-hdds_client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-findbugs-hadoop-hdds_server-scm.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-findbugs-hadoop-hdds_tools.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-findbugs-hadoop-ozone_client.txt |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-findbugs-hadoop-ozone_tools.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/diff-javadoc-javadoc-hadoop-hdds_client.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/diff-javadoc-javadoc-hadoop-hdds_server-scm.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/diff-javadoc-javadoc-hadoop-hdds_tools.txt |
| javadoc | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/diff-javadoc-javadoc-hadoop-ozone_client.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-hdds_client.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-hdds_tools.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-ozone_client.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-ozone_tools.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/325/testReport/ |
| asflicense | https://builds.apache.org/job/PreCommit-HDDS-Build/325/artifact/out/patch-asflicense-problems.txt |
| Max. process+thread count | 104 (vs. ulimit of 10000) |
| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/325/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build Hadoop-precommit-ozone-acceptance #19 (See [https://builds.apache.org/job/Hadoop-precommit-ozone-acceptance/19/])

              </div></li><li><div><div><b>body:</b> patch v3 to remove some unused imports.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 20s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 18 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  2m 18s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m 45s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 28m 47s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 19s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 17s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 14m 33s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  4m 42s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 23s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 55s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m  7s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 28m  2s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 28m  2s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 28m  2s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 44s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green}  9m 51s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m  0s{color} | {color:red} hadoop-hdds/common generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 44s{color} | {color:red} hadoop-hdds/server-scm generated 2 new + 0 unchanged - 0 fixed = 2 total (was 0) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 48s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 21s{color} | {color:green} hadoop-yarn-site in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m  9s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 24s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 23s{color} | {color:green} server-scm in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 23s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 33s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 26s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 22m 16s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 41s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}170m 36s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-hdds/common |
|  |  org.apache.hadoop.hdds.scm.container.common.helpers.ContainerInfo implements Comparator but not Serializable  At ContainerInfo.java:Serializable  At ContainerInfo.java:[lines 48-392] |
| FindBugs | module:hadoop-hdds/server-scm |
|  |  org.apache.hadoop.hdds.protocol.DatanodeDetails is incompatible with expected argument type org.apache.hadoop.hdds.protocol.proto.HddsProtos$DatanodeDetailsProto in org.apache.hadoop.hdds.scm.container.ContainerMapping.reconcileState(StorageContainerDatanodeProtocolProtos$ContainerInfo, HddsProtos$SCMContainerInfo, DatanodeDetails)  At ContainerMapping.java:argument type org.apache.hadoop.hdds.protocol.proto.HddsProtos$DatanodeDetailsProto in org.apache.hadoop.hdds.scm.container.ContainerMapping.reconcileState(StorageContainerDatanodeProtocolProtos$ContainerInfo, HddsProtos$SCMContainerInfo, DatanodeDetails)  At ContainerMapping.java:[line 477] |
|  |  Possible null pointer dereference of pipeline in org.apache.hadoop.hdds.scm.pipelines.PipelineManager.getPipelineForContainer(ContainerInfo)  Dereferenced at PipelineManager.java:pipeline in org.apache.hadoop.hdds.scm.pipelines.PipelineManager.getPipelineForContainer(ContainerInfo)  Dereferenced at PipelineManager.java:[line 128] |
| Failed junit tests | hadoop.ozone.scm.TestSCMCli |
|   | hadoop.ozone.TestStorageContainerManager |
|   | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928416/HDDS-175.03.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux 1f100be77b0a 4.4.0-116-generic #140-Ubuntu SMP Mon Feb 12 21:23:04 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 2d87592 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/332/artifact/out/new-findbugs-hadoop-hdds_common.html |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/332/artifact/out/new-findbugs-hadoop-hdds_server-scm.html |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/332/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/332/testReport/ |
| Max. process+thread count | 1136 (vs. ulimit of 10000) |
| modules | C: hadoop-yarn-project/hadoop-yarn/hadoop-yarn-site hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/332/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                Thanks [~ajayydv], for updating the patch. I just had a quick look.

There are some unwanted changes in file "WritingYarnApplications.md" and there are test failures as well as some findBug issues.

Can you please check these?&nbsp;

I will have a closer look at it.
              </div></li><li><div>
                [~shashikant] thanks for having a look. Removed {{WritingYarnApplications.md}} in patch v4. Failed test passed locally.
 [~anu] thanks for  our offline discussion on patch. Overloaded getContainer as suggested.
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 33s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 56s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m 30s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 29m 13s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 27s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 51s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 16m  2s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 21s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 45s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 23s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 17s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 27m 49s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 27m 49s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 27m 49s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 27s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 53s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 37s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  1m 16s{color} | {color:red} hadoop-hdds/common generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 37s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 15s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  2m 46s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 21s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 31s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 25s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 23s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 24m 56s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 32s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}177m  8s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-hdds/common |
|  |  org.apache.hadoop.hdds.scm.container.common.helpers.ContainerInfo implements Comparator but not Serializable  At ContainerInfo.java:Serializable  At ContainerInfo.java:[lines 48-392] |
| Failed junit tests | hadoop.hdds.scm.server.report.TestSCMDatanodeHeartbeatDispatcher |
|   | hadoop.ozone.container.common.TestEndPoint |
|   | hadoop.hdds.scm.container.TestCloseContainerEventHandler |
|   | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
|   | hadoop.ozone.TestStorageContainerManager |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928708/HDDS-175.04.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux e0c01d1bfedc 4.4.0-121-generic #145-Ubuntu SMP Fri Apr 13 13:47:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 30728ac |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/339/artifact/out/new-findbugs-hadoop-hdds_common.html |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/339/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/339/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/339/testReport/ |
| Max. process+thread count | 1084 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/339/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 36s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 55s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 27m 46s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 22m 29s{color} | {color:red} root in trunk failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 16m 14s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  4m 57s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 14s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 20s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m  8s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 21m 58s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} cc {color} | {color:red} 21m 58s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 21m 58s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 15s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  7s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 49s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 15s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 17s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 26s{color} | {color:green} client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  2m 25s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 26s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 35s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 30s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 29s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 14m 11s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 38s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}152m 52s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.hdds.scm.block.TestBlockManager |
|   | hadoop.ozone.ksm.TestMultipleContainerReadWrite |
|   | hadoop.ozone.web.TestOzoneRestWithMiniCluster |
|   | hadoop.ozone.client.rpc.TestOzoneRpcClient |
|   | hadoop.ozone.client.rest.TestOzoneRestClient |
|   | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
|   | hadoop.ozone.ksm.TestKSMSQLCli |
|   | hadoop.ozone.ksm.TestKsmBlockVersioning |
|   | hadoop.ozone.scm.TestContainerSQLCli |
|   | hadoop.ozone.ozShell.TestOzoneShell |
|   | hadoop.ozone.TestStorageContainerManager |
|   | hadoop.ozone.ksm.TestContainerReportWithKeys |
|   | hadoop.ozone.freon.TestDataValidate |
|   | hadoop.ozone.ksm.TestKeySpaceManager |
|   | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerHandler |
|   | hadoop.ozone.web.client.TestKeysRatis |
|   | hadoop.ozone.freon.TestFreon |
|   | hadoop.ozone.scm.TestSCMCli |
|   | hadoop.ozone.web.client.TestKeys |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928927/HDDS-175.05.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux b892045de621 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / e16e5b3 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| compile | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/branch-compile-root.txt |
| findbugs | v3.1.0-RC1 |
| compile | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/patch-compile-root.txt |
| cc | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/patch-compile-root.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/350/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/350/testReport/ |
| Max. process+thread count | 949 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/350/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                patch v6 to fix failing test case for BlockManager.
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 28s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 31s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 30m 29s{color} | {color:green} trunk passed {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 31m 15s{color} | {color:red} root in trunk failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  5m 47s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 19m  6s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  6m 55s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  5m 32s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 31s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  4m 16s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 29m 10s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} cc {color} | {color:red} 29m 10s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 29m 10s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 34s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 53s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 12m 46s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  7m 47s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 45s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 28s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 28s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 32s{color} | {color:green} server-scm in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 36s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 30s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 29s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 21m 48s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:red}-1{color} | {color:red} asflicense {color} | {color:red}  0m 39s{color} | {color:red} The patch generated 1 ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}191m 25s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
|   | hadoop.ozone.TestStorageContainerManager |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12928987/HDDS-175.06.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux 70967ddb0d25 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 440140c |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| compile | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/branch-compile-root.txt |
| findbugs | v3.1.0-RC1 |
| compile | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/patch-compile-root.txt |
| cc | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/patch-compile-root.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/352/testReport/ |
| asflicense | https://builds.apache.org/job/PreCommit-HDDS-Build/352/artifact/out/patch-asflicense-problems.txt |
| Max. process+thread count | 1004 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/352/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div><div><b>body:</b> Thanks [~ajayydv] for working on such a huge refactoring change. Please find my comments below.

*ContainerInfo*

Instead of {{expectedReplicaCount}} as a int value, we can use {{ReplicationFactor}} enum from HddsProtos.
 * {{fromProtobuf}}

{code:java}
List&lt;DatanodeDetails&gt; dnDetails = new ArrayList&lt;&gt;();
for(DatanodeDetailsProto dn: info.getDataNodesList()) {
  DatanodeDetails dnDetail = DatanodeDetails.newBuilder().setHostName(dn.getHostName())
      .setIpAddress(dn.getIpAddress())
      .setUuid(dn.getUuid()).build();
  for (HddsProtos.Port port : dn.getPortsList()) {
    dnDetail.setPort(DatanodeDetails.newPort(
        Port.Name.valueOf(port.getName().toUpperCase()), port.getValue()));
  }
  dnDetails.add(dnDetail);
}
{code}
can be replaced with
{code:java}
List&lt;DatanodeDetails&gt; dnDetails = new ArrayList&lt;&gt;();
info.getDataNodesList().forEach(dd -&gt; dnDetails.add(DatanodeDetails.getFromProtoBuf(dd)));
{code}
 * getDataNodesIds

{code:java}
public List&lt;String&gt; getDataNodesIds() {
  if (dataNodes == null) {
    return ListUtils.EMPTY_LIST;
  }
  
  List&lt;String&gt; nodes = Lists.newArrayListWithExpectedSize(dataNodes.size());
  for (DatanodeDetails dn : dataNodes) {
    nodes.add(dn.getUuidString());
  }
  return nodes;
}
{code}
can be refactored to
{code:java}
public List&lt;String&gt; getDataNodesIds() {
  List&lt;String&gt; result = new ArrayList&lt;&gt;();
  dataNodes.forEach(dn -&gt; result.add(dn.getUuidString()));
  return result;
}
{code}
 * getProtobuf

In few {{Builder.setXXX}} calls we have used instance variable and in few we have used getter methods. It will look good if we stick with any one, I'm inclined towards using instance variable.
{code:java}
public HddsProtos.SCMContainerInfo getProtobuf() {
  HddsProtos.SCMContainerInfo.Builder builder =
      HddsProtos.SCMContainerInfo.newBuilder();
  builder.setAllocatedBytes(getAllocatedBytes())
      .setUsedBytes(getUsedBytes())
      .setNumberOfKeys(getNumberOfKeys()).setState(state)
      .setStateEnterTime(stateEnterTime).setContainerID(getContainerID())
      .setDeleteTransactionId(deleteTransactionId)
      .setPipelineId(getPipelineId())
      .setExpectedCount(getExpectedReplicaCount())
      .setReplicationType(getReplicationType());
  int i = 0;
  getDataNodes().forEach(dn -&gt; {
    DatanodeDetailsProto.Builder dnBuilder = DatanodeDetailsProto
        .newBuilder()
        .setHostName(dn.getHostName())
        .setIpAddress(dn.getIpAddress())
        .setUuid(dn.getUuidString());

    for (Port port : dn.getPorts()) {
      dnBuilder.addPorts(HddsProtos.Port.newBuilder()
          .setName(port.getName().toString())
          .setValue(port.getValue())
          .build());
    }

    builder.addDataNodes(dnBuilder.build());
  });

  if (getOwner() != null) {
    builder.setOwner(getOwner());
  }
  return builder.build();
}
{code}
can be refactored to
{code:java}
public HddsProtos.SCMContainerInfo getProtobuf() {
  HddsProtos.SCMContainerInfo.Builder builder =
      HddsProtos.SCMContainerInfo.newBuilder()
          .setContainerID(containerID)
          .setPipelineId(pipelineId)
          .setAllocatedBytes(allocatedBytes)
          .setUsedBytes(usedBytes)
          .setNumberOfKeys(numberOfKeys)
          .setState(state)
          .setStateEnterTime(stateEnterTime)
          .setDeleteTransactionId(deleteTransactionId)
          .setExpectedCount(expectedReplicaCount)
          .setReplicationType(replicationType)
          .setOwner(owner);
  dataNodes.forEach(dn -&gt; builder.addDataNodes(dn.getProtoBufMessage()));
  return builder.build();
}
{code}
 * {{equals}} method implementation only uses {{containerId}} and {{owner}}. {{hashCode}} should also use the same set of fields used by {{equals}}. hashCode of equal objects should always be same.

*ContainerMapping*
 {{allocateContainer}} should return {{ContaineInfo}} not {{ContainerWithPipeline}}

*ClientPbHelper* :&nbsp;Not used anywhere, this class can be removed.

*OzonePBHelper* : Not used anywhere, this class can be removed.

Checkstyle issues (Not sure why this is not captured by jenkins run):
 * ContainerInfo: *
Line:463 'dataNodes' hides a field
Line:469 'replicationType' hides a field
Line:474 'pipelineId' hides a field
Line:479 'expectedReplicaCount' hides a field

 * BlockManagerImpl *
Line:31 Unused import {{org.apache.hadoop.hdds.scm.pipelines.PipelineSelector}}
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> [~nandakumar131] thanks for review, Patch v7 removes dnList from ContainerInfo and SCMContainerInfo.  So some of the refactoring you suggested is not applicable. PipelineId in ContainerInfo is renamed to pipelineName to make it consistent with Pipeline field. Also removed ClientPbHelper. Will handle checkstyle and OzonePBHelper suggestion in next iteration.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 23s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  1s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 54s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m 47s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 28m 32s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 26s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 54s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 16m 13s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 25s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 39s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 22s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 19s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 27m 51s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 27m 51s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 27m 51s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 52s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 33s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 54s{color} | {color:red} hadoop-hdds/server-scm generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:red}-1{color} | {color:red} findbugs {color} | {color:red}  0m 56s{color} | {color:red} hadoop-ozone/tools generated 1 new + 0 unchanged - 0 fixed = 1 total (was 0) {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 39s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 17s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  2m 34s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 41s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 35s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 34s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 25m 28s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 44s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}178m 21s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| FindBugs | module:hadoop-hdds/server-scm |
|  |  Redundant nullcheck of pipeline which is known to be null in org.apache.hadoop.hdds.scm.block.DatanodeDeletedBlockTransactions.addTransaction(StorageContainerDatanodeProtocolProtos$DeletedBlocksTransaction)  Redundant null check at DatanodeDeletedBlockTransactions.java:is known to be null in org.apache.hadoop.hdds.scm.block.DatanodeDeletedBlockTransactions.addTransaction(StorageContainerDatanodeProtocolProtos$DeletedBlocksTransaction)  Redundant null check at DatanodeDeletedBlockTransactions.java:[line 64] |
| FindBugs | module:hadoop-ozone/tools |
|  |  Format-string method String.format(String, Object[]) called with format string "INSERT INTO containerInfo (containerID, leaderUUID) VALUES ("%d", "%s")" wants 2 arguments but is given 7 in org.apache.hadoop.ozone.scm.cli.SQLCLI.insertContainerDB(Connection, ContainerInfo, Set)  At SQLCLI.java:with format string "INSERT INTO containerInfo (containerID, leaderUUID) VALUES ("%d", "%s")" wants 2 arguments but is given 7 in org.apache.hadoop.ozone.scm.cli.SQLCLI.insertContainerDB(Connection, ContainerInfo, Set)  At SQLCLI.java:[line 521] |
| Failed junit tests | hadoop.hdds.scm.block.TestDeletedBlockLog |
|   | hadoop.hdds.scm.container.TestContainerStateManager |
|   | hadoop.ozone.scm.TestContainerSQLCli |
|   | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
|   | hadoop.ozone.TestStorageContainerManager |
|   | hadoop.ozone.web.client.TestKeys |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12929212/HDDS-175.07.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux bd638e55261b 4.4.0-121-generic #145-Ubuntu SMP Fri Apr 13 13:47:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 238fe00 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/361/artifact/out/new-findbugs-hadoop-hdds_server-scm.html |
| findbugs | https://builds.apache.org/job/PreCommit-HDDS-Build/361/artifact/out/new-findbugs-hadoop-ozone_tools.html |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/361/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/361/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/361/testReport/ |
| Max. process+thread count | 1031 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/361/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div><div><b>body:</b> patch v8 to fix failed test case {{TestDeletedBlockLog, TestContainerSQLCli}} (others look unrelated) &amp; findbug warnings. 
[~nandakumar131] fixed unused import in BlockManagerImpl and removed OzonePBHelper.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 31s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 59s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m 49s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 29m  3s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 21s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  3m 54s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 14m 22s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  4m 37s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  3m 54s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 24s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m  5s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 30m 38s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 30m 38s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 30m 38s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m  5s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green}  9m 49s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 36s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  3m 55s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 11s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 21s{color} | {color:green} client in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  2m 26s{color} | {color:red} server-scm in the patch failed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 21s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 26s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 31m  4s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 44s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}179m  8s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.hdds.scm.server.report.TestSCMDatanodeHeartbeatDispatcher |
|   | hadoop.hdds.scm.container.TestContainerStateManager |
|   | hadoop.ozone.ksm.TestKeySpaceManager |
|   | hadoop.ozone.TestStorageContainerManager |
|   | hadoop.ozone.client.rest.TestOzoneRestClient |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12929349/HDDS-175.08.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux a89ce66c7aea 4.4.0-121-generic #145-Ubuntu SMP Fri Apr 13 13:47:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / bedc4fe |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/373/artifact/out/patch-unit-hadoop-hdds_server-scm.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/373/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/373/testReport/ |
| Max. process+thread count | 1084 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/373/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                failure in TestContainerStateManager is related to this patch, will fix it with any review comments we have. Other failed test passed locally.
              </div></li><li><div>
                [~ajayydv], the patch is not applying anymore, can you rebase it on top of latest changes?
              </div></li><li><div>
                patch v9 to rebase with trunk.
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 23s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  1m 55s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 26m 32s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 28m 43s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 53s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 16m  7s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 14s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 47s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 22s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:red}-1{color} | {color:red} mvninstall {color} | {color:red}  0m 19s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:red}-1{color} | {color:red} compile {color} | {color:red} 27m 44s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} cc {color} | {color:red} 27m 44s{color} | {color:red} root in the patch failed. {color} |
| {color:red}-1{color} | {color:red} javac {color} | {color:red} 27m 44s{color} | {color:red} root in the patch failed. {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 28s{color} | {color:green} the patch passed {color} |
| {color:red}-1{color} | {color:red} mvnsite {color} | {color:red}  0m 35s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 10m 40s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  6m 19s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 48s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 16s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 31s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 25s{color} | {color:green} server-scm in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 41s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 34s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 35s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red}  0m 35s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 43s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}152m 49s{color} | {color:black} {color} |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12929669/HDDS-175.09.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux b7248b671817 4.4.0-121-generic #145-Ubuntu SMP Fri Apr 13 13:47:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / e4d7227 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| mvninstall | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-mvninstall-hadoop-ozone_integration-test.txt |
| compile | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-compile-root.txt |
| cc | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-compile-root.txt |
| javac | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-compile-root.txt |
| mvnsite | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-mvnsite-hadoop-ozone_integration-test.txt |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/396/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/396/testReport/ |
| Max. process+thread count | 451 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/396/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                Thanks [~ajayydv] for the update. The latest patch LGTM. Can you fix the unit test, which seems to relate to this change?

*TestCloseContainerByPipeline.java*

&nbsp;
              </div></li><li><div>
                [~xyao] thanks for review. patch v10 to address failing test in {{TestCloseContainerByPipeline}}
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 29s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  2m  9s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 35m 17s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 40m 37s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 30s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  5m 29s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 19m 29s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  7m  9s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 47s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 21s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m 16s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 30m 42s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 30m 42s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 30m 42s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 25s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 35s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  6s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  6m  6s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 23s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 18s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 28s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 21s{color} | {color:green} server-scm in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 38s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 21m 22s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 42s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}202m  2s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.hdds.scm.container.TestContainerStateManager |
|   | hadoop.ozone.TestStorageContainerManager |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12930035/HDDS-175.10.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux 86293dc0f4fa 3.13.0-143-generic #192-Ubuntu SMP Tue Feb 27 10:45:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 7296b64 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/416/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/416/testReport/ |
| Max. process+thread count | 1003 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/416/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                patch v11 to address failure in TestContainerStateManager. TestStorageContainerManager passed locally. (timed out in yetus run)
              </div></li><li><div>
                | (x) *{color:red}-1 overall{color}* |
\\
\\
|| Vote || Subsystem || Runtime || Comment ||
| {color:blue}0{color} | {color:blue} reexec {color} | {color:blue}  0m 39s{color} | {color:blue} Docker mode activated. {color} |
|| || || || {color:brown} Prechecks {color} ||
| {color:green}+1{color} | {color:green} @author {color} | {color:green}  0m  0s{color} | {color:green} The patch does not contain any @author tags. {color} |
| {color:green}+1{color} | {color:green} test4tests {color} | {color:green}  0m  0s{color} | {color:green} The patch appears to include 17 new or modified test files. {color} |
|| || || || {color:brown} trunk Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 45s{color} | {color:blue} Maven dependency ordering for branch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green} 29m 38s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 29m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 24s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 16m 46s{color} | {color:green} branch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  5m 10s{color} | {color:green} trunk passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 17s{color} | {color:green} trunk passed {color} |
|| || || || {color:brown} Patch Compile Tests {color} ||
| {color:blue}0{color} | {color:blue} mvndep {color} | {color:blue}  0m 20s{color} | {color:blue} Maven dependency ordering for patch {color} |
| {color:green}+1{color} | {color:green} mvninstall {color} | {color:green}  3m  5s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} compile {color} | {color:green} 30m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} cc {color} | {color:green} 30m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javac {color} | {color:green} 30m 14s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} checkstyle {color} | {color:green}  0m 23s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} mvnsite {color} | {color:green}  4m 26s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} whitespace {color} | {color:green}  0m  0s{color} | {color:green} The patch has no whitespace issues. {color} |
| {color:green}+1{color} | {color:green} shadedclient {color} | {color:green} 11m  3s{color} | {color:green} patch has no errors when building and testing our client artifacts. {color} |
| {color:blue}0{color} | {color:blue} findbugs {color} | {color:blue}  0m  0s{color} | {color:blue} Skipped patched modules with no Java source: hadoop-ozone/integration-test {color} |
| {color:green}+1{color} | {color:green} findbugs {color} | {color:green}  6m 20s{color} | {color:green} the patch passed {color} |
| {color:green}+1{color} | {color:green} javadoc {color} | {color:green}  4m 35s{color} | {color:green} the patch passed {color} |
|| || || || {color:brown} Other Tests {color} ||
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  1m 19s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 27s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  2m 20s{color} | {color:green} server-scm in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 29s{color} | {color:green} tools in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 39s{color} | {color:green} common in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 32s{color} | {color:green} client in the patch passed. {color} |
| {color:green}+1{color} | {color:green} unit {color} | {color:green}  0m 30s{color} | {color:green} tools in the patch passed. {color} |
| {color:red}-1{color} | {color:red} unit {color} | {color:red} 21m  2s{color} | {color:red} integration-test in the patch failed. {color} |
| {color:green}+1{color} | {color:green} asflicense {color} | {color:green}  0m 41s{color} | {color:green} The patch does not generate ASF License warnings. {color} |
| {color:black}{color} | {color:black} {color} | {color:black}177m 54s{color} | {color:black} {color} |
\\
\\
|| Reason || Tests ||
| Failed junit tests | hadoop.ozone.container.common.statemachine.commandhandler.TestCloseContainerByPipeline |
|   | hadoop.ozone.TestStorageContainerManager |
\\
\\
|| Subsystem || Report/Notes ||
| Docker | Client=17.05.0-ce Server=17.05.0-ce Image:yetus/hadoop:abb62dd |
| JIRA Issue | HDDS-175 |
| JIRA Patch URL | https://issues.apache.org/jira/secure/attachment/12930153/HDDS-175.11.patch |
| Optional Tests |  asflicense  compile  javac  javadoc  mvninstall  mvnsite  unit  shadedclient  findbugs  checkstyle  cc  |
| uname | Linux 578ebfb1a5c4 3.13.0-139-generic #188-Ubuntu SMP Tue Jan 9 14:43:09 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux |
| Build tool | maven |
| Personality | /testptch/patchprocess/precommit/personality/provided.sh |
| git revision | trunk / 51654a3 |
| maven | version: Apache Maven 3.3.9 |
| Default Java | 1.8.0_171 |
| findbugs | v3.1.0-RC1 |
| unit | https://builds.apache.org/job/PreCommit-HDDS-Build/424/artifact/out/patch-unit-hadoop-ozone_integration-test.txt |
|  Test Results | https://builds.apache.org/job/PreCommit-HDDS-Build/424/testReport/ |
| Max. process+thread count | 1002 (vs. ulimit of 10000) |
| modules | C: hadoop-hdds/common hadoop-hdds/client hadoop-hdds/server-scm hadoop-hdds/tools hadoop-ozone/common hadoop-ozone/client hadoop-ozone/tools hadoop-ozone/integration-test U: . |
| Console output | https://builds.apache.org/job/PreCommit-HDDS-Build/424/console |
| Powered by | Apache Yetus 0.8.0-SNAPSHOT   http://yetus.apache.org |


This message was automatically generated.


              </div></li><li><div>
                [~shashikant], [~nandakumar131], [~xyao] Thanks for the reviews. [~ajayydv] Thanks for the contribution. I have committed this patch to trunk.

I have also made sure all acceptance-tests pass with this patch.
              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #14523 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/14523/])
HDDS-175. Refactor ContainerInfo to remove Pipeline object from it. (aengineer: rev 7ca4f0cefa220c752920822c8d16469ab3b09b37)
* (edit) hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/InfoContainerHandler.java
* (edit) hadoop-hdds/common/src/main/proto/StorageContainerLocationProtocol.proto
* (edit) hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocolPB/StorageContainerLocationProtocolClientSideTranslatorPB.java
* (edit) hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/DeleteContainerHandler.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/CloseContainerEventHandler.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/ratis/RatisManagerImpl.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientMetrics.java
* (edit) hadoop-hdds/common/src/main/java/org/apache/hadoop/ozone/protocolPB/StorageContainerLocationProtocolServerSideTranslatorPB.java
* (edit) hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/block/TestDeletedBlockLog.java
* (edit) hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupInputStream.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManagerHelper.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestXceiverClientManager.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestStorageContainerManager.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestContainerSmallFile.java
* (edit) hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/client/ScmClient.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/states/ContainerStateMap.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/TestContainerOperations.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/standalone/StandaloneManagerImpl.java
* (edit) hadoop-hdds/tools/src/main/java/org/apache/hadoop/hdds/scm/cli/container/CloseContainerHandler.java
* (edit) hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/client/ContainerOperationClient.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineManager.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/container/common/statemachine/commandhandler/TestCloseContainerByPipeline.java
* (edit) hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestContainerPlacement.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/ksm/TestContainerReportWithKeys.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerStateManager.java
* (edit) hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/closer/TestContainerCloser.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerMapping.java
* (edit) hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/scm/cli/SQLCLI.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/client/rpc/TestOzoneRpcClient.java
* (edit) hadoop-hdds/common/src/main/proto/hdds.proto
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestSCMCli.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/BlockManagerImpl.java
* (edit) hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerInfo.java
* (edit) hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/protocol/StorageContainerLocationProtocol.java
* (add) hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/protocolPB/OzonePBHelper.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/server/SCMClientProtocolServer.java
* (edit) hadoop-ozone/client/src/main/java/org/apache/hadoop/ozone/client/io/ChunkGroupOutputStream.java
* (edit) hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerMapping.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/scm/TestAllocateContainer.java
* (add) hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/container/common/helpers/ContainerWithPipeline.java
* (edit) hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/container/TestCloseContainerEventHandler.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipelines/PipelineSelector.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/block/DatanodeDeletedBlockTransactions.java
* (edit) hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/genesis/BenchMarkContainerStateMap.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/Mapping.java
* (edit) hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/closer/ContainerCloser.java
* (edit) hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/hdds/scm/container/TestContainerStateManager.java

              </div></li><li><div>
                [~nandakumar131], [~xyao], [~shashikant] thanks for reviews. [~anu] thanks for commit and review.
              </div></li></ol></div></div></html>