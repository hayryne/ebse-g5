<!DOCTYPE html><html><div class="item-title">
        Item 335
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>message:</b> [CARBONDATA-3663] Support loading stage files in batches

Why is this PR needed?
When there are a lots of stage files in the stage directory, if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.

What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.

Does this PR introduce any user interface change?
Yes

Is any new testcase added?
Yes

This closes #3578

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li><li><div><div><b>title:</b> [CARBONDATA-3663] Support loading stage files in batches
                </div><div><b>body:</b>  ### Why is this PR needed?
 When there are a lots of stage files in the stage directory,  if load all of them in once time, the loading time will can not be control.
There need a way for users to specify the number of stage files per processing, to control the execution time of commands.
 
 ### What changes were proposed in this PR?
Add a load option batch_file_count for users to specify the number of stage files per processing.
    
 ### Does this PR introduce any user interface change?
 - Yes

 ### Is any new testcase added?
 - Yes

    

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Build Success with Spark 2.3.4, Please check CI http://121.244.95.60:12545/job/ApacheCarbonPRBuilder2.3/1628/

              </div></li><li><div>
                LGTM
              </div></li><li><div>
                retest this please
              </div></li><li><div>
                Build Failed  with Spark 2.3.4, Please check CI http://121.244.95.60:12545/job/ApacheCarbonPRBuilder2.3/1657/

              </div></li><li><div>
                retest this please
              </div></li><li><div>
                Build Success with Spark 2.3.4, Please check CI http://121.244.95.60:12545/job/ApacheCarbonPRBuilder2.3/1671/

              </div></li><li><div>
                retest this please
              </div></li><li><div>
                Build Success with Spark 2.3.4, Please check CI http://121.244.95.60:12545/job/ApacheCarbonPRBuilder2.3/1680/

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                why each stage file have 100 lines?
              </div></li><li><div><div><b>body:</b> please describe all supported options in this document
                </div><div><b>label:</b> documentation
                </div></div></li><li><div>
                Specified by the option CarbonLocalProperty.COMMIT_THRESHOLD.

writerProperties.put(CarbonLocalProperty.COMMIT_THRESHOLD, "100")
              </div></li><li><div>
                done
              </div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Support loading stage files in batches
                </div><div><b>description:</b> When there are a lots of stage files in the stage directory,&nbsp; if load all of them in once time, the loading time will can not be control.

There need a way for users to specify the number of stage files per processing, to control the execution time of commands.

&nbsp;
                </div></div></li><li><div><div><b>summary:</b> Support loading stage files in batches
                </div><div><b>description:</b> When there are a lots of stage files in the stage directory,&nbsp; if load all of them in once time, the loading time will can not be control.

There need a way for users to specify the number of stage files per processing, to control the execution time of commands.

&nbsp;
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>