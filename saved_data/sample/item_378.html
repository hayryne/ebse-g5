<!DOCTYPE html><html><div class="item-title">
        Item 378
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [HOTFIX][PR 2575] Fixed modular plan creation only if valid datamaps are available
                </div><div><b>message:</b> [HOTFIX][PR 2575] Fixed modular plan creation only if valid datamaps are available

update query is failing in spark-2.2 cluster if mv jars are available because catalogs
are not empty if datamap are created for other table also and returns true from isValidPlan() inside MVAnalyzerRule.

This closes #2579

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [HOTFIX][PR 2575]  Fixed modular plan creation only if valid datamaps are available
                </div><div><b>body:</b> update query is failing in spark-2.2 cluster if mv jars are available because catalogs are not empty if datamap are created for other table also and returns true from isValidPlan() inside MVAnalyzerRule.

Be sure to do all of the following checklist to help us incorporate 
your contribution quickly and easily:

 - [ ] Any interfaces changed?
 
 - [ ] Any backward compatibility impacted?
 
 - [ ] Document update required?

 - [ ] Testing done
        Please provide details on 
        - Whether new unit test cases have been added or why no new tests are required?
        - How it is tested? Please attach test report.
        - Is it a performance related change? Please attach the performance test report.
        - Any additional information to help reviewers in testing this change.
       
 - [ ] For large changes, please consider breaking it into sub-tasks under an umbrella JIRA. 


                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Build Success with Spark 2.1.0, Please check CI http://136.243.101.176:8080/job/ApacheCarbonPRBuilder1/7610/

              </div></li><li><div>
                retest this please
              </div></li><li><div>
                Build Success with Spark 2.1.0, Please check CI http://136.243.101.176:8080/job/ApacheCarbonPRBuilder1/7631/

              </div></li><li><div>
                Build Failed with Spark 2.2.1, Please check CI http://88.99.58.216:8080/job/ApacheCarbonPRBuilder/6357/

              </div></li><li><div>
                retest this please
              </div></li><li><div>
                Build Success with Spark 2.2.1, Please check CI http://88.99.58.216:8080/job/ApacheCarbonPRBuilder/6377/

              </div></li><li><div>
                Build Success with Spark 2.1.0, Please check CI http://136.243.101.176:8080/job/ApacheCarbonPRBuilder1/7653/

              </div></li><li><div>
                Build Success with Spark 2.2.1, Please check CI http://88.99.58.216:8080/job/ApacheCarbonPRBuilder/6391/

              </div></li><li><div>
                retest sdv please

              </div></li><li><div>
                Build Success with Spark 2.1.0, Please check CI http://136.243.101.176:8080/job/ApacheCarbonPRBuilder1/7711/

              </div></li><li><div>
                Build Success with Spark 2.2.1, Please check CI http://88.99.58.216:8080/job/ApacheCarbonPRBuilder/6437/

              </div></li><li><div>
                SDV Build Fail , Please check CI http://144.76.159.231:8080/job/ApacheSDVTests/6104/

              </div></li><li><div>
                LGTM
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                can you provide the comment for parameter and return value
              </div></li><li><div>
                suitable means matched plan?
              </div></li><li><div>
                please add return value type
              </div></li><li><div>
                can you add comment to this func
              </div></li><li><div>
                ok
              </div></li><li><div>
                yes, initial match of parent table. Updated the comment
              </div></li><li><div>
                ok
              </div></li><li><div>
                ok
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>