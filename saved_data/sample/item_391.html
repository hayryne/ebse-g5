<!DOCTYPE html><html><div class="item-title">
        Item 391
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HDDS-1471. Update ratis dependency to 0.3.0. Contributed by Ajay Kumar. (#777)
                </div><div><b>message:</b> HDDS-1471. Update ratis dependency to 0.3.0. Contributed by Ajay Kumar. (#777)


                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> HDDS-3351. Remove unnecessary dependency Curator.
                </div><div><b>body:</b> ## What changes were proposed in this pull request?

Remove Curator dependency which is not used, and remained there from the time when we migrated the pom.xml to ozone.pom.xml in the Hadoop project.

## What is the link to the Apache JIRA

https://issues.apache.org/jira/browse/HDDS-3351

## How was this patch tested?

Locally I ran 'mvn clean install -DskipTests', it was running fine.

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Thank You @fapifta for the contribution and @swagle for the review.
              </div></li><li><div>
                Thanks the patch @fapifta (And the quick review @bharatviswa504 and @swagle) 

For the record: this patch *doesn't* remove the curator dependency. It modifies a `&lt;dependencyManagement&gt;` not a `&lt;dependency&gt;` section. `&lt;depdendencyManagement&gt;` is reponsible for defining the **default versions** not dependencies. 

&gt; Locally I ran 'mvn clean install -DskipTests', it was running fine.

I did the same after this patch (using 9872253e8). And I checked the jar files:

```
mvn clean install -DskipTests

cd hadoop-ozone/dist/target/ozone-0.6.0-SNAPSHOT
find -name "*cura*"

./share/ozone/lib/curator-client-2.12.0.jar
./share/ozone/lib/curator-framework-2.12.0.jar
./share/ozone/lib/curator-recipes-2.12.0.jar
```

Curator is added as a dependency via the transitive dependencies of Hadoop artifacts. To fully remove it you should `&lt;exclude&gt;` it from the dependency hierarchy.

But don't worry. It's a good patch anyway (I am +1, even it if's too late ;-) ).

 1. We are not interested in curator, so it can be removed from the `&lt;dependencyManagement&gt;`, too
 2. But to remove curator fully we need some exclude rules (the good news is that is should be done by #744, at least on the client side. We should double check the server-side)
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Update ratis dependency to 0.3.0
                </div><div><b>description:</b> Update ratis dependency to 0.3.0
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                SUCCESS: Integrated in Jenkins build Hadoop-trunk-Commit #16471 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/16471/])
HDDS-1471. Update ratis dependency to 0.3.0. Contributed by Ajay Kumar. (github: rev b434f558ca03a05e966e215cffa6f4a66000752d)
* (edit) hadoop-hdds/pom.xml
* (edit) hadoop-ozone/pom.xml

              </div></li></ol></div></div></html>