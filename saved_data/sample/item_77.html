<!DOCTYPE html><html><div class="item-title">
        Item 77
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 for query time we only need one token, so we use the biggest possible precisionStep:
              </div></li><li><div>
                 term vectors aren't supported
              </div></li><li><div>
                 normalize the precisionStep
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 don't use a precisionStep if the field is multiValued
              </div></li><li><div><div><b>comment:</b>  TODO: optimize to remove redundant string conversion
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                *
   * @return the precisionStep used to index values into the field
   
              </div></li><li><div>
                 the one passed in or defaulted
 normalized
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> SOLR-1291 SOLR-1322 SOLR-1325 SOLR-1328 : more trie integration
                </div><div><b>message:</b> SOLR-1291 SOLR-1322 SOLR-1325 SOLR-1328 : more trie integration

git-svn-id: https://svn.apache.org/repos/asf/lucene/solr/trunk@800592 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div></div></li><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div></div></li><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div></div></li><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div></div></li><li><div><div><b>summary:</b> implement Trie.toInternal/toExternal and friends
                </div><div><b>description:</b> TrieField needs to implement toInternal and friends or else it breaks for a lot of Solr features.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                attaching patch.

This changes the stored field format to binary - 4 bytes for int, 8 for long.
This was done partially for normalization purposes - people adding numeric values that weren't well formatted.

Also patches to QueryParsing.toString() to make it work correctly for both trie term and range queries.
              </div></li><li><div><div><b>body:</b> Attaching new patch:
 - example schema has int (trie field with no precisionStep) that will work for both single and multiValued fields, and tint (with default 8 step) that should only be used for single valued fields when faster range queries are desired. Fields like the old "int" are moved to "pint" for plain-int.
- date faceting now works on trie date, and takes advantage of the faster range queries
- trie fields now all have their own classes - this is much more flexible for the future (one example of this already was how date faceting works for the existing date field and the trie-date field... they needed to have a common super class).
- frange now works on all trie fields
- precisionStep is ignored for multi-valued trie fields
- efficiency: response writer methods don't go through toObject()

                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                committed.

Also note that all faceting methods now work for the trie fields with no precisionStep.
              </div></li><li><div>
                Bulk close for Solr 1.4
              </div></li></ol></div></div></html>