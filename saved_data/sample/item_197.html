<!DOCTYPE html><html><div class="item-title">
        Item 197
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>message:</b> [FLINK-18936][docs] Update documentation around aggregate functions

This closes #13143.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li><li><div><div><b>title:</b> [FLINK-18936][docs] Update documentation around aggregate functions
                </div><div><b>body:</b> ## What is the purpose of the change

Ensures that all documentation about aggregate functions is correct and consistent.

## Brief change log

- Removes mentioning of `resetAccumulator`
- Updates JavaDocs and website docs for `AggregateFunction` and `TableAggregateFunction`

## Verifying this change

This change is a trivial rework / code cleanup without any test coverage.

## Does this pull request potentially affect one of the following parts:

  - Dependencies (does it add or upgrade a dependency): no
  - The public API, i.e., is any changed class annotated with `@Public(Evolving)`: yes
  - The serializers: no
  - The runtime per-record code paths (performance sensitive): no
  - Anything that affects deployment or recovery: JobManager (and its components), Checkpointing, Kubernetes/Yarn/Mesos, ZooKeeper: no
  - The S3 file system connector: no

## Documentation

  - Does this pull request introduce a new feature? no
  - If yes, how is the feature documented? docs

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Thanks a lot for your contribution to the Apache Flink project. I'm the @flinkbot. I help the community
to review your pull request. We will use this comment to track the progress of the review.


## Automated Checks
Last check on commit e3f355ba1e729543a1b902c6f3fba3c6836f5023 (Thu Aug 13 16:07:00 UTC 2020)

**Warnings:**
 * Documentation files were touched, but no `.zh.md` files: Update Chinese documentation or file Jira ticket.


&lt;sub&gt;Mention the bot in a comment to re-run the automated checks.&lt;/sub&gt;
## Review Progress

* ❓ 1. The [description] looks good.
* ❓ 2. There is [consensus] that the contribution should go into to Flink.
* ❓ 3. Needs [attention] from.
* ❓ 4. The change fits into the overall [architecture].
* ❓ 5. Overall code [quality] is good.

Please see the [Pull Request Review Guide](https://flink.apache.org/contributing/reviewing-prs.html) for a full explanation of the review process.&lt;details&gt;
 The Bot is tracking the review progress through labels. Labels are applied according to the order of the review items. For consensus, approval by a Flink committer of PMC member is required &lt;summary&gt;Bot commands&lt;/summary&gt;
  The @flinkbot bot supports the following commands:

 - `@flinkbot approve description` to approve one or more aspects (aspects: `description`, `consensus`, `architecture` and `quality`)
 - `@flinkbot approve all` to approve all aspects
 - `@flinkbot approve-until architecture` to approve everything until `architecture`
 - `@flinkbot attention @username1 [@username2 ..]` to require somebody's attention
 - `@flinkbot disapprove architecture` to remove an approval you gave earlier
&lt;/details&gt;
              </div></li><li><div>
                &lt;!--
Meta data
{
  "version" : 1,
  "metaDataEntries" : [ {
    "hash" : "e3f355ba1e729543a1b902c6f3fba3c6836f5023",
    "status" : "SUCCESS",
    "url" : "https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5512",
    "triggerID" : "e3f355ba1e729543a1b902c6f3fba3c6836f5023",
    "triggerType" : "PUSH"
  }, {
    "hash" : "47d9b86d8a44e691fd0779b66bb702d3424aa886",
    "status" : "PENDING",
    "url" : "https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5525",
    "triggerID" : "47d9b86d8a44e691fd0779b66bb702d3424aa886",
    "triggerType" : "PUSH"
  }, {
    "hash" : "9c1a06719b7ee5be9dbe0c1c1a812991bca0349c",
    "status" : "PENDING",
    "url" : "https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5530",
    "triggerID" : "9c1a06719b7ee5be9dbe0c1c1a812991bca0349c",
    "triggerType" : "PUSH"
  } ]
}--&gt;
## CI report:

* e3f355ba1e729543a1b902c6f3fba3c6836f5023 Azure: [SUCCESS](https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5512) 
* 47d9b86d8a44e691fd0779b66bb702d3424aa886 Azure: [PENDING](https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5525) 
* 9c1a06719b7ee5be9dbe0c1c1a812991bca0349c Azure: [PENDING](https://dev.azure.com/apache-flink/98463496-1af2-4620-8eab-a2ecc1a2e6fe/_build/results?buildId=5530) 

&lt;details&gt;
&lt;summary&gt;Bot commands&lt;/summary&gt;
  The @flinkbot bot supports the following commands:

 - `@flinkbot run travis` re-run the last Travis build
 - `@flinkbot run azure` re-run the last Azure build
&lt;/details&gt;
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                ```suggestion
Similar to a user-defined scalar function, a user-defined table function (_UDTF_) takes zero, one, or multiple scalar values as input arguments. However, it can return an arbitrary number of rows (or structured types) as output instead of a single value. The returned record may consist of one or more fields. If an output record consists of only a single field, the structured record can be omitted, and a scalar value can be emitted. The runtime will implicitly wrap it into an implicit row.
```
              </div></li><li><div>
                ```suggestion
Since some of the methods are optional, or can be overloaded, the runtime invokes aggregate function methods via generated code. This means the base class does not always provide a signature to be overridden by the concrete implementation. Nevertheless,
all mentioned methods must be declared publicly, not static, and named exactly as the names mentioned above
to be called.
```
              </div></li><li><div>
                ```suggestion
A user-defined table aggregate function (_UDTAGG_) maps scalar values of multiple rows to zero, one,
or multiple rows. The returned records may consist of one or more fields. If an output row consists of
only one field, the row can be omitted and a scalar value can be emitted and it will be implicitly wrapped into an row by the runtime.
```
              </div></li><li><div>
                ```suggestion
If the N of Top N is big, it might be inefficient to keep both the old and new values. One way to
```

I don't think we need the note comment because this is what we're trying to show. 
              </div></li><li><div>
                I will replace `and` with `that` and fix the `an`.
              </div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Update documentation about user-defined aggregate functions
                </div><div><b>description:</b> The documentation needs an update because all functions support the new type inference now.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Fixed in 1.12.0:&nbsp;55072b557ddb8d5f986c3bf84fe9ac284117ebe7
              </div></li></ol></div></div></html>