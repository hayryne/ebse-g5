<!DOCTYPE html><html><div class="item-title">
        Item 227
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 sum
              </div></li><li><div>
                 cnt
              </div></li><li><div>
                 max
              </div></li><li><div>
                 dif
              </div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 avg
              </div></li><li><div>
                 min
              </div></li><li><div>
                 test repartition
              </div></li><li><div>
                 check the result
              </div></li><li><div><div><b>comment:</b>  We want to randomize the order of data to test not completely predictable processing order
 However, values are also use as a timestamp of the record. (TODO: separate data and timestamp)
 We keep some correlation of time and order. Thus, the shuffling is done with a sliding window
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 give it one more try if it's not already passing.
              </div></li><li><div>
                 generate expected answer
              </div></li><li><div>
                 swap
              </div></li><li><div>
                 we shuffle data within windowSize
              </div></li><li><div>
                 now that we've sent everything, we'll send some final records with a timestamp high enough to flush out
 all suppressed records.
              </div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div><div><b>comment:</b>  slow down data production to span 30 seconds so that system tests have time to
 do their bounces, etc.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                 this starts the stream processing app
              </div></li><li><div>
                 this starts the driver (data generation and result verification)
              </div></li><li><div>
                *
     *  args ::= kafka propFileName command disableAutoTerminate
     *  command := "run" | "process"
     *
     * @param args
     
              </div></li><li><div>
                
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests (#9116)
                </div><div><b>message:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests (#9116)

Author: Randall Hauch &lt;rhauch@gmail.com&gt;
Reviewer: Matthias J. Sax &lt;matthias@confluent.io&gt;
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div></div></li><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div></div></li><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div></div></li><li><div><div><b>title:</b> KAFKA-10341: Add 2.6.0 to system tests and streams upgrade tests
                </div><div><b>body:</b> BTW, `tests/kafkatest/version.py` was already modified to define the 2.6.0 version constants for the system tests, but these variables were never used. Thus, no need to modify that file.

Based upon #8378 (for 2.5)

### Committer Checklist (excluded from commit message)
- [ ] Verify design and implementation 
- [ ] Verify test coverage and CI build status
- [ ] Verify documentation (including upgrade notes)

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Just kicked off a build of the Streams system tests (e.g., `TC_PATHS=tests/kafkatest/tests/streams/streams_upgrade_test.py`) using this PR: 
https://jenkins.confluent.io/job/system-test-kafka-branch-builder/4082/

and a full system test run using this PR: https://jenkins.confluent.io/job/system-test-kafka-branch-builder/4083/
              </div></li><li><div>
                Thanks, @mjsax

The streams-only system test run (https://jenkins.confluent.io/job/system-test-kafka-branch-builder/4082/) passed. The other was interrupted by a Jenkins restart. I'll restart the full system test run tomorrow AM.
              </div></li><li><div><div><b>body:</b> Green builds on JDK 11 and 14, and two unrelated failures (known flaky integration tests, not system tests) on JDK 8:
```
Test Result (2 failures / +1)
    org.apache.kafka.streams.integration.EosBetaUpgradeIntegrationTest.shouldUpgradeFromEosAlphaToEosBeta[false]
    org.apache.kafka.streams.integration.EosBetaUpgradeIntegrationTest.shouldUpgradeFromEosAlphaToEosBeta[true]
```

I started a second run of all system tests with this branch: https://jenkins.confluent.io/job/system-test-kafka-branch-builder/4088/
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>body:</b> The [second run|https://jenkins.confluent.io/job/system-test-kafka-branch-builder/4088] with all of the system tests had [two failures|http://confluent-kafka-branch-builder-system-test-results.s3-us-west-2.amazonaws.com/2020-08-04--001.1596577078--rhauch--kafka-10341--f0164cbb3/report.html]:
```
Module: kafkatest.tests.core.round_trip_fault_test 
Class:  RoundTripFaultTest 
Method: test_round_trip_workload_with_broker_partition

Module: kafkatest.tests.client.consumer_test
Class:  OffsetValidationTest
Method: test_static_consumer_bounce 
Arguments: {   "bounce_mode": "all",   "clean_shutdown": true,   "num_bounces": 5,   "static_membership": false }
```
These have been somewhat flaky recently on the 2.6 branch (at least), but they are not directly affected by this PR.
                </div><div><b>label:</b> test
                </div></div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Add version 2.6 to streams and systems tests
                </div><div><b>description:</b> Part of the [2.6.0 release process|https://cwiki.apache.org/confluence/display/KAFKA/Release+Process#ReleaseProcess-AnnouncetheRC]. This will be merged only to `trunk` for inclusion in 2.7.0

See KAFKA-9779 for the changes made for the 2.5 release.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Merged the PR to the `trunk` branch, and did not backport.
              </div></li></ol></div></div></html>