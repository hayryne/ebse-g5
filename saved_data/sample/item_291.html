<!DOCTYPE html><html><div class="item-title">
        Item 291
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Tensor Inspector Tutorial (#15517)
                </div><div><b>message:</b> Tensor Inspector Tutorial (#15517)

* add tensor inspector tutorial

* link docs

* link docs

* add license

* Revert "add license"

This reverts commit 32881e5acff6a0dc833e52f9c82c4967df40f006.

* Revert "link docs"

This reverts commit f93ae219262513e8ce52c0d68abd8eb3f40b2ed5.

* Revert "link docs"

This reverts commit 160b8912e14746f2de1b660c6b24a24197ffcb46.

* Revert "add tensor inspector tutorial"

This reverts commit 3b53981a4fe932e8ae80e4ea1ab5cd0260a12574.

* add tensor inspector doc

* fix api name

* add new test and limitations section

* fix

* update urls and other fixes

* fix urls

* fix

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Tensor Inspector Tutorial
                </div><div><b>body:</b> ## Description ##
Tutorial for this PR: https://github.com/apache/incubator-mxnet/pull/15490


Need images uploaded here: https://github.com/dmlc/web-data/pull/194

## Checklist ##
### Essentials ###
Please feel free to remove inapplicable items for your PR.
- [ ] The PR title starts with [MXNET-$JIRA_ID], where $JIRA_ID refers to the relevant [JIRA issue](https://issues.apache.org/jira/projects/MXNET/issues) created (except PRs with tiny changes)
- [ ] Changes are complete (i.e. I finished coding on this PR)
- [ ] All changes have test coverage:
- Unit tests are added for small changes to verify correctness (e.g. adding a new operator)
- Nightly tests are added for complicated/long-running ones (e.g. changing distributed kvstore)
- Build tests will be added for build configuration changes (e.g. adding a new build option with NCCL)
- [ ] Code is well-documented: 
- For user-facing API changes, API doc string has been updated. 
- For new C++ functions in header files, their functionalities and arguments are documented. 
- For new examples, README.md is added to explain the what the example does, the source of the dataset, expected performance on test set and reference to the original paper if applicable
- Check the API doc at http://mxnet-ci-doc.s3-accelerate.dualstack.amazonaws.com/PR-$PR_ID/$BUILD_ID/index.html
- [ ] To the my best knowledge, examples are either not affected by this change, or have been fixed to be compatible with this change

### Changes ###
- [ ] Feature1, tests, (and when applicable, API doc)
- [ ] Feature2, tests, (and when applicable, API doc)

## Comments ##
- If this change is a backward incompatible change, why must this change be made.
- Interesting edge cases to note here
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                @ChaiBapchya Thanks for the thoughtful review!
              </div></li><li><div>
                @mxnet-label-bot add [Operator, NDArray, Visualization, pr-work-in-progress]
              </div></li><li><div>
                @access2rohit @sandeep-krishnamurthy The tutorial is ready for review. After applying your suggestions I will replace the image url to the ones I uploaded to dmlc/web-data so don't worry about image names or urls for now
              </div></li><li><div>
                @aaronmarkham - Can you please help review? Thanks!
              </div></li><li><div>
                @ChaiBapchya @IvyBazan Thanks for the very detailed revision suggestions! I've made the changes locally, and after my images are ready, I will change the image url's in the doc as well. Very looking forward to having it posted so that developers can start using!
              </div></li><li><div>
                Haha you guys are BREATHTAKING
              </div></li><li><div>
                Thanks @Zha0q1 @IvyBazan @ChaiBapchya @larroy @apeforest @marcoabreu 
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                ```suggestion
This utility is located in `src/common/tensor_inspector.h`. To use it in any operator code, just include `tensor_inspector`, construct an `TensorInspector` object, and call the APIs on that object. You can run any script that uses the operator you just modified then.
```
              </div></li><li><div>
                
```suggestion
When developing new operators, developers need to deal with tensor objects extensively. This new utility, Tensor Inspector, mainly aims to help developers debug by providing unified interfaces to print, check, and dump the tensor value. To developers' convenience, this utility works for all the three data types: Tensors, TBlobs, and NDArrays. Also, it supports both CPU and GPU tensors.
```
              </div></li><li><div>
                Would be great if you could give the image a recognizable name
              </div></li><li><div>
                ```suggestion
Essentially, `TensorInspector` can be understood as a wrapper class around `TBlob`. Internally, the `Tensor`, `Tbob`, or `NDArray` object that you passed in will be converted to a `TBlob` object. The `RunContext` object is used when the the tensor is a GPU tensor; in such a case, we need to use the context information to copy the data from GPU memory to CPU/main memory.
```
              </div></li><li><div>
                likewise
              </div></li><li><div>
                ```suggestion
This API will create a file with name  "{tag}_{visit_count}.npy", where tag is the name that we give to the call, and visit is the visit count, should the operator be called more than once.
```
              </div></li><li><div>
                ```suggestion
Notice: in `interactive_print()`, you could also do value dumping with command "d". You will be prompted to enter the `tag` value:
```
              </div></li><li><div>
                object -&gt; objects
              </div></li><li><div>
                JASON -&gt; JSON?
              </div></li><li><div>
                Haha you r right!
              </div></li><li><div>
                it's "the object", referring to the same object that the user has passed as described in line 36
              </div></li><li><div>
                Also please host it somewhere properly
              </div></li><li><div>
                Proper host
              </div></li><li><div>
                Proper host
              </div></li><li><div>
                Proper host
              </div></li><li><div>
                Yeah, I have them uploaded in another PR. Will update the url after taking in the comments
              </div></li><li><div>
                Yeah, I have them uploaded in another PR. Will update the url after taking in the comments
              </div></li><li><div>
                ok
              </div></li><li><div>
                Duplicate "the". Corrected sentence: "The `RunContext` object is used when the tensor is a GPU tensor"
              </div></li><li><div>
                 "Following are the three constructors:"
              </div></li><li><div>
                Suggested edit for clarity and flow: "You can find some useful information about the tensor on the last line of the output."
              </div></li><li><div>
                Edit for clarity: "When debugging, situations might occur at compilation time, so you do not know which part of a tensor to inspect. Sometimes, it may be nice to pause the operator control flow to “zoom into” a specific, erroneous part of a tensor multiple times until you are satisfied."
              </div></li><li><div>
                "This API will set a "break point" in your code. When used, you will enter a loop that will keep asking you for further command input."
              </div></li><li><div>
                "A visit count will tell you how many times you stepped into this particular "break point", should this operator be called more than once."
              </div></li><li><div>
                "There are many useful commands available, as described in the previous screenshot"
              </div></li><li><div>
                "Or, you might do that simply because a binary dump has better precision and is faster to load than output copy-pasted from `print_string()` and loaded as a `JASON` string."
              </div></li><li><div>
                "Let's see how it runs:"
              </div></li><li><div>
                nitpick:
```suggestion
Let's see how it runs:
```
              </div></li><li><div>
                Any command for the same? How to include it?
              </div></li><li><div>
                nitpick:
```suggestion
To print out the tensor value in a nicely structured way, you can use this API:
```
              </div></li><li><div>
                ```suggestion
	NegativeChecker, // check if negative
```
or
```suggestion
	NegativeChecker, // check if it is negative
```

              </div></li><li><div>
                ```suggestion
	PositiveChecker, // check if positive
```
or
```suggestion
	PositiveChecker, // check if it is positive
```
So on and so forth for the rest
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>