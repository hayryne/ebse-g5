<!DOCTYPE html><html><div class="item-title">
        Item 121
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> CAMEL-11868: Added docs and deprecated the two older elasticsearch components.
                </div><div><b>message:</b> CAMEL-11868: Added docs and deprecated the two older elasticsearch components.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li><li><div><div><b>summary:</b> Migrate camel-elasticsearch5 java transport client to the new high level rest client
                </div><div><b>description:</b> The current java transport client is due EOL in near future and it will be a good idea we switch the the new high level rest client instead. The new high level rest client is only released from version 5.6.0 and towards so an general upgrade of the dependencies is required for the ELK component.

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high.html

This also add the support for basic authentication without the need of x-pack. This is usefull when running ELK behind a reverse proxy. 

https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/_basic_authentication.html
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Nice idea, but would be good to keep both components (camel-elasticsearch and camel-elasticsearch5) backward compatible.
              </div></li><li><div><div><b>body:</b> It might be a good idea, since not all features is supported in the high level rest client yet

I already got it to work with the rest client, but then I would suggest we create a super class for ElasticsearchProducer and a ElasticsearchTransportProducer and ElasticsearchRestProducer. In the ElasticsearchEndpoint we decide which one we should instantiate based on the type client on the class path. This of course mean the client dependency is not included in the the camel-elasticsearch5 component.

Regarding the camel-elasticsearch, it's not possible to use the Hight level REST client since it only support ELK from 5.6.0 and forward.

One think to be aware of with the REST API that it is slightly different, which mean various request and response object is not called the same with the REST client. So either we have to document this in the manual or we have to come up with a common request / response object for both clients

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> Can we not create a new camel-elasticsearch5-rest component that use this new rest client only. And then the two older components can stay for older users, and eventually we can start marking them as deprecated because the java client is EOL from Elastic and the rest client is the future/way to go.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                And by creating a new component you have more freedom and do not have to 100% compatible with those older components. End users may have to migrate/change something on their end, and that is expected / okay.
              </div></li><li><div>
                [~davsclaus] sound like a plan, and you can assign me to it if you want. I already have working branch
              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/camel/pull/2013

              </div></li><li><div>
                Do we have the Karaf feature for this component?
              </div></li><li><div>
                No there is no karaf feature. You are others is welcome to work on it, it seems there is a bunch of dependencies so the feature is likely a bit big.
              </div></li></ol></div></div></html>