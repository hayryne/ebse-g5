<!DOCTYPE html><html><div class="item-title">
        Item 353
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [HELIX-689] remove redundant logs from zkclient
                </div><div><b>message:</b> [HELIX-689] remove redundant logs from zkclient

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Controller message cleanup is spitting too many logs
                </div><div><b>description:</b> Currently we print out error log when we fail to remove logs. However, due to ZK client limitation, we are printing logs even when the message is already deleted, which should not be regarded as a failure

Need to perform log cleanup and only print out log when there is real error.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                GitHub user zhan849 opened a pull request:

    https://github.com/apache/helix/pull/173

    [HELIX-689] remove redundant logs from zkclient

    Currently, in controller message cleanup, we print out 2 lines of message when message does not exist, which is totally redundant. In this PR, I removed the warning message from controller, and added error message in zkclient only when there is real error (exception from below). If we fail to delete a ZNode because znode does not exist, we do not print out message any more except debug mode

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/zhan849/helix harry/ctl-msg-cleanup

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/helix/pull/173.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #173
    
----
commit d96a40caf19efffed3939b6dd8d9efe40734ec15
Author: Harry Zhang &lt;zhan849@...&gt;
Date:   2018-04-03T21:22:53Z

    [HELIX-689] remove redundant logs from zkclient

----

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/helix/pull/173

              </div></li><li><div>
                FAILURE: Integrated in Jenkins build helix #1436 (See [https://builds.apache.org/job/helix/1436/])
[HELIX-689] remove redundant logs from zkclient (zhan849: rev 4a76f03e6a153831cfde3e50fff67fab58c4fb46)
* (edit) helix-core/src/main/java/org/apache/helix/controller/stages/MessageGenerationPhase.java
* (edit) helix-core/src/main/java/org/apache/helix/manager/zk/zookeeper/ZkClient.java
* (edit) helix-core/src/main/java/org/apache/helix/manager/zk/ZkBaseDataAccessor.java

              </div></li></ol></div></div></html>