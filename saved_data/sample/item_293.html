<!DOCTYPE html><html><div class="item-title">
        Item 293
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> AVRO-2603: Simplify and Clean Up Assertions (#696)
                </div><div><b>message:</b> AVRO-2603: Simplify and Clean Up Assertions (#696)


                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> AVRO-2603: Simplify and Clean Up Assertions
                </div><div><b>body:</b> ### Jira

- [x] My PR addresses part of [AVRO-2603](https://issues.apache.org/jira/browse/AVRO-2603).
- [x] My PR references that ticket in the PR title.
- [x] My PR adds no dependencies.

### Tests

- [x] My PR improves an existing test.

### Commits

- [x] My commits all reference Jira issues in their subject lines.
- [x] My commits follow the guidelines from "[How to write a good git commit message](https://chris.beams.io/posts/git-commit/)":

### Documentation

- [x] No new functionality or documentation.

                </div></div></li><li><div><div><b>title:</b> AVRO-2603: Simplify and Clean Up Assertions
                </div><div><b>body:</b> ### Jira

- [x] My PR addresses part of [AVRO-2603](https://issues.apache.org/jira/browse/AVRO-2603).
- [x] My PR references that ticket in the PR title.
- [x] My PR adds no dependencies.

### Tests

- [x] My PR improves an existing test.

### Commits

- [x] My commits all reference Jira issues in their subject lines.
- [x] My commits follow the guidelines from "[How to write a good git commit message](https://chris.beams.io/posts/git-commit/)":

### Documentation

- [x] No new functionality or documentation.

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Refactor test_tether_word_count.py
                </div><div><b>description:</b> [https://github.com/apache/avro/blob/master/lang/py/test/test_tether_word_count.py] needs to be refactored:
 # -It's contained almost entirely in a single function. Setup and teardown should be isolated from the test itself.-
 # -Most of the code takes place in a large try/finally block that can obscure legitimate test failures.-
 # The test creates unnecessary files. Instead of creating a script to export {{PYTHONPATH}}, we can use&nbsp;[{{subprocess.Popen}}'s&nbsp;{{env}} parameter|https://docs.python.org/2/library/subprocess.html#subprocess.Popen] to provide the environment we want.
 # -The exit status of the subprocess itself is not checked, which can lead to missed test failures.- (Fixed in [#693|https://github.com/apache/avro/pull/693])
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Commit 360f31b298ed5f6ad3c88aa25b7fb444cb0f144a in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=360f31b ]

AVRO-2603: Clean Up Imports (#684)


              </div></li><li><div>
                I've merged some improvements to this test, but this ticket is still WIP.
              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #752 (See [https://builds.apache.org/job/AvroJava/752/])
AVRO-2603: Clean Up Imports (#684) (github: [https://github.com/apache/avro/commit/360f31b298ed5f6ad3c88aa25b7fb444cb0f144a])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit ce91b2e67031bd0c0c6fd899ab76fc28d8d5dda4 in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=ce91b2e ]

AVRO-2603: Context Managers to Manage Resources (#689)

Use the Python `with` block better to ensure file descriptors and other resources get closed.
              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #758 (See [https://builds.apache.org/job/AvroJava/758/])
AVRO-2603: Context Managers to Manage Resources (#689) (github: [https://github.com/apache/avro/commit/ce91b2e67031bd0c0c6fd899ab76fc28d8d5dda4])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit eb3f51e7b5c9f87ed5fa9a6a10dd88cd5ec62faf in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=eb3f51e ]

AVRO-2603: Check Exit Status of Tether Tool Command (#693)


              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #760 (See [https://builds.apache.org/job/AvroJava/760/])
AVRO-2603: Check Exit Status of Tether Tool Command (#693) (github: [https://github.com/apache/avro/commit/eb3f51e7b5c9f87ed5fa9a6a10dd88cd5ec62faf])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit 77fa25b5a65805f3067c065b9ff46eaf2c2f0897 in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=77fa25b ]

AVRO-2603: Simplify and Clean Up Assertions (#696)


              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #761 (See [https://builds.apache.org/job/AvroJava/761/])
AVRO-2603: Simplify and Clean Up Assertions (#696) (github: [https://github.com/apache/avro/commit/77fa25b5a65805f3067c065b9ff46eaf2c2f0897])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit df663c511b640f912b673f55c0c8b679996b6c79 in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=df663c5 ]

AVRO-2603: Setup and Teardown (#698)


              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #767 (See [https://builds.apache.org/job/AvroJava/767/])
AVRO-2603: Setup and Teardown (#698) (github: [https://github.com/apache/avro/commit/df663c511b640f912b673f55c0c8b679996b6c79])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit 29db1adf5b9052d6d57a5c9f9e855a44e7c8d84b in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=29db1ad ]

AVRO-2603: Provide PYTHONPATH in Environment (#706)

* AVRO-2603: Provide PYTHONPATH in Environment

Avoid creating an unnecessary shell script by using the tool invocation to pass command args and by providing appropriate environment variables to the parent java process.

Co-Authored-By: RyanSkraba &lt;ryan@skraba.com&gt;
              </div></li><li><div>
                Commit 29db1adf5b9052d6d57a5c9f9e855a44e7c8d84b in avro's branch refs/heads/master from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=29db1ad ]

AVRO-2603: Provide PYTHONPATH in Environment (#706)

* AVRO-2603: Provide PYTHONPATH in Environment

Avoid creating an unnecessary shell script by using the tool invocation to pass command args and by providing appropriate environment variables to the parent java process.

Co-Authored-By: RyanSkraba &lt;ryan@skraba.com&gt;
              </div></li><li><div>
                SUCCESS: Integrated in Jenkins build AvroJava #779 (See [https://builds.apache.org/job/AvroJava/779/])
AVRO-2603: Provide PYTHONPATH in Environment (#706) (github: [https://github.com/apache/avro/commit/29db1adf5b9052d6d57a5c9f9e855a44e7c8d84b])
* (edit) lang/py/test/test_tether_word_count.py

              </div></li><li><div>
                Commit 76611fcf44b5b9330213163330195a1a82c24d67 in avro's branch refs/heads/branch-1.9 from Michael A. Smith
[ https://gitbox.apache.org/repos/asf?p=avro.git;h=76611fc ]

AVRO-2603: Clean Up Imports (#684)


              </div></li></ol></div></div></html>