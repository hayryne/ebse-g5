<!DOCTYPE html><html><div class="item-title">
        Item 257
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> SAMZA-1280; document for the general/universal resource localization in YARN
                </div><div><b>message:</b> SAMZA-1280; document for the general/universal resource localization in YARN

This PR added a MD for localizing resource in Samza on YARN  by configuring path, local.name, local.type and local.visibility, and also updated the configuration table and index table.

Author: Fred Ji &lt;fji@linkedin.com&gt;

Reviewers: Navina Ramesh &lt;navina@apache.org&gt;

Closes #191 from fredji97/resourceLocalizationDoc

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> SAMZA-1280 document for the general/universal resource localization in YARN
                </div><div><b>body:</b> This PR added a MD for localizing resource in Samza on YARN  by configuring path, local.name, local.type and local.visibility, and also updated the configuration table and index table. 
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                &gt; It is not clear when the resource localization feature should be used. Can it be used based on the application needs or is it specific to security? Based on my understanding, it is the former. Please correct me if I am wrong.

@fredji97 Can you please answer my question?

Also, can you please reduce the description of PR to one or two lines? The entire description goes into the commit message. I would prefer that to be more concise. Once this is done, I can commit the PR. Thanks! 
              </div></li><li><div>
                Here are the 4 configurations we are using:
yarn.resources.&amp;lt;resource-name&amp;gt;.path
yarn.resources.&amp;lt;resource-name&amp;gt;.local.name
yarn.resources.&amp;lt;resource-name&amp;gt;.local.type
yarn.resources.&amp;lt;resource-name&amp;gt;.local.visibility


Here are the test procedures for the preview. 
1. go to samza/docs dir
2. run "bundle exec jekyll build"
3. run "_docs/local-site-test.sh"
4. run "bundle exec jekyll serve --watch --baseurl --port 4444"
5. open the browser and check 
http://localhost:4444/learn/documentation/versioned/
http://localhost:4444/learn/documentation/versioned/yarn/yarn-resource-localization.html
http://localhost:4444/learn/documentation/versioned/jobs/configuration-table.html

              </div></li><li><div>
                @vjagadish1989 @fredji97 is on vacation for about a week I think. So, please merge this PR and make the suggested minor changes in a separate patch. :)
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                I think you only changed the html element id here. The text value is still the same as above - `yarn.resources.&lt;resource-name&gt;.local.name`. It should be `yarn.resources.&lt;resource-name&gt;.local.visibility`.
              </div></li><li><div>
                I think you only changed the html element id here. The text value is still the same as above - yarn.resources.&lt;resource-name&gt;.local.name. It should be `yarn.resources.&lt;resource-name&gt;.local.type` ?
              </div></li><li><div>
                1. Minor: prefer documentation website addressing the user as "you"...
2. Minor: Can provide what is resource localization at first. How do you think about this re-word, it potentially simplifies it IMO:
"When running Samza jobs on YARN clusters, you may need to download some resources before startup (For example, downloading the job binaries, fetching certificate files etc.) This step is called as Resource Localization."
3. Minor: Can remove "Samza supports a general configuration way to localize difference resources" not very helpful
              </div></li><li><div>
                minor: can remove `from Horton works`
Here is a good [deep dive] on how localization works in YARN.
              </div></li><li><div>
                Minor: link [FileSystem]
              </div></li><li><div>
                Not needed.  `...` 
              </div></li><li><div>
                Minor: reword: 
You can implement your own file system to localize resources by extending from ...
              </div></li><li><div>
                typo: s/definiing/defining
              </div></li><li><div>
                IMO, Section is verbose. We can potentially nuke all these lines, and replace them with:

`You can specify a resource to be localized by the following configuration.`
              </div></li><li><div>
                &gt;&gt; +With the configuration properly defined, the resources a job requiring from external or internal locations may be prepared automatically before it runs.

We already mention that we download automatically. probably not needed
              </div></li><li><div>
                Should split this up into required configs and optional configs (instead of mentioning optional/ required at every bullet
              </div></li><li><div>
                &gt;&gt; It is up to you how to name the resource, but `&lt;resourceName&gt;` should be the same in the above configurations to apply to the same resource. 

not needed. 
              </div></li><li><div>
                s/FileSystem/[FileSystem
              </div></li><li><div>
                `if` you have a special need
              </div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> add documentation for general resource localization support in yarn
                </div><div><b>description:</b> We have implemented a general/universal way to localize any supported resource through a quick configuration, without changing the code in the past, as described in 
https://issues.apache.org/jira/browse/SAMZA-1143. 

We need to have a markdown documentation for this feature. 
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                GitHub user fredji97 opened a pull request:

    https://github.com/apache/samza/pull/191

    SAMZA-1280 document for the general/universal resource localization in YARN

    This PR added a MD for explaining localizing any resource in Samza on YARN  by configuring 4 key configurations.
    yarn.resources.&lt;resource-name&gt;.path
    yarn.resources.&lt;resource-name&gt;.local.name
    yarn.resources.&lt;resource-name&gt;.local.type
    yarn.resources.&lt;resource-name&gt;.local.visibility
    
    This PR also updated the configuration table, updated index table and fixed several broken links in other docs. 
    
    The preview was done by following the following instructions and it looked fine. 
    1. go to samza/docs dir
    2. run "bundle exec jekyll build"
    3. run "_docs/local-site-test.sh"
    4. run "bundle exec jekyll serve --watch --baseurl --port 4444"
    5. open the browser and check 
    http://localhost:4444/learn/documentation/versioned/
    http://localhost:4444/learn/documentation/versioned/yarn/yarn-resource-localization.html
    http://localhost:4444/learn/documentation/versioned/jobs/configuration-table.html


You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/fredji97/samza resourceLocalizationDoc

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/samza/pull/191.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #191
    
----
commit 618c9d03ff611d0b4c0876b24968f4b03101e64e
Author: Fred Ji &lt;fji@linkedin.com&gt;
Date:   2017-05-12T22:06:44Z

    SAMZA-1280 document for the general/universal resource localization in YARN

----

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/samza/pull/191

              </div></li></ol></div></div></html>