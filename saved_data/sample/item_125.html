<!DOCTYPE html><html><div class="item-title">
        Item 125
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [YARN][DOC][MINOR] Remove several obsolete env variables and update the doc
                </div><div><b>message:</b> [YARN][DOC][MINOR] Remove several obsolete env variables and update the doc

## What changes were proposed in this pull request?

Remove several obsolete env variables not supported for Spark on YARN now, also updates the docs to include several changes with 2.0.

## How was this patch tested?

N/A

CC vanzin tgravescs

Author: jerryshao &lt;sshao@hortonworks.com&gt;

Closes #13296 from jerryshao/yarn-doc.

(cherry picked from commit 1b98fa2e4382d3d8385cf1ac25d7fd3ae5650475)
Signed-off-by: Marcelo Vanzin &lt;vanzin@cloudera.com&gt;

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [YARN][Doc][Minor] Remove several obsolete env variables and update the doc
                </div><div><b>body:</b> ## What changes were proposed in this pull request?

Remove several obsolete env variables not supported for Spark on YARN now, also updates the docs to include several changes with 2.0.
## How was this patch tested?

N/A

CC @vanzin @tgravescs

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                **[Test build #59278 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59278/consoleFull)** for PR 13296 at commit [`743af9c`](https://github.com/apache/spark/commit/743af9c0986fd3a025befbc4fe571da5714ac381).
- This patch passes all tests.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                **[Test build #59329 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59329/consoleFull)** for PR 13296 at commit [`367e3b8`](https://github.com/apache/spark/commit/367e3b8de0633c100bc1a9bf4742f6af80ecfa68).
- This patch passes all tests.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                Thanks @srowen for your review, I changed several words according to your comments.

              </div></li><li><div>
                OK by me but ideally let @vanzin reply

              </div></li><li><div>
                **[Test build #59382 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59382/consoleFull)** for PR 13296 at commit [`27d1327`](https://github.com/apache/spark/commit/27d1327b154c12e719371c79bc1fb814b6a2144e).
- This patch passes all tests.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                **[Test build #59442 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59442/consoleFull)** for PR 13296 at commit [`99ff563`](https://github.com/apache/spark/commit/99ff56362c461cbe2e95703db18208e3e1455785).
- This patch **fails Spark unit tests**.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                Jenkins retest this please

              </div></li><li><div>
                **[Test build #59453 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59453/consoleFull)** for PR 13296 at commit [`99ff563`](https://github.com/apache/spark/commit/99ff56362c461cbe2e95703db18208e3e1455785).
- This patch **fails Spark unit tests**.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                Jenkins, retest this please.

              </div></li><li><div>
                **[Test build #59463 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59463/consoleFull)** for PR 13296 at commit [`99ff563`](https://github.com/apache/spark/commit/99ff56362c461cbe2e95703db18208e3e1455785).
- This patch **fails Spark unit tests**.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                Jenkins, retest this please.

              </div></li><li><div>
                **[Test build #59489 has finished](https://amplab.cs.berkeley.edu/jenkins/job/SparkPullRequestBuilder/59489/consoleFull)** for PR 13296 at commit [`99ff563`](https://github.com/apache/spark/commit/99ff56362c461cbe2e95703db18208e3e1455785).
- This patch passes all tests.
- This patch merges cleanly.
- This patch adds no public classes.

              </div></li><li><div>
                Merging to master / 2.0.

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                I removed this variable `SPARK_YARN_APP_NAME` here, I'm not sure is there anyone using this variable to set application name.

              </div></li><li><div>
                This section is mostly redundant with the configuration table. You should instead just redirect the user to read that, if you really want to add something.

              </div></li><li><div>
                Thanks a lot @vanzin for your suggestion, actually the reason I want to emphasize here is that we want deliver a better approach for users to start spark on yarn. I will reorganize the words. Thanks a lot.

              </div></li><li><div>
                This needs a little bit of editing:
"basically you could specify through" -&gt; "you can specify"
", for the details" -&gt; ". For details,"
"to distributed cache" -&gt; "to the distributed cache"

              </div></li><li><div>
                Remove "just"; "file, it will automatically" -&gt; "file. It will automatically be". Back-tick `--files`

              </div></li><li><div>
                Small nits for readability:

 "...can specify `spark.yarn.archive` or `spark.yarn.jars`. For details, please refer..."

"...Spark will create a zip file with all jars under `$SPARK_HOME/jars`, and upload it to..."

              </div></li><li><div>
                Done, thanks @vanzin .

              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>