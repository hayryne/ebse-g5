<!DOCTYPE html><html><div class="item-title">
        Item 92
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> GEODE-5780: remove LoggingThreadGroup
                </div><div><b>message:</b> GEODE-5780: remove LoggingThreadGroup

Fixed up the PluckStacks expected-thread utility for new
LoggingThread &amp; associated classes, plus the recently added
ThreadsMonitor thread.

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> replace the geode LoggingThreadGroup by using Thread.setUncaughtExceptionHandler
                </div><div><b>description:</b> A long time ago geode wanted to make sure that any uncaught exceptions would be logged. This was before java 1.5 so the way we decided to do this was create thread groups for all the thread pools geode had. Each of these groups define an uncaught exception handler that would use the geode logger to log the exception.

Since java 1.5 Thread now has&nbsp;setUncaughtExceptionHandler(UncaughtExceptionHandler).

This would be simpler than creating a ThreadGroup. The geode LoggingThreadGroup actually keeps a static collection of all the groups created and it would be nice to get rid of that.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div><div><b>body:</b> A problem was found with one of the log messages in this fix.

It has the old \{0}, \{1} and needs to be changed to just have empty curly braces that log4j uses.

The message that had this mistake is one that is hardly ever logged (it had to be a NoClassDefFoundError unhandled by the JVM shutdown hook thread).

&nbsp;Fixed in:

commit e7a4c057593b343afcae29045d9112f860379c14
Author: Darrel Schneider &lt;dschneider@pivotal.io&gt;
Date: Tue Oct 9 09:16:26 2018 -0700

GEODE-5780: remove digits from log message
 
 The message that was used to log an unhandled exception was still
 in the old format that had digits between the curly braces.
 It now uses the log4j format of empty curly braces.
                </div><div><b>label:</b> code-design
                </div></div></li></ol></div></div></html>