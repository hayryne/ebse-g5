<!DOCTYPE html><html><div class="item-title">
        Item 17
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Predict position of first significant digit in the quotient.
 Note: it is possible to improve prediction accuracy by comparing first significant digits in operands
 but it requires additional computations so this step is omitted
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Avoid result truncate in decimal operations
                </div><div><b>message:</b> Avoid result truncate in decimal operations

add (+), subtract (-) and multiply (*) operations:
* before:
  * precision of result used to be always 34 (see MathContext.DECIMAL128)
* after:
  * precision (number of significant digits) of result is at most 10000.
    If result exceeds given precision it will be rounded using HALF_UP mode

division (/) operation:
* before:
  * precision used to be always 34 (see MathContext.DECIMAL128)
* after:
  * expected scale is set to minimum precision (32) minus estimated position of first digit in quotient
  * scale should be at least as big as maximum scale of operands
  * scale should not be less than 32
  * scale should not be bigger than 1000
  * if actual quotient scale is bigger than calculated scale then result is rounded using HALF_UP mode
  * trailing zeros are stripped

modulo (%) operation:
* before:
  * ArithmeticException used to occur when implicit division produces number with precision bigger
    than 34 (see MathContext.DECIMAL128)
* after:
  * No exception

patch by Liudmila Kornilova; reviewed by Benedict Elliott Smith for CASSANDRA-15232

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>