<!DOCTYPE html><html><div class="item-title">
        Item 213
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [AIRFLOW-297] support exponential backoff option for retry delay
                </div><div><b>message:</b> [AIRFLOW-297] support exponential backoff option for retry delay

Closes #1639 from jgao54/support-retry-backoff

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [AIRFLOW-297] support exponential backoff option for retry delay
                </div><div><b>body:</b> Dear Airflow Maintainers,

Please accept this PR that addresses the following issues:
-[AIRFLOW-297](https://issues.apache.org/jira/browse/AIRFLOW-297)

Testing Done:
- Generated DAGs and ran tests locally
- Testing for this may extend total unit tests time a bit (given delay is exponential). If there are better ways for testing this, please let me know and I can add it as needed.

Reminders for contributors (REQUIRED!):
- Your PR's title must reference an issue on 
  [Airflow's JIRA](https://issues.apache.org/jira/browse/AIRFLOW/). 
  For example, a PR called "[AIRFLOW-1] My Amazing PR" would close JIRA 
  issue #1. Please open a new issue if required!
- Please squash your commits when possible and follow the [How to write a good git commit message](http://chris.beams.io/posts/git-commit/). 
  Summarized as follows:
  1. Separate subject from body with a blank line
  2. Limit the subject line to 50 characters
  3. Do not end the subject line with a period
  4. Use the imperative mood in the subject line (add, not adding)
  5. Wrap the body at 72 characters
  6. Use the body to explain what and why vs. how

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Exponential back-off algos are best implemented as bounded, exponential back-off algos. In this case, the bound is provided by the `retries` configuration parameter on the Task (or default_args dict passed to the DAG and then to the tasks). For reasonable values of retries, the delay can grow pretty quickly to appear interminably high, so it might be a good idea to offer another optional parameter for max_retry_delay.

              </div></li><li><div><div><b>body:</b> &gt; it might be a good idea to offer another optional parameter for max_retry_delay

+1 This seems useful, and fairly straight forward to add (min(max_retry_delay, delay)).

Overall, PR looks good. Had a minor nit.

                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                ## [Current coverage](https://codecov.io/gh/apache/incubator-airflow/pull/1639?src=pr) is **63.98%**

&gt; Merging [#1639](https://codecov.io/gh/apache/incubator-airflow/pull/1639?src=pr) into [master](https://codecov.io/gh/apache/incubator-airflow/branch/master?src=pr) will decrease coverage by **0.27%**

``` diff
@@             master      #1639   diff @@
==========================================
  Files           122        122          
  Lines          8562       8572    +10   
  Methods           0          0          
  Messages          0          0          
  Branches          0          0          
==========================================
- Hits           5502       5485    -17   
- Misses         3060       3087    +27   
  Partials          0          0          
```

&gt; Powered by [Codecov](https://codecov.io?src=pr). Last updated by [35d07a8...b9ac247](https://codecov.io/gh/apache/incubator-airflow/compare/35d07a8bdd8946b4c02f2bc5df5fb88800962dc7...b9ac24738e41cbee663581e5c90c94e29793ff3e)

              </div></li><li><div>
                LGTM

              </div></li><li><div>
                Going to run this in our prod environment

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div><div><b>body:</b> This code is copy/paste of the above. A helper function seems like a better approach.

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Exponential Backoff Retry Delay
                </div><div><b>description:</b> The retry delay time is currently fixed. It would be an useful option to support progressive longer waits between retries via exponential backoff.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Commit 8b86ee6a727090acd151ed0a312b627412ddd5eb in incubator-airflow's branch refs/heads/master from [~joy.gao54]
[ https://git-wip-us.apache.org/repos/asf?p=incubator-airflow.git;h=8b86ee6 ]

[AIRFLOW-297] support exponential backoff option for retry delay

Closes #1639 from jgao54/support-retry-backoff

              </div></li></ol></div></div></html>