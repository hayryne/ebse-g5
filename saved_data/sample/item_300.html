<!DOCTYPE html><html><div class="item-title">
        Item 300
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Specifies a function to be called whenever the worker
 thread enters the Idle state.  When all queued tasks
 have been executed, and there are none on the task queue,
 the Worker will then call the provided callback.  This
 is used during testing with mock-time to indicate that
 nothing can happen to advance the state of the test.

 This is not ordinarily needed when running a live server
 because real-time moves forward naturally, causing
 the TimedWait in RewriteDriver::Render to return and
 keep progress moving forward.
              </div></li><li><div>
                 This function called when testing with mock-time to allow
 the TimedWait in Render() to complete.
              </div></li><li><div>
                 namespace
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Layer a mock thread system over a real thread system, so that we can control
                </div><div><b>message:</b> Layer a mock thread system over a real thread system, so that we can control
condition variables in mock time.

Two mechanisms are provided to work with mock time, though only one is used at
this point.

Method #1 is to use a new idle-callback provided by the Worker class.  Use that
to signal the condition-variable and allow the TimedWait in
RewriteDriver::Render to return.

Method #2, not in use yet, is to allow the various phases of RewriteContext and
MockUrlFetcher to advance time, and use new MockTimer alarms to signal the
condition-variable to complete the TimedWait as well.


                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li><li><div><div><b>title:</b> How to contribute?
                </div><div><b>body:</b> It seems that you are looking for people who are familiar with nginx internals (http://news.ycombinator.com/item?id=4638712) We happen to have a good understanding of nginx internals (the Tengine web server is an example of this: http://tengine.taobao.org http://github.com/taobao/tengine), and we plan to implement an nginx module based on mod_pagespeed. So we're very excited to see this project started.

I think maybe we can do something together? If so, my questions are what we can help and how to contribute? Thank you very much in advance.

P.S. does it make sense to follow the coding style of nginx itself?

                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div><div><b>body:</b> PPS: Tengine can support dynamic library. It should be easier to work with pagespeed library.

                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Awesome. Would love to get your guys input and expertise on this. 

I've started a new discussion group, let's take this discussion there:
https://groups.google.com/d/topic/ngx-pagespeed-discuss/a6T3mXs2P5Y/discussion

P.S. +1 for nginx coding style.. and tengine + dynamic loading sounds really interesting.

              </div></li><li><div>
                hot detect MIME set type html/css/img ?

```
pagespeed on;
pagespeed_types    text/html text/css image/png image/gif
                   image/jpeg application/x-javascript;

# Filters: http://www.modpagespeed.com/
#pagespeed_filter &lt;type&gt; &lt;value&gt;;
#pagespeed_filter combine_css on;
```

              </div></li><li><div>
                FreeBSD patch

## /etc/make.conf

# nginx

.if ${.CURDIR:M/usr/ports/www/nginx}
CONFIGURE_ARGS+=--add-module=/root/nginx-module/ngx_pagespeed
.endif

# nginx-devel

.if ${.CURDIR:M/usr/ports/www/nginx-devel}
CONFIGURE_ARGS+=--add-module=/root/nginx-module/ngx_pagespeed
.endif

---

please send request to OSA =  http://www.freebsd.org/send-pr.html

              </div></li><li><div>
                @pgbi the types should be picked up automatically by ngx_pagespeed already. Having said that, happy to discuss.. we have a new group live, please check it out and post any thoughts or recommendations:

https://groups.google.com/forum/#!forum/ngx-pagespeed-discuss

              </div></li><li><div>
                hmm.. git (module ngx_pagespeed) + svn(google library modpagespeed) merge
git + svn update only

```
$ svn co http://modpagespeed.googlecode.com/svn/branches/latest-beta/src /path/to/ngx_pagespeed/src
```

              </div></li><li><div>
                alternative mod dev branch https://github.com/mtourne/ngx_instaweb/tree/dev

              </div></li><li><div>
                @pgbi @mtourne's implementation was a basic prototype and never went further then that (unfortunately).

              </div></li><li><div>
                I hope that this project goes further than my proof of concept. 
The core of pagespeed (look for "instaweb" in the source) seems very well designed and extensible, it would be a great addition to the Nginx ecosystem!

              </div></li><li><div><div><b>body:</b> @igrigorik @yaoweibin

PageSpeed Optimization Libraries (**psol**) library bad depend, so sad

```
.if ${.CURDIR:M/usr/ports/www/nginx*}
CONFIGURE_ARGS+="--add-module=/root/nginx_modules/ngx_pagespeed"
.endif
```

`cd /usr/ports/www/nginx-devel; make install clean;`

---

===&gt;   nginx-devel-1.3.7 depends on file: /usr/local/lib/libcrypto.so.8 - found
===&gt;   nginx-devel-1.3.7 depends on shared library: pcre - found
===&gt;  Configuring for nginx-devel-1.3.7

```
adding module in /root/nginx_modules/ngx_pagespeed
checking for psol ... not found
./configure: error: module ngx_pagespeed requires the pagespeed optimization library
===&gt;  Script "configure" failed unexpectedly.
Please report the problem to osa@FreeBSD.org [maintainer] and attach the
"/usr/ports/www/nginx-devel/work/nginx-1.3.7/config.log" including the output
of the failure of your make command. Also, it might be a good idea to provide
an overview of all packages installed on your system (e.g. a /usr/sbin/pkg_info
-Ea).
*** [do-configure] Error code 1
```

```
# uname -rsp
FreeBSD 9.1-PRERELEASE amd64
```

                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>