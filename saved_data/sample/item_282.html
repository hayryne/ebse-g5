<!DOCTYPE html><html><div class="item-title">
        Item 282
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> TS-3620: Enable HTTP/2 by default
                </div><div><b>message:</b> TS-3620: Enable HTTP/2 by default

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Enable HTTP/2 by default
                </div><div><b>description:</b> I think the consensus is that this should get controlled via normal server_ports configuration. For 6.0.0, we'll make HTTP/2 "default" I'd imagine if we have compiled in support for ALPN, and the TLS port is enabled.

Someone would then just specify in server_ports to disable "h2", right ?
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                I think that's safe, the browser needs to tell ATS aswell that it supports HTTP/2 which covers older browsers.

Though it forces people to use port 443, while they might want to use another port. With IPv4 maybe another program listens on 443 and you want ATS to listen on another port. With IPv6 you could easely add another public IP to the server and use the default (443) port.
              </div></li><li><div>
                That shouldn't require port 443. The whole point of the server_ports config is that you specify ports + "features", such as  6969:ssl.
              </div></li><li><div>
                Ok, so it's not about the portnumber but the service "ssl". Then I totally agree with you. If HTTP/2 is required, then SSL is mandatory.
              </div></li><li><div>
                Maybe we should just move this out to 7.0.0 for now.
              </div></li><li><div>
                No in the ATS implementation, SSL is not mandatory for HTTP/2.
              </div></li><li><div><div><b>body:</b> Should we leave this for 7.0.0? Is there another (better?) way to enable H2? I still feel that we ought to have a way to enable this feature per TLS context, or even per SAN name.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                As seen on IRC, this ought to update the default ``server_ports`` too.
              </div></li></ol></div></div></html>