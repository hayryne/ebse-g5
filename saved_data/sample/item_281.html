<!DOCTYPE html><html><div class="item-title">
        Item 281
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> TS-4198: Restore sync buffer cleanup.
                </div><div><b>message:</b> TS-4198: Restore sync buffer cleanup.

This closes #472

(cherry picked from commit b3f9e053989cc8155dce6c381e66f735cd94df91)

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> TS-4198: Restore sync buffer cleanup.
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> TS-4198: Restore sync buffer cleanup.
                </div><div><b>body:</b> 
                </div></div></li><li><div><div><b>title:</b> TS-4198: Restore sync buffer cleanup.
                </div><div><b>body:</b> 
                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                +1, I like it!

              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Excessive memory allocations from HostDB with huge tables enabled
                </div><div><b>description:</b> [~psudaemon] and I have been debugging some memory issues for a while now, and with the new debug tags Phil added, we believe we've tracked it down to a missing release of cachedir buffers. This became significant amount of RAM with HostDB allocations (which by default is 32MB, but can be much bigger).

The suggestion is to restore the previous cleanup, with huge pages logic added.
                </div></div></li><li><div><div><b>summary:</b> Excessive memory allocations from HostDB with huge tables enabled
                </div><div><b>description:</b> [~psudaemon] and I have been debugging some memory issues for a while now, and with the new debug tags Phil added, we believe we've tracked it down to a missing release of cachedir buffers. This became significant amount of RAM with HostDB allocations (which by default is 32MB, but can be much bigger).

The suggestion is to restore the previous cleanup, with huge pages logic added.
                </div></div></li><li><div><div><b>summary:</b> Excessive memory allocations from HostDB with huge tables enabled
                </div><div><b>description:</b> [~psudaemon] and I have been debugging some memory issues for a while now, and with the new debug tags Phil added, we believe we've tracked it down to a missing release of cachedir buffers. This became significant amount of RAM with HostDB allocations (which by default is 32MB, but can be much bigger).

The suggestion is to restore the previous cleanup, with huge pages logic added.
                </div></div></li><li><div><div><b>summary:</b> Excessive memory allocations from HostDB with huge tables enabled
                </div><div><b>description:</b> [~psudaemon] and I have been debugging some memory issues for a while now, and with the new debug tags Phil added, we believe we've tracked it down to a missing release of cachedir buffers. This became significant amount of RAM with HostDB allocations (which by default is 32MB, but can be much bigger).

The suggestion is to restore the previous cleanup, with huge pages logic added.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Excessive memory allocations from HostDB with huge tables enabled
                </div><div><b>description:</b> [~psudaemon] and I have been debugging some memory issues for a while now, and with the new debug tags Phil added, we believe we've tracked it down to a missing release of cachedir buffers. This became significant amount of RAM with HostDB allocations (which by default is 32MB, but can be much bigger).

The suggestion is to restore the previous cleanup, with huge pages logic added.
                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                GitHub user PSUdaemon opened a pull request:

    https://github.com/apache/trafficserver/pull/472

    TS-4198: Restore sync buffer cleanup.

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/PSUdaemon/trafficserver cache_dir_hugepage_free

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/trafficserver/pull/472.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #472
    
----

----

              </div></li><li><div>
                Github user zwoop commented on the pull request:

    https://github.com/apache/trafficserver/pull/472#issuecomment-183391081
  
    +1, I like it!

              </div></li><li><div>
                Commit b3f9e053989cc8155dce6c381e66f735cd94df91 in trafficserver's branch refs/heads/master from [~psudaemon]
[ https://git-wip-us.apache.org/repos/asf?p=trafficserver.git;h=b3f9e05 ]

TS-4198: Restore sync buffer cleanup.

This closes #472

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/trafficserver/pull/472

              </div></li><li><div>
                Commit 8377fa5b6f7ccf72090eab790a306bcee67067ca in trafficserver's branch refs/heads/6.1.x from [~psudaemon]
[ https://git-wip-us.apache.org/repos/asf?p=trafficserver.git;h=8377fa5 ]

TS-4198: Restore sync buffer cleanup.

This closes #472

(cherry picked from commit b3f9e053989cc8155dce6c381e66f735cd94df91)

              </div></li><li><div>
                Commit f2987f0af58ae068889a532d4453fb6b84ef5ec0 in trafficserver's branch refs/heads/6.1.x from [~zwoop]
[ https://git-wip-us.apache.org/repos/asf?p=trafficserver.git;h=f2987f0 ]

 Added TS-4198

              </div></li></ol></div></div></html>