<!DOCTYPE html><html><div class="item-title">
        Item 277
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> PHOENIX-1420 DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>message:</b> PHOENIX-1420 DatabaseMetaData.getschemas returns incorrect column order

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li><li><div><div><b>summary:</b> DatabaseMetaData.getschemas returns incorrect column order
                </div><div><b>description:</b> DatabaseMetaData.getSchemas returns incorrect column order. According to java 6 api doc, getSchemas should return answer set columns in the following order: 
 
1.TABLE_SCHEM String =&gt; schema name 
2.TABLE_CATALOG String =&gt; catalog name

The Phoenix JDBC driver returns these in reverse column order, i.e.
1. TABLE_CATALOG
2. TABLE_SCHEM


Our experience with other JDBC drivers is that they return the data w/ TABLE_SCHEM being the first column.  

                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                We based the column order on the javadoc: http://docs.oracle.com/javase/7/docs/api/java/sql/DatabaseMetaData.html#getTables(java.lang.String,%20java.lang.String,%20java.lang.String,%20java.lang.String[])


              </div></li><li><div><div><b>body:</b> getSchema() answer set description in java doc does seem inconsistent with getTables , getColumns, I grant you that. I would also have thought that catalog should go before schema.  The description for getSchema seems to contradict this, however. As the java api doc is the 'standard', though, it should not be left to the reader to reinterpret the documentation. Are you aware of any other JDBC driver that sets the column-ordering this way?  
                </div><div><b>label:</b> documentation
                </div></div></li><li><div>
                Strange - for getSchemas() it should be schema name first followed by table cat, but for getColumns and getTables table cat is first. We can fix this in our next patch release. In the meantime, perhaps you can access via the name instead of positionally?
              </div></li><li><div>
                OK, no problem.
              </div></li><li><div>
                SUCCESS: Integrated in Phoenix-master #482 (See [https://builds.apache.org/job/Phoenix-master/482/])
PHOENIX-1420 DatabaseMetaData.getschemas returns incorrect column order (jtaylor: rev ad525844fbbdb1fe1ca84938fc8eeff51ab49979)
* phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java
* phoenix-core/src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java

              </div></li><li><div>
                SUCCESS: Integrated in Phoenix-3.0-hadoop1 #310 (See [https://builds.apache.org/job/Phoenix-3.0-hadoop1/310/])
PHOENIX-1420 DatabaseMetaData.getschemas returns incorrect column order (jtaylor: rev b5012d994278982c287b18b9051616cd76ac8b80)
* phoenix-core/src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java
* phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java

              </div></li><li><div>
                Bulk close of all issues that has been resolved in a released version. 
              </div></li></ol></div></div></html>