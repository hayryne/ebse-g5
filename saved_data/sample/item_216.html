<!DOCTYPE html><html><div class="item-title">
        Item 216
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
              </div></li><li><div>
                 Licensed to the Apache Software Foundation (ASF) under one
 or more contributor license agreements.  See the NOTICE file
 distributed with this work for additional information
 regarding copyright ownership.  The ASF licenses this file
 to you under the Apache License, Version 2.0 (the
 "License"); you may not use this file except in compliance
 with the License.  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing,
 software distributed under the License is distributed on an
 "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 KIND, either express or implied.  See the License for the
 specific language governing permissions and limitations
 under the License.
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Add FernetEnabledRule for upgrade check command (#11116)
                </div><div><b>message:</b> Add FernetEnabledRule for upgrade check command (#11116)

(cherry picked from commit 815bc29cf57753fdce9e8f9881966616e12f7272)

                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li><li><div><div><b>title:</b> Create FernetEnabledRule to ease upgrade to Airflow 2.0
                </div><div><b>body:</b> 
This issue is part of #8765

## Rule
Create `FernetEnabledRule` which corresponds to
&gt; Fernet is enabled by default

entry in UPDATING.md. This rule should allow users to check if their current configuration needs any adjusting
before migration to Airflow 2.0.

## How to guide
To implement a new rule, create a class that inherits from `airflow.upgrade.rules.base_rule.BaseRule`.
It will be auto-registered and used by `airflow upgrade-check` command. The custom rule class has to have `title`,
`description` properties and should implement `check` method which returns a list of error messages in case of
incompatibility.

For example:
https://github.com/apache/airflow/blob/ea36166961ca35fc51ddc262ec245590c3e236fb/airflow/upgrade/rules/conn_type_is_not_nullable.py#L25-L42

**Remember** to open the PR against `v1-10-test` branch.

                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                Can pick this up : )
              </div></li><li><div>
                @Sangarshanan I assigned you 👌 
              </div></li><li><div>
                Heya : ) just wanted to confirm what needs to be done

Check if cryptography is not importable or if fernetkey is empty

Return a message saying that fernet will be enabled by default when upgrading and 
an empty key has to be explicitly set in the ``fernet_key`` option of 
section ``[core]`` in the ``airflow.cfg`` file to retain the current behaviour 

Or am I going about this the wrong way? 
              </div></li><li><div>
                &gt; Return a message saying that fernet will be enabled by default when upgrading and
&gt; an empty key has to be explicitly set in the `fernet_key` option of
&gt; section `[core]` in the `airflow.cfg` file to retain the current behaviour

as per https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

So we should check if `fernet_key` key in config is empty. If yes we should inform users than when migrating they will have to change it explicitly to empty. If someone has something in this field - they are all good.

Also we should inform about this requirement:

&gt; At the same time, this means that the apache-airflow[crypto] extra-packages are always installed. However, this requires that your operating system has libffi-dev installed.
              </div></li><li><div>
                Closed via #11116 
              </div></li></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li><li><div><div><b>title:</b> Add fernetenabled rule and unittest
                </div><div><b>body:</b> &lt;!--
Thank you for contributing! Please make sure that your code changes
are covered with tests. And in case of new features or big changes
remember to adjust the documentation.

Feel free to ping committers for the review!

In case of existing issue, reference it using one of the following:


How to write a good git commit message:
http://chris.beams.io/posts/git-commit/
--&gt;

Adds FernetEnabled rule to `upgrade/rules` as per:

https://github.com/apache/airflow/blob/master/UPDATING.md#fernet-is-enabled-by-default

Closes: #11048

---

Read the **[Pull Request Guidelines](https://github.com/apache/airflow/blob/master/CONTRIBUTING.rst#pull-request-guidelines)** for more information.
In case of fundamental code change, Airflow Improvement Proposal ([AIP](https://cwiki.apache.org/confluence/display/AIRFLOW/Airflow+Improvements+Proposals)) is needed.
In case of a new dependency, check compliance with the [ASF 3rd Party License Policy](https://www.apache.org/legal/resolved.html#category-x).
In case of backwards incompatible changes please leave a note in [UPDATING.md](https://github.com/apache/airflow/blob/master/UPDATING.md).

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div><div><b>body:</b> Blackened the files, hope the strings are cleaner now 
                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                Can you add test where the fernet key is not empty? Then there should be no message 👍 
              </div></li><li><div>
                Will do 
              </div></li><li><div><div><b>body:</b> ```suggestion
        fernet_key in airflow.cfg must be explicitly set empty as fernet mechanism is enabled by default
```
Just to avoid any confusion 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Let's avid the leading `\n` 
              </div></li><li><div><div><b>body:</b> Same here we should avoid leading `\n` and the indentation otherwise looks strange:
```
Problems:
  1.
        fernet_key must be explicitly set empty as fernet mechanism is enabled by default
        this means that the apache-airflow[crypto] extra-packages are always installed.
        However, this requires that your operating system has libffi-dev installed.
```
Using normal string would be enough 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                Of course
              </div></li><li><div>
                Yep
              </div></li><li><div><div><b>body:</b> ```suggestion
            return "fernet_key in airflow.cfg must be explicitly set empty as fernet mechanism" \
                " is enabled by default this means that the apache-airflow[crypto] extra-packages" \
                " are always installed. However, this requires that your operating system has libffi-dev installed."
```
This should make the message one liner (it's important for json formatter). Currently it looks a bit unhealthy 😄 
![Uploading Screenshot 2020-09-24 at 17.38.28.png…]()

                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                ```suggestion
    description =  "The fernet mechanism is enabled by default " \
        "to increase the security of the default installation."
```
              </div></li><li><div>
                I personally just run black over the new rules 😉 
              </div></li><li><div>
                Oh I assumed that was only for the description, will make this one line too and blacken the code : ) 
              </div></li><li><div>
                Black did this 😅 
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>