<!DOCTYPE html><html><div class="item-title">
        Item 189
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 TODO: this error handling can be removed in future,
 once we find a common way to handle OOM errors in netty threads.
 Here we enrich it to propagate better OOM message to the receiver
 if it happens in a netty thread.
              </div></li><li><div>
                noinspection ErrorNotRethrown
              </div></li><li><div>
                *
	 * Checks whether the given exception indicates a JVM direct out-of-memory error.
	 *
	 * @param t The exception to check.
	 * @return True, if the exception is the direct {@link OutOfMemoryError}, false otherwise.
	 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [FLINK-15989] Improve direct out-of-memory error handling in MemorySegmentFactory
                </div><div><b>message:</b> [FLINK-15989] Improve direct out-of-memory error handling in MemorySegmentFactory

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Rewrap OutOfMemoryError in allocateUnpooledOffHeap with better message
                </div><div><b>description:</b> Now if Flink allocates direct memory in&nbsp;MemorySegmentFactory#allocateUnpooledOffHeapMemory and its limit is exceeded for any reason, e.g. user code over-allocated direct memory,&nbsp;ByteBuffer#allocateDirect will throw a generic&nbsp;"OutOfMemoryError: Direct buffer memory". We can catch it and add a message which provides more explanation and points to an option&nbsp;taskmanager.memory.task.off-heap.size to increase as a possible solution.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div><div><b>body:</b> Thanks [~azagrebin], yes, we can improve this message too.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                merged into master by a7521844d7a120b2e36dd7d57cea0fe5d819dbba
merged into 1.10 by 25ec89b8dae175246fd28972f8dbf7d479e89b5f
              </div></li></ol></div></div></html>