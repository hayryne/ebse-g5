<!DOCTYPE html><html><div class="item-title">
        Item 262
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                 Pod Forward
              </div></li><li><div>
                 wait for a shutdown
              </div></li><li><div>
                 Update Pod to "pending" phase
              </div></li><li><div>
                 Update Pod to "Running" phase
              </div></li><li><div>
                 Check that the Pod is deleted
              </div></li><li><div>
                 wait a little bit
              </div></li><li><div>
                 should throw an IOException
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [ZEPPELIN-5259] Use RemoteInterpreterManagedProcess for K8sRemoteInterpreterProcess
                </div><div><b>message:</b> [ZEPPELIN-5259] Use RemoteInterpreterManagedProcess for K8sRemoteInterpreterProcess

### What is this PR for?
This PR changes the parent class for K8sRemoteInterpreterProcess to RemoteInterpreterManagedProcess.
It also contains some bug fixes.

I removed the static method `RemoteInterpreterUtils.checkIfRemoteEndpointAccessible`, because this function is unnecessary and it also blocks testing. It is sufficient to listen for `processStarted`. This signals a successful start of the interpreter.

### What type of PR is it?
Improvement and Bugfixing

### What is the Jira issue?
* https://issues.apache.org/jira/browse/ZEPPELIN-5259

### How should this be tested?
* CI
* Port forwarding was tested locally

### Questions:
* Does the licenses files need update? No
* Is there breaking changes for older versions? No
* Does this needs documentation? No

Author: Philipp Dallig &lt;philipp.dallig@gmail.com&gt;

Closes #4060 from Reamer/K8s_remote_interpreter_manager and squashes the following commits:

26bed4515 [Philipp Dallig] Remove RemoteInterpreterUtils.checkIfRemoteEndpointAccessible and add Kube-Mock tests
ec2843497 [Philipp Dallig] Rewrite port-forward
b6233e264 [Philipp Dallig] Remove duplicate code
8e7ed67ba [Philipp Dallig] Remove context as a local varaible
0051b878a [Philipp Dallig] Use RemoteInterpreterManagedProcess instead of RemoteInterpreterProcess
f010075cb [Philipp Dallig] Move pod random suffix to K8sUtils

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [ZEPPELIN-5259] Use RemoteInterpreterManagedProcess for K8sRemoteInterpreterProcess
                </div><div><b>body:</b> ### What is this PR for?
This PR changes the parent class for K8sRemoteInterpreterProcess to RemoteInterpreterManagedProcess.
It also contains some bug fixes.

I removed the static method `RemoteInterpreterUtils.checkIfRemoteEndpointAccessible`, because this function is unnecessary and it also blocks testing. It is sufficient to listen for `processStarted`. This signals a successful start of the interpreter.


### What type of PR is it?
Improvement and Bugfixing


### What is the Jira issue?
* https://issues.apache.org/jira/browse/ZEPPELIN-5259

### How should this be tested?
* CI
* Port forwarding was tested locally

### Questions:
* Does the licenses files need update? No
* Is there breaking changes for older versions? No
* Does this needs documentation? No

                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                I will include this PR in master and branch-0.9 on Friday (26/02/2021) if no further comments are received.
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Use RemoteInterpreterManagedProcess for K8sRemoteInterpreterProcess
                </div><div><b>description:</b> We should use the RemoteInterpreterManagedProcess for the K8sRemoteInterpreterProcess to remove duplicate code.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Closed via https://github.com/apache/zeppelin/pull/4060
              </div></li></ol></div></div></html>