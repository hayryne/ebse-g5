<!DOCTYPE html><html><div class="item-title">
        Item 53
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                * Expert: attempts to update doc values by document ID, as long as
   *  the provided reader is a near-real-time reader (from {@link
   *  DirectoryReader#open(IndexWriter)}).  If the
   *  provided reader is an NRT reader obtained from this
   *  writer, and its segment has not been merged away, then
   *  the update succeeds and this method returns a valid (&amp;gt; 0) sequence
   *  number; else, it returns -1 and the caller must then
   *  either retry the update and resolve the document again.
   *
   *  &lt;b&gt;NOTE&lt;/b&gt;: this method can only updates documents
   *  visible to the currently open NRT reader.  If you need
   *  to update documents indexed after opening the NRT
   *  reader you must use {@link #updateDocValues(Term, Field...)}. 
              </div></li><li><div>
                 NOTE: DON'T use docID inside the closure
              </div></li><li><div>
                 retry if we just committing a merge
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> LUCENE-8297: Add IW#tryUpdateDocValues(Reader, int, Fields...)
                </div><div><b>message:</b> LUCENE-8297: Add IW#tryUpdateDocValues(Reader, int, Fields...)

IndexWriter can update doc values for a specific term but this might
affect all documents containing the term. With tryUpdateDocValues
users can update doc-values fields for individual documents. This allows
for instance to soft-delete individual documents.
The new method shares most of it's code with tryDeleteDocuments.

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Add IW#tryUpdateDocValues(Reader, int, Fields...)
                </div><div><b>description:</b> IndexWriter can update doc values for a specific term but this might
    affect all documents containing the term. With tryUpdateDocValues
    users can update doc-values fields for individual documents. This allows
    for instance to soft-delete individual documents.
    The new method shares most of it's code with tryDeleteDocuments.

                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                [~mikemccand] can you take a look
              </div></li><li><div>
                I will look!
              </div></li><li><div><div><b>body:</b> +1, great tests :)

&nbsp;

Maybe rename {{tryUpdate}} in the test to like {{doUpdate}} since it has a loop and keeps trying until it wins?
                </div><div><b>label:</b> test
                </div></div></li><li><div>
                Commit 48a2138e899bca0b8a8485fb7e490a9dc943d997 in lucene-solr's branch refs/heads/branch_7x from [~simonw]
[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=48a2138 ]

LUCENE-8297: Add IW#tryUpdateDocValues(Reader, int, Fields...)

IndexWriter can update doc values for a specific term but this might
affect all documents containing the term. With tryUpdateDocValues
users can update doc-values fields for individual documents. This allows
for instance to soft-delete individual documents.
The new method shares most of it's code with tryDeleteDocuments.

              </div></li><li><div>
                Commit b0b32931b28da83d47f0561f4da734d6b9ee6e16 in lucene-solr's branch refs/heads/master from [~simonw]
[ https://git-wip-us.apache.org/repos/asf?p=lucene-solr.git;h=b0b3293 ]

LUCENE-8297: Add IW#tryUpdateDocValues(Reader, int, Fields...)

IndexWriter can update doc values for a specific term but this might
affect all documents containing the term. With tryUpdateDocValues
users can update doc-values fields for individual documents. This allows
for instance to soft-delete individual documents.
The new method shares most of it's code with tryDeleteDocuments.

              </div></li></ol></div></div></html>