<!DOCTYPE html><html><div class="item-title">
        Item 118
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> CAMEL-14020 - Migrate deprecate getOut to getMessage in tests, camel-aws-msk
                </div><div><b>message:</b> CAMEL-14020 - Migrate deprecate getOut to getMessage in tests, camel-aws-msk

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Migrate deprecate getOut to getMessage in tests
                </div><div><b>description:</b> 
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                I'm concerned that some tests elaborately use {{getOut()}} in order to simulate the actual component behaviours and thus changing {{getOut()}} to {{getMessage()}} may change the meanings of the tests and make them worthless.

Example:
https://github.com/apache/camel/blob/master/platforms/spring-boot/components-starter/camel-servlet-starter/src/test/java/org/apache/camel/component/servlet/springboot/test/ServletHttpMessageTest.java#L61

The problem here is that tests may still pass but since the meanings are changed they may no longer do meaningful tests.
              </div></li><li><div>
                So, probably migrating getOut to getMessage on components should come first before working on this?
              </div></li><li><div><div><b>body:</b> Yeah there can be some use cases where you need to migrate component too, but generally there are just too many getOut on the unit tests that are not needed.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                [~davsclaus] What should we do with hasOut() method? Is there something like hasMessage() in exchange?
              </div></li><li><div>
                You cannot migrate all, as some old code relies on hasOut().

But generally if the code is something like

if hasOut()
   getOut ....
else
   getIn

Then you can just do

   getMessage


              </div></li><li><div>
                Is anyone working on this task? I already migrated camel-jacksonxml and camel-http tests.&nbsp;
              </div></li><li><div>
                I'm working on the AWS components actually. But no problem, we can work altogether
              </div></li><li><div>
                Okay, just to be sure that we are not working on the same components. It would be a waste of time. :) Can you please leave a comment once you take some other components?

&nbsp;

I will take google components.
              </div></li><li><div>
                ok, I'm still working on camel-aws components.

Once I've done with them I'll let you know.

Please leave a comment too, If you want to work on other components after google one. Maybe start opening some PR with the work so far.
              </div></li><li><div>
                AWS components completed
              </div></li><li><div>
                I'm working on the component starting with A.
              </div></li><li><div>
                Google components done. Will take components starting with B.
              </div></li><li><div>
                I'm looking at components starting with G
              </div></li><li><div>
                Done G. Done Digitalocean
              </div></li><li><div>
                Done Docker.&nbsp;

In progress components starting with B.

Edit: Done B.
              </div></li><li><div>
                Working on components starting with E
              </div></li><li><div>
                E done.

Now working on F.
              </div></li><li><div>
                Done F
              </div></li><li><div>
                Now looking at components starting with Z
              </div></li><li><div>
                Done Z
              </div></li><li><div>
                Now V, only Camel-velocity involved
              </div></li><li><div>
                I will take rest of the D.

&nbsp;

Edit:&nbsp; Done with D.
              </div></li><li><div>
                Will take C.

&nbsp;

Edit: Done with C.

That's all for today. :)
              </div></li><li><div><div><b>body:</b> H - Work in progress.

H - Done.

I -Noting to be migrated.

J -DONE
                </div><div><b>label:</b> requirement
                </div></div></li><li><div>
                K and L - done
              </div></li><li><div>
                M - done
              </div></li><li><div>
                N,O, P, Q, R- Done

camel-netty-http - dependency issue
camel-reactor - addOnCompletion is not available
camel-rxjava -addOnCOmpletion is not available
              </div></li><li><div>
                What do you mean with dependency issues and addoncompletion? The project wouldn't build if it's as you reporting
              </div></li><li><div>
                My mistake... Didn't update the master branch. It's resolved now.
              </div></li></ol></div></div></html>