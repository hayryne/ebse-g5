<!DOCTYPE html><html><div class="item-title">
        Item 298
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                *
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements. See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the "License"); you may not use this file except in compliance with
 * the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 
              </div></li><li><div>
                *
    *
    * @param artemisInstance
    * @param serverName it will be used on logs
    * @param id it will be used to add on the port
    * @param timeout
    * @return
    * @throws Exception
    
              </div></li><li><div>
                 this dependency is here to make sure this module is only executed
              after the distribution is created.
              Otherwise it will get here before the build eventually.
              e.g if you use mvn install -T 20 
              </div></li><li><div>
                 this makes it easier in certain envs 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> This closes #1174
                </div><div><b>message:</b> This closes #1174

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> ARTEMIS-1089 Simplifying smoke tests
                </div><div><b>body:</b> 
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Backup sync-up is slow when paging
                </div><div><b>description:</b> 
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                GitHub user clebertsuconic opened a pull request:

    https://github.com/apache/activemq-artemis/pull/1168

    ARTEMIS-1089 Fixing Replication catchup slow

    I couldn't bring the test I created as part of this on master. 
    
    I still wanted to bring the fix, but I'm not going to bother about the smoke-test created there now.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/clebertsuconic/activemq-artemis 1.x-replication

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq-artemis/pull/1168.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1168
    
----
commit a9ba3be18ba98386b6f1c086893d1c5c0da88f35
Author: Clebert Suconic &lt;clebertsuconic@apache.org&gt;
Date:   2017-04-02T23:20:42Z

    ARTEMIS-1089 Fixing Replication catchup slow

----

              </div></li><li><div>
                Commit 739dd82f31f7642f44e6c8cdd60967a07f33d71b in activemq-artemis's branch refs/heads/master from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=739dd82 ]

ARTEMIS-1089 Adding test for replication sync slow

              </div></li><li><div>
                Commit 0b62f698c3aaff5c109e625185332d2506afdaf4 in activemq-artemis's branch refs/heads/master from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=0b62f69 ]

ARTEMIS-1089 Fixing Replication catchup slow

              </div></li><li><div>
                Commit 7929fff893e1510390ae8e6a7924aa0e4f3864c0 in activemq-artemis's branch refs/heads/1.x from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=7929fff ]

ARTEMIS-1089 Fixing Replication catchup slow

              </div></li><li><div>
                GitHub user clebertsuconic opened a pull request:

    https://github.com/apache/activemq-artemis/pull/1171

    ARTEMIS-1089 Moving smoke tests under ./tests/smoke-tests

    This is moving the smoke tests creates as part of the relication tests.
    
    They are also now based on junit tests.
    
    And to support starting servers I am exposing basedir to unit tests in general.

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/clebertsuconic/activemq-artemis test

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq-artemis/pull/1171.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1171
    
----
commit 2473f133ddf92897e01df32d0376a137e11edae9
Author: Clebert Suconic &lt;clebertsuconic@apache.org&gt;
Date:   2017-04-05T00:20:56Z

    ARTEMIS-1089 Moving smoke tests under ./tests/smoke-tests
    
    This is moving the smoke tests creates as part of the relication tests.
    
    They are also now based on junit tests.
    
    And to support starting servers I am exposing basedir to unit tests in general.

----

              </div></li><li><div>
                Github user mtaylor commented on the issue:

    https://github.com/apache/activemq-artemis/pull/1168
  
    @clebertsuconic I've merged this.  Can you manually close please.

              </div></li><li><div>
                Github user mtaylor commented on the issue:

    https://github.com/apache/activemq-artemis/pull/1171
  
    @clebertsuconic thanks

              </div></li><li><div>
                Commit dd27fb587f1862b74dcf1c72115022351ca1ed67 in activemq-artemis's branch refs/heads/master from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=dd27fb5 ]

ARTEMIS-1089 Moving smoke tests under ./tests/smoke-tests

This is moving the smoke tests creates as part of the relication tests.

They are also now based on junit tests.

And to support starting servers I am exposing basedir to unit tests in general.

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/activemq-artemis/pull/1171

              </div></li><li><div>
                Github user clebertsuconic closed the pull request at:

    https://github.com/apache/activemq-artemis/pull/1168

              </div></li><li><div>
                GitHub user clebertsuconic opened a pull request:

    https://github.com/apache/activemq-artemis/pull/1174

    ARTEMIS-1089 Simplifying smoke tests

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/clebertsuconic/activemq-artemis test

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq-artemis/pull/1174.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1174
    
----
commit 4eabc89337565c6b342b00d7efc03090816ba67f
Author: Clebert Suconic &lt;clebertsuconic@apache.org&gt;
Date:   2017-04-05T14:25:28Z

    ARTEMIS-1089 Simplifying smoke tests

----

              </div></li><li><div>
                Commit c767e93bf53f4ed51f7d771a2e5183b25ff08bf7 in activemq-artemis's branch refs/heads/master from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=c767e93 ]

ARTEMIS-1089 Simplifying smoke tests

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/activemq-artemis/pull/1174

              </div></li><li><div>
                GitHub user clebertsuconic opened a pull request:

    https://github.com/apache/activemq-artemis/pull/1183

    ARTEMIS-1089 Improving flow control on replication

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/clebertsuconic/activemq-artemis replication

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq-artemis/pull/1183.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1183
    
----
commit 911888e8d19c98400a68f969b1c8f86bff51fa17
Author: Clebert Suconic &lt;clebertsuconic@apache.org&gt;
Date:   2017-04-06T15:47:31Z

    ARTEMIS-1089 Improving flow control on replication

----

              </div></li><li><div>
                Github user franz1981 commented on the issue:

    https://github.com/apache/activemq-artemis/pull/1183
  
    I've a similar issue to solve [ARTEMIS-1098](https://issues.apache.org/jira/browse/ARTEMIS-1098) but I'm trying to understand where is the best point where put the (connection) flow control management.
    For my use case it could be:
    1. "hidden" in the [ChannelImpl::send](https://github.com/apache/activemq-artemis/blob/177480d8684fe0ecffa597878e07fb17ffcb5b8c/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/protocol/core/impl/ChannelImpl.java#L306) for not batched writes (this will impact the streaming of large message AFAIK but maybe others use cases)
    2.  implement a new method ChannelImpl::sendControlled (or similar) that will perform flow controlled sends and will be called (right now) only by [ActiveMQSessionContext::sendLargeMessageChunk](https://github.com/apache/activemq-artemis/blob/177480d8684fe0ecffa597878e07fb17ffcb5b8c/artemis-core-client/src/main/java/org/apache/activemq/artemis/core/protocol/core/impl/ActiveMQSessionContext.java#L468) to reduce the impact on other use cases
    
    I'm not seeing (right now) other ways to do it, but I want to be consistent to what you've done here: do you have any suggestions?


              </div></li><li><div>
                Commit 911888e8d19c98400a68f969b1c8f86bff51fa17 in activemq-artemis's branch refs/heads/master from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=911888e ]

ARTEMIS-1089 Improving flow control on replication

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/activemq-artemis/pull/1183

              </div></li><li><div>
                Commit 8a4a307653d5cf64bb8c17e800406958791b4492 in activemq-artemis's branch refs/heads/1.x from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=8a4a307 ]

ARTEMIS-1089 Improving flow control on replication

(Cherry picked from 911888e8d19c98400a68f969b1c8f86bff51fa17)

              </div></li><li><div>
                Commit c30e7cd1da84e4d251ee83aeb52c1fb842f20690 in activemq-artemis's branch refs/heads/1.x from Clebert Suconic
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=c30e7cd ]

ARTEMIS-1089 fixing compilation

              </div></li><li><div>
                GitHub user franz1981 opened a pull request:

    https://github.com/apache/activemq-artemis/pull/1192

    ARTEMIS-1089 fixing compilation

    

You can merge this pull request into a Git repository by running:

    $ git pull https://github.com/franz1981/activemq-artemis fix_compilation_2

Alternatively you can review and apply these changes as the patch at:

    https://github.com/apache/activemq-artemis/pull/1192.patch

To close this pull request, make a commit to your master/trunk branch
with (at least) the following in the commit message:

    This closes #1192
    
----
commit a9fbd22fcb816b3c6082a257e127e1c489bf3e10
Author: Francesco Nigro &lt;nigro.fra@gmail.com&gt;
Date:   2017-04-11T05:30:06Z

    ARTEMIS-1089 fixing compilation

----

              </div></li><li><div>
                Commit a9fbd22fcb816b3c6082a257e127e1c489bf3e10 in activemq-artemis's branch refs/heads/1.x from [~nigro.fra@gmail.com]
[ https://git-wip-us.apache.org/repos/asf?p=activemq-artemis.git;h=a9fbd22 ]

ARTEMIS-1089 fixing compilation

              </div></li><li><div>
                Github user asfgit closed the pull request at:

    https://github.com/apache/activemq-artemis/pull/1192

              </div></li><li><div>
                Is this done?
              </div></li></ol></div></div></html>