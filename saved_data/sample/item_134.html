<!DOCTYPE html><html><div class="item-title">
        Item 134
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                *
   * This procedure enumerates all entries in the port mapper's database. The
   * procedure takes no parameters and returns a list of program, version,
   * protocol, and port values.
   
              </div></li><li><div>
                *
   * Given a program number "prog", version number "vers", and transport
   * protocol number "prot", this procedure returns the port number on which the
   * program is awaiting call requests. A port value of zeros means the program
   * has not been registered. The "port" field of the argument is ignored.
   
              </div></li><li><div>
                *
   * When a program first becomes available on a machine, it registers itself
   * with the port mapper program on the same machine. The program passes its
   * program number "prog", version number "vers", transport protocol number
   * "prot", and the port "port" on which it awaits service request. The
   * procedure returns a boolean reply whose value is "TRUE" if the procedure
   * successfully established the mapping and "FALSE" otherwise. The procedure
   * refuses to establish a mapping if one already exists for the tuple
   * "(prog, vers, prot)".
   
              </div></li><li><div>
                *
   * This procedure does no work. By convention, procedure zero of any protocol
   * takes no parameters and returns no results.
   
              </div></li><li><div>
                *
   * When a program becomes unavailable, it should unregister itself with the
   * port mapper program on the same machine. The parameters and results have
   * meanings identical to those of "PMAPPROC_SET". The protocol and port number
   * fields of the argument are ignored.
   
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> HDFS-5548. Merging change r1545759 from branch-2
                </div><div><b>message:</b> HDFS-5548. Merging change r1545759 from branch-2

git-svn-id: https://svn.apache.org/repos/asf/hadoop/common/branches/branch-2.2@1545761 13f79535-47bb-0310-9956-ffa450edef68

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>summary:</b> Use ConcurrentHashMap in portmap
                </div><div><b>description:</b> Portmap uses a HashMap to store the port mapping. It synchronizes the access of the hash map by locking itself. It can be simplified by using a ConcurrentHashMap.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12615193/HDFS-5548.000.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:red}-1 javadoc{color}.  The javadoc tool appears to have generated -2 warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:red}-1 core tests{color}.  The patch failed these unit tests in hadoop-common-project/hadoop-nfs:

                  org.apache.hadoop.portmap.TestPortmap

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5534//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5534//console

This message is automatically generated.
              </div></li><li><div>
                {color:red}-1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12615253/HDFS-5548.001.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:red}-1 eclipse:eclipse{color}.  The patch failed to build with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-nfs.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5537//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5537//console

This message is automatically generated.
              </div></li><li><div><div><b>body:</b> The patch looks good in general. For the removed log traces, we may want to keep them for the sake of debugging. 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                {color:green}+1 overall{color}.  Here are the results of testing the latest attachment 
  http://issues.apache.org/jira/secure/attachment/12615690/HDFS-5548.002.patch
  against trunk revision .

    {color:green}+1 @author{color}.  The patch does not contain any @author tags.

    {color:green}+1 tests included{color}.  The patch appears to include 1 new or modified test files.

    {color:green}+1 javac{color}.  The applied patch does not increase the total number of javac compiler warnings.

    {color:green}+1 javadoc{color}.  The javadoc tool did not generate any warning messages.

    {color:green}+1 eclipse:eclipse{color}.  The patch built with eclipse:eclipse.

    {color:green}+1 findbugs{color}.  The patch does not introduce any new Findbugs (version 1.3.9) warnings.

    {color:green}+1 release audit{color}.  The applied patch does not increase the total number of release audit warnings.

    {color:green}+1 core tests{color}.  The patch passed unit tests in hadoop-common-project/hadoop-nfs.

    {color:green}+1 contrib tests{color}.  The patch passed contrib unit tests.

Test results: https://builds.apache.org/job/PreCommit-HDFS-Build/5565//testReport/
Console output: https://builds.apache.org/job/PreCommit-HDFS-Build/5565//console

This message is automatically generated.
              </div></li><li><div>
                +1
              </div></li><li><div><div><b>body:</b> For some log level, DEBUG is better than TRACE to be consistent with those in other classes.  I will do the trivial change before commit.
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                I've committed the change. Thank you, Haohui, for the contribution!
              </div></li><li><div>
                Upload the committed patch, which has trivial difference with different debug level in a couple places.
              </div></li><li><div>
                SUCCESS: Integrated in Hadoop-trunk-Commit #4794 (See [https://builds.apache.org/job/Hadoop-trunk-Commit/4794/])
HDFS-5548. Use ConcurrentHashMap in portmap. Contributed by Haohui Mai (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1545756)
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapInterface.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapRequest.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/RpcProgramPortmap.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/test/java/org/apache/hadoop/portmap/TestPortmap.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt

              </div></li><li><div>
                FAILURE: Integrated in Hadoop-Yarn-trunk #404 (See [https://builds.apache.org/job/Hadoop-Yarn-trunk/404/])
HDFS-5548. Use ConcurrentHashMap in portmap. Contributed by Haohui Mai (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1545756)
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapInterface.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapRequest.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/RpcProgramPortmap.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/test/java/org/apache/hadoop/portmap/TestPortmap.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt

              </div></li><li><div>
                FAILURE: Integrated in Hadoop-Hdfs-trunk #1595 (See [https://builds.apache.org/job/Hadoop-Hdfs-trunk/1595/])
HDFS-5548. Use ConcurrentHashMap in portmap. Contributed by Haohui Mai (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1545756)
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapInterface.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapRequest.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/RpcProgramPortmap.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/test/java/org/apache/hadoop/portmap/TestPortmap.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt

              </div></li><li><div>
                FAILURE: Integrated in Hadoop-Mapreduce-trunk #1621 (See [https://builds.apache.org/job/Hadoop-Mapreduce-trunk/1621/])
HDFS-5548. Use ConcurrentHashMap in portmap. Contributed by Haohui Mai (brandonli: http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;view=rev&amp;rev=1545756)
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapInterface.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/PortmapRequest.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/main/java/org/apache/hadoop/portmap/RpcProgramPortmap.java
* /hadoop/common/trunk/hadoop-common-project/hadoop-nfs/src/test/java/org/apache/hadoop/portmap/TestPortmap.java
* /hadoop/common/trunk/hadoop-hdfs-project/hadoop-hdfs/CHANGES.txt

              </div></li></ol></div></div></html>