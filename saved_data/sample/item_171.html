<!DOCTYPE html><html><div class="item-title">
        Item 171
      </div> <div class="item-details"><div><b>git_comments:</b> <ol><li><div>
                !
 * \brief Check weather the two expressions are equal or not, if not simplify the expressions and check again
 * \note This is stronger equality check than tvm::ir::Equal
 *
 * \param lhs First expreesion
 * \param rhs Second expreesion
 *
 * \return result True if both expressions are equal, else false
 
              </div></li></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> Added equality check and upgraded concatenate op (#1172)
                </div><div><b>message:</b> Added equality check and upgraded concatenate op (#1172)


                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [TOPI] Better Equality Checking
                </div><div><b>body:</b> Currently TOPI relies on several functions to check equality constraint that are not in particularly general and produces problems in cases like concatenate #1078 #1024 

We need to solve this issue, there are two orthogonal ways

- [ ] Upgrade concatenate to simplify its output expression, so that it won't have composed sum
- [ ] Define a stronger version of topi::EqualCheck that first calls ir::Equal, if failed, do CanonicalSimplify(x - y) and check if result equals 0
- [ ] Add regression test cases to prevent that from happening



                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div>
                @PariksheetPinjari909 Are you interested in help on this?
              </div></li><li><div>
                @PariksheetPinjari909 can you verify if the case still exists, if so apply the listed fixes?
              </div></li><li><div>
                Sorry, i missed your comment. Of course i will be interested in working on this. Yes the issue still exist and we need one of the solution provided by you above. What i feel is we can simplify the output expression there itself in concatenate operation. Could you throw more light on 3rd point of regression test. In the mean time i will prepare the PR for concatenate op upgrade.
              </div></li><li><div><div><b>body:</b> by regression test I mean build a testcase that fails in current master but can be fixed in the patch. 
                </div><div><b>label:</b> test
                </div></div></li><li><div><div><b>body:</b> Both the issues #1078 #1024 are caused in CPP code. When i tested it on python equivalent, it passed fine. But keeping consistency in mind, i suggest we should make changes in both cpp and python concatenate function to simplify expression. What are your views on this @tqchen ?
                </div><div><b>label:</b> code-design
                </div></div></li><li><div>
                sound sgood, we should also add a stronger version of EqualCheck in C++
              </div></li></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> Added equality check and upgraded concatenate op
                </div><div><b>body:</b> This PR solves the issues referred in #1106. 
                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div>
                add \note This is a stronger check than tvm::ir::Equal
              </div></li></ol></div><div><b>jira_issues:</b> <ol></ol></div><div><b>jira_issues_comments:</b> <ol></ol></div></div></html>