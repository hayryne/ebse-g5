<!DOCTYPE html><html><div class="item-title">
        Item 206
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> ARROW-5612: [Python][Doc] Add prominent note that date_as_object option changed with Arrow 0.13
                </div><div><b>message:</b> ARROW-5612: [Python][Doc] Add prominent note that date_as_object option changed with Arrow 0.13

Adding small documentation on bits on the pandas integration documentation. It relates to #4363
Not sure if the wording is correct.

Author: Miguel Cabrera &lt;mcabrera@newyorker.de&gt;
Author: Miguel Cabrera &lt;mfcabrera@gmail.com&gt;
Author: Wes McKinney &lt;wesm+git@apache.org&gt;

Closes #4381 from mfcabrera/improve-pandas-doc and squashes the following commits:

b6ed4ed62 &lt;Wes McKinney&gt; Add notes about date_as_object default value change
f65178f9e &lt;Miguel Cabrera&gt; Small fix s/was/is/
16b553084 &lt;Miguel Cabrera&gt; Document to_pandas behaviour before 0.13 and add extra pd related info

                </div></div></li></ol></div><div><b>github_issues:</b> <ol><li><div><div><b>title:</b> parquet to pandas date type convention question
                </div><div><b>body:</b> I am not sure if this is a bug or an specification change. My technical knowledge of Parquet and Arrow is not the best but I am happy to provide more info if any. 

I have a parque file with dates in one column. Using Pyarrow version 0.11.1 when I deserialized that into Pandas DataFrame (via pd.read_parquet) I get a type but when I use version 0.13.x I get a different type. I am aware this might be an specification change but I want to double check. 

With the v 0.11.1 I get

```
In [5]: df.Week.dtype
Out[5]: dtype('&lt;M8[ns]')
```
Numpy type datetime64. This allows me to do string based slicing right away without further convertion. 

i.e. :  `df["Week"] &gt; "2018"`


with 0.13 I get an object (`dtype('O')`) with `datetime.date` objects inside (as per the specification) , which will fail if I want to any time of slicing above.  I have to transform it beforehand (` df["Week"] =  pd.to_datetime(df["Week"])`) 

So the question is why not straight away convert to numpy types and avoid the conversion afterwards? 


pyarrow==0.13.0
Python 3.6.8 (Anaconda)

                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> parquet to pandas date type convention question
                </div><div><b>body:</b> I am not sure if this is a bug or an specification change. My technical knowledge of Parquet and Arrow is not the best but I am happy to provide more info if any. 

I have a parque file with dates in one column. Using Pyarrow version 0.11.1 when I deserialized that into Pandas DataFrame (via pd.read_parquet) I get a type but when I use version 0.13.x I get a different type. I am aware this might be an specification change but I want to double check. 

With the v 0.11.1 I get

```
In [5]: df.Week.dtype
Out[5]: dtype('&lt;M8[ns]')
```
Numpy type datetime64. This allows me to do string based slicing right away without further convertion. 

i.e. :  `df["Week"] &gt; "2018"`


with 0.13 I get an object (`dtype('O')`) with `datetime.date` objects inside (as per the specification) , which will fail if I want to any time of slicing above.  I have to transform it beforehand (` df["Week"] =  pd.to_datetime(df["Week"])`) 

So the question is why not straight away convert to numpy types and avoid the conversion afterwards? 


pyarrow==0.13.0
Python 3.6.8 (Anaconda)

                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>title:</b> parquet to pandas date type convention question
                </div><div><b>body:</b> I am not sure if this is a bug or an specification change. My technical knowledge of Parquet and Arrow is not the best but I am happy to provide more info if any. 

I have a parque file with dates in one column. Using Pyarrow version 0.11.1 when I deserialized that into Pandas DataFrame (via pd.read_parquet) I get a type but when I use version 0.13.x I get a different type. I am aware this might be an specification change but I want to double check. 

With the v 0.11.1 I get

```
In [5]: df.Week.dtype
Out[5]: dtype('&lt;M8[ns]')
```
Numpy type datetime64. This allows me to do string based slicing right away without further convertion. 

i.e. :  `df["Week"] &gt; "2018"`


with 0.13 I get an object (`dtype('O')`) with `datetime.date` objects inside (as per the specification) , which will fail if I want to any time of slicing above.  I have to transform it beforehand (` df["Week"] =  pd.to_datetime(df["Week"])`) 

So the question is why not straight away convert to numpy types and avoid the conversion afterwards? 


pyarrow==0.13.0
Python 3.6.8 (Anaconda)

                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>title:</b> parquet to pandas date type convention question
                </div><div><b>body:</b> I am not sure if this is a bug or an specification change. My technical knowledge of Parquet and Arrow is not the best but I am happy to provide more info if any. 

I have a parque file with dates in one column. Using Pyarrow version 0.11.1 when I deserialized that into Pandas DataFrame (via pd.read_parquet) I get a type but when I use version 0.13.x I get a different type. I am aware this might be an specification change but I want to double check. 

With the v 0.11.1 I get

```
In [5]: df.Week.dtype
Out[5]: dtype('&lt;M8[ns]')
```
Numpy type datetime64. This allows me to do string based slicing right away without further convertion. 

i.e. :  `df["Week"] &gt; "2018"`


with 0.13 I get an object (`dtype('O')`) with `datetime.date` objects inside (as per the specification) , which will fail if I want to any time of slicing above.  I have to transform it beforehand (` df["Week"] =  pd.to_datetime(df["Week"])`) 

So the question is why not straight away convert to numpy types and avoid the conversion afterwards? 


pyarrow==0.13.0
Python 3.6.8 (Anaconda)

                </div></div></li><li><div><div><b>title:</b> parquet to pandas date type convention question
                </div><div><b>body:</b> I am not sure if this is a bug or an specification change. My technical knowledge of Parquet and Arrow is not the best but I am happy to provide more info if any. 

I have a parque file with dates in one column. Using Pyarrow version 0.11.1 when I deserialized that into Pandas DataFrame (via pd.read_parquet) I get a type but when I use version 0.13.x I get a different type. I am aware this might be an specification change but I want to double check. 

With the v 0.11.1 I get

```
In [5]: df.Week.dtype
Out[5]: dtype('&lt;M8[ns]')
```
Numpy type datetime64. This allows me to do string based slicing right away without further convertion. 

i.e. :  `df["Week"] &gt; "2018"`


with 0.13 I get an object (`dtype('O')`) with `datetime.date` objects inside (as per the specification) , which will fail if I want to any time of slicing above.  I have to transform it beforehand (` df["Week"] =  pd.to_datetime(df["Week"])`) 

So the question is why not straight away convert to numpy types and avoid the conversion afterwards? 


pyarrow==0.13.0
Python 3.6.8 (Anaconda)

                </div></div></li></ol></div><div><b>github_issues_comments:</b> <ol><li><div><div><b>body:</b> I noticed that this has to do with ARROW-3910 #3272 and I think I now understand why it was done. Still for one-way users (not interested in the roundtrip) this might be annoying but adding an extra line might not be the worst thing to do. 
                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>body:</b> Would you like to contribute something to the documentation, or open a JIRA about improving the documentation?

cc @jorisvandenbossche @nealrichardson 
                </div><div><b>label:</b> documentation
                </div></div></li><li><div><div><b>body:</b> @wesm I added a bit of documentation on the pandas integration doc. I hope that's enough/relevant. 
                </div><div><b>label:</b> documentation
                </div></div></li></ol></div><div><b>github_pulls:</b> <ol></ol></div><div><b>github_pulls_comments:</b> <ol></ol></div><div><b>github_pulls_reviews:</b> <ol></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> [Python][Documentation] Clarify date_as_object option behavior
                </div><div><b>description:</b> 
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Issue resolved by pull request 4381
[https://github.com/apache/arrow/pull/4381]
              </div></li></ol></div></div></html>