<!DOCTYPE html><html><div class="item-title">
        Item 294
      </div> <div class="item-details"><div><b>git_comments:</b> <ol></ol></div><div><b>git_commits:</b> <ol><li><div><div><b>summary:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>message:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema

[GOBBLIN-198] Implement configuration to disable
switching the Kafka topic's and Avro schema's
names before registering schema

Fix FindBugs for LiKafkaSchemaRegistry and use
getPropAsBoolean

Closes #2056 from jenniferzheng/master

                </div></div></li></ol></div><div><b>github_issues:</b> <ol></ol></div><div><b>github_issues_comments:</b> <ol></ol></div><div><b>github_pulls:</b> <ol><li><div><div><b>title:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>body:</b> Dear Gobblin maintainers,

Please accept this PR. I understand that it will not be reviewed until I have checked off all the steps below!


### JIRA
- [x] My PR addresses the following [Gobblin JIRA](https://issues.apache.org/jira/browse/GOBBLIN/) issues and references them in the PR title. For example, "[GOBBLIN-XXX] My Gobblin PR"
    - https://issues.apache.org/jira/browse/GOBBLIN-198


### Description
- [x] Here are some details about my PR, including screenshots (if applicable):

Currently, LiKafkaSchemaRegistry switches the Avro schema name with the Kafka topic name before registering the schema. However, this will result in an incorrectly named schema if the name of the schema stored in Kafka does not match the topic name. Add optional Kafka configuration keys to set if the names should be switched before registering the schema.

If the following configurations are set to false, then the names will not be switched. An additional parameter will also be added to the Post request for registering the schema to specify the Kafka topic name. This is due to Kafka using the Avro schema name by default to register the schema.

- writer.kafka.producerConfig.kafka.schemaRegistry.switchName: Used when LiKafkaSchemaRegistry is constructed to publish to Kafka

- kafka.schemaRegistry.switchName: Used when default LiKafkaSchemaRegistry is constructed


### Tests
- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:
Integration testing done on registering and publishing to a Kafka topic where the topic name and schema name do not match. 

### Commits
- [x] My commits all reference JIRA issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from "[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)":
    1. Subject is separated from body by a blank line
    2. Subject is limited to 50 characters
    3. Subject does not end with a period
    4. Subject uses the imperative mood ("add", not "adding")
    5. Body wraps at 72 characters
    6. Body explains "what" and "why", not "how"


                </div></div></li><li><div><div><b>title:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>body:</b> Dear Gobblin maintainers,

Please accept this PR. I understand that it will not be reviewed until I have checked off all the steps below!


### JIRA
- [x] My PR addresses the following [Gobblin JIRA](https://issues.apache.org/jira/browse/GOBBLIN/) issues and references them in the PR title. For example, "[GOBBLIN-XXX] My Gobblin PR"
    - https://issues.apache.org/jira/browse/GOBBLIN-198


### Description
- [x] Here are some details about my PR, including screenshots (if applicable):

Currently, LiKafkaSchemaRegistry switches the Avro schema name with the Kafka topic name before registering the schema. However, this will result in an incorrectly named schema if the name of the schema stored in Kafka does not match the topic name. Add optional Kafka configuration keys to set if the names should be switched before registering the schema.

If the following configurations are set to false, then the names will not be switched. An additional parameter will also be added to the Post request for registering the schema to specify the Kafka topic name. This is due to Kafka using the Avro schema name by default to register the schema.

- writer.kafka.producerConfig.kafka.schemaRegistry.switchName: Used when LiKafkaSchemaRegistry is constructed to publish to Kafka

- kafka.schemaRegistry.switchName: Used when default LiKafkaSchemaRegistry is constructed


### Tests
- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:
Integration testing done on registering and publishing to a Kafka topic where the topic name and schema name do not match. 

### Commits
- [x] My commits all reference JIRA issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from "[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)":
    1. Subject is separated from body by a blank line
    2. Subject is limited to 50 characters
    3. Subject does not end with a period
    4. Subject uses the imperative mood ("add", not "adding")
    5. Body wraps at 72 characters
    6. Body explains "what" and "why", not "how"


                </div></div></li><li><div><div><b>title:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>body:</b> Dear Gobblin maintainers,

Please accept this PR. I understand that it will not be reviewed until I have checked off all the steps below!


### JIRA
- [x] My PR addresses the following [Gobblin JIRA](https://issues.apache.org/jira/browse/GOBBLIN/) issues and references them in the PR title. For example, "[GOBBLIN-XXX] My Gobblin PR"
    - https://issues.apache.org/jira/browse/GOBBLIN-198


### Description
- [x] Here are some details about my PR, including screenshots (if applicable):

Currently, LiKafkaSchemaRegistry switches the Avro schema name with the Kafka topic name before registering the schema. However, this will result in an incorrectly named schema if the name of the schema stored in Kafka does not match the topic name. Add optional Kafka configuration keys to set if the names should be switched before registering the schema.

If the following configurations are set to false, then the names will not be switched. An additional parameter will also be added to the Post request for registering the schema to specify the Kafka topic name. This is due to Kafka using the Avro schema name by default to register the schema.

- writer.kafka.producerConfig.kafka.schemaRegistry.switchName: Used when LiKafkaSchemaRegistry is constructed to publish to Kafka

- kafka.schemaRegistry.switchName: Used when default LiKafkaSchemaRegistry is constructed


### Tests
- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:
Integration testing done on registering and publishing to a Kafka topic where the topic name and schema name do not match. 

### Commits
- [x] My commits all reference JIRA issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from "[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)":
    1. Subject is separated from body by a blank line
    2. Subject is limited to 50 characters
    3. Subject does not end with a period
    4. Subject uses the imperative mood ("add", not "adding")
    5. Body wraps at 72 characters
    6. Body explains "what" and "why", not "how"


                </div><div><b>label:</b> code-design
                </div></div></li><li><div><div><b>title:</b> [GOBBLIN-198] Implement configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>body:</b> Dear Gobblin maintainers,

Please accept this PR. I understand that it will not be reviewed until I have checked off all the steps below!


### JIRA
- [x] My PR addresses the following [Gobblin JIRA](https://issues.apache.org/jira/browse/GOBBLIN/) issues and references them in the PR title. For example, "[GOBBLIN-XXX] My Gobblin PR"
    - https://issues.apache.org/jira/browse/GOBBLIN-198


### Description
- [x] Here are some details about my PR, including screenshots (if applicable):

Currently, LiKafkaSchemaRegistry switches the Avro schema name with the Kafka topic name before registering the schema. However, this will result in an incorrectly named schema if the name of the schema stored in Kafka does not match the topic name. Add optional Kafka configuration keys to set if the names should be switched before registering the schema.

If the following configurations are set to false, then the names will not be switched. An additional parameter will also be added to the Post request for registering the schema to specify the Kafka topic name. This is due to Kafka using the Avro schema name by default to register the schema.

- writer.kafka.producerConfig.kafka.schemaRegistry.switchName: Used when LiKafkaSchemaRegistry is constructed to publish to Kafka

- kafka.schemaRegistry.switchName: Used when default LiKafkaSchemaRegistry is constructed


### Tests
- [x] My PR adds the following unit tests __OR__ does not need testing for this extremely good reason:
Integration testing done on registering and publishing to a Kafka topic where the topic name and schema name do not match. 

### Commits
- [x] My commits all reference JIRA issues in their subject lines, and I have squashed multiple commits if they address the same issue. In addition, my commits follow the guidelines from "[How to write a good git commit message](http://chris.beams.io/posts/git-commit/)":
    1. Subject is separated from body by a blank line
    2. Subject is limited to 50 characters
    3. Subject does not end with a period
    4. Subject uses the imperative mood ("add", not "adding")
    5. Body wraps at 72 characters
    6. Body explains "what" and "why", not "how"


                </div></div></li></ol></div><div><b>github_pulls_comments:</b> <ol><li><div>
                Thanks for the changes. PR Merged.
              </div></li></ol></div><div><b>github_pulls_reviews:</b> <ol><li><div><div><b>body:</b> nit: you should be able to use PropertiesUtils.getPropAsBoolean()
                </div><div><b>label:</b> code-design
                </div></div></li></ol></div><div><b>jira_issues:</b> <ol><li><div><div><b>summary:</b> Configuration to disable switching the Kafka topic's and Avro schema's names before registering schema
                </div><div><b>description:</b> Currently, LiKafkaSchemaRegistry switches the Avro schema name with the Kafka topic name before registering the schema. However, this will result in an incorrectly named schema if the name of the schema stored in Kafka does not match the topic name. Add an optional Kafka Schema Registry Configuration Key to set if the names should be switched before registering the schema.
If the configuration is set to false, then the names will not be switched. An additional parameter will also be added to the Post request for registering the schema to specify the Kafka topic name. This is due to Kafka using the Avro schema name by default to register the schema.
                </div></div></li></ol></div><div><b>jira_issues_comments:</b> <ol><li><div>
                Issue resolved by pull request #2056
[https://github.com/apache/incubator-gobblin/pull/2056]
              </div></li></ol></div></div></html>